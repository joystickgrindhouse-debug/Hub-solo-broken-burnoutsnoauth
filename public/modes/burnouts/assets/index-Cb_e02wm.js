function HA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function O4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gm={exports:{}},Yu={},Wm={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function GA(){if(Sv)return be;Sv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function F(O,G,ge){this.props=O,this.context=G,this.refs=$,this.updater=ge||b}F.prototype.isReactComponent={},F.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=F.prototype;function ee(O,G,ge){this.props=O,this.context=G,this.refs=$,this.updater=ge||b}var le=ee.prototype=new te;le.constructor=ee,j(le,F.prototype),le.isPureReactComponent=!0;var Te=Array.isArray,ze=Object.prototype.hasOwnProperty,Ce={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(O,G,ge){var xe,De={},Ue=null,qe=null;if(G!=null)for(xe in G.ref!==void 0&&(qe=G.ref),G.key!==void 0&&(Ue=""+G.key),G)ze.call(G,xe)&&!P.hasOwnProperty(xe)&&(De[xe]=G[xe]);var Ke=arguments.length-2;if(Ke===1)De.children=ge;else if(1<Ke){for(var nt=Array(Ke),Qt=0;Qt<Ke;Qt++)nt[Qt]=arguments[Qt+2];De.children=nt}if(O&&O.defaultProps)for(xe in Ke=O.defaultProps,Ke)De[xe]===void 0&&(De[xe]=Ke[xe]);return{$$typeof:t,type:O,key:Ue,ref:qe,props:De,_owner:Ce.current}}function R(O,G){return{$$typeof:t,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function D(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return G[ge]})}var L=/\/+/g;function k(O,G){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):G.toString(36)}function At(O,G,ge,xe,De){var Ue=typeof O;(Ue==="undefined"||Ue==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(Ue){case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case t:case e:qe=!0}}if(qe)return qe=O,De=De(qe),O=xe===""?"."+k(qe,0):xe,Te(De)?(ge="",O!=null&&(ge=O.replace(L,"$&/")+"/"),At(De,G,ge,"",function(Qt){return Qt})):De!=null&&(x(De)&&(De=R(De,ge+(!De.key||qe&&qe.key===De.key?"":(""+De.key).replace(L,"$&/")+"/")+O)),G.push(De)),1;if(qe=0,xe=xe===""?".":xe+":",Te(O))for(var Ke=0;Ke<O.length;Ke++){Ue=O[Ke];var nt=xe+k(Ue,Ke);qe+=At(Ue,G,ge,nt,De)}else if(nt=I(O),typeof nt=="function")for(O=nt.call(O),Ke=0;!(Ue=O.next()).done;)Ue=Ue.value,nt=xe+k(Ue,Ke++),qe+=At(Ue,G,ge,nt,De);else if(Ue==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return qe}function cn(O,G,ge){if(O==null)return O;var xe=[],De=0;return At(O,xe,"","",function(Ue){return G.call(ge,Ue,De++)}),xe}function hn(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Ze={current:null},Z={transition:null},ve={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Ce};function ie(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:cn,forEach:function(O,G,ge){cn(O,function(){G.apply(this,arguments)},ge)},count:function(O){var G=0;return cn(O,function(){G++}),G},toArray:function(O){return cn(O,function(G){return G})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=F,be.Fragment=n,be.Profiler=s,be.PureComponent=ee,be.StrictMode=r,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,be.act=ie,be.cloneElement=function(O,G,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var xe=j({},O.props),De=O.key,Ue=O.ref,qe=O._owner;if(G!=null){if(G.ref!==void 0&&(Ue=G.ref,qe=Ce.current),G.key!==void 0&&(De=""+G.key),O.type&&O.type.defaultProps)var Ke=O.type.defaultProps;for(nt in G)ze.call(G,nt)&&!P.hasOwnProperty(nt)&&(xe[nt]=G[nt]===void 0&&Ke!==void 0?Ke[nt]:G[nt])}var nt=arguments.length-2;if(nt===1)xe.children=ge;else if(1<nt){Ke=Array(nt);for(var Qt=0;Qt<nt;Qt++)Ke[Qt]=arguments[Qt+2];xe.children=Ke}return{$$typeof:t,type:O.type,key:De,ref:Ue,props:xe,_owner:qe}},be.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},be.createElement=S,be.createFactory=function(O){var G=S.bind(null,O);return G.type=O,G},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:d,render:O}},be.isValidElement=x,be.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:hn}},be.memo=function(O,G){return{$$typeof:y,type:O,compare:G===void 0?null:G}},be.startTransition=function(O){var G=Z.transition;Z.transition={};try{O()}finally{Z.transition=G}},be.unstable_act=ie,be.useCallback=function(O,G){return Ze.current.useCallback(O,G)},be.useContext=function(O){return Ze.current.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O){return Ze.current.useDeferredValue(O)},be.useEffect=function(O,G){return Ze.current.useEffect(O,G)},be.useId=function(){return Ze.current.useId()},be.useImperativeHandle=function(O,G,ge){return Ze.current.useImperativeHandle(O,G,ge)},be.useInsertionEffect=function(O,G){return Ze.current.useInsertionEffect(O,G)},be.useLayoutEffect=function(O,G){return Ze.current.useLayoutEffect(O,G)},be.useMemo=function(O,G){return Ze.current.useMemo(O,G)},be.useReducer=function(O,G,ge){return Ze.current.useReducer(O,G,ge)},be.useRef=function(O){return Ze.current.useRef(O)},be.useState=function(O){return Ze.current.useState(O)},be.useSyncExternalStore=function(O,G,ge){return Ze.current.useSyncExternalStore(O,G,ge)},be.useTransition=function(){return Ze.current.useTransition()},be.version="18.3.1",be}var Av;function T1(){return Av||(Av=1,Wm.exports=GA()),Wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function WA(){if(kv)return Yu;kv=1;var t=T1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,y){var _,w={},I=null,b=null;y!==void 0&&(I=""+y),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(b=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:I,ref:b,props:w,_owner:s.current}}return Yu.Fragment=n,Yu.jsx=u,Yu.jsxs=u,Yu}var Rv;function qA(){return Rv||(Rv=1,Gm.exports=WA()),Gm.exports}var Pe=qA(),J=T1();const L4=O4(J),KA=HA({__proto__:null,default:L4},[J]);var dd={},qm={exports:{}},Un={},Km={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function QA(){return Cv||(Cv=1,(function(t){function e(Z,ve){var ie=Z.length;Z.push(ve);e:for(;0<ie;){var O=ie-1>>>1,G=Z[O];if(0<s(G,ve))Z[O]=ve,Z[ie]=G,ie=O;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ve=Z[0],ie=Z.pop();if(ie!==ve){Z[0]=ie;e:for(var O=0,G=Z.length,ge=G>>>1;O<ge;){var xe=2*(O+1)-1,De=Z[xe],Ue=xe+1,qe=Z[Ue];if(0>s(De,ie))Ue<G&&0>s(qe,De)?(Z[O]=qe,Z[Ue]=ie,O=Ue):(Z[O]=De,Z[xe]=ie,O=xe);else if(Ue<G&&0>s(qe,ie))Z[O]=qe,Z[Ue]=ie,O=Ue;else break e}}return ve}function s(Z,ve){var ie=Z.sortIndex-ve.sortIndex;return ie!==0?ie:Z.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],y=[],_=1,w=null,I=3,b=!1,j=!1,$=!1,F=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(Z){for(var ve=n(y);ve!==null;){if(ve.callback===null)r(y);else if(ve.startTime<=Z)r(y),ve.sortIndex=ve.expirationTime,e(f,ve);else break;ve=n(y)}}function Te(Z){if($=!1,le(Z),!j)if(n(f)!==null)j=!0,hn(ze);else{var ve=n(y);ve!==null&&Ze(Te,ve.startTime-Z)}}function ze(Z,ve){j=!1,$&&($=!1,te(S),S=-1),b=!0;var ie=I;try{for(le(ve),w=n(f);w!==null&&(!(w.expirationTime>ve)||Z&&!D());){var O=w.callback;if(typeof O=="function"){w.callback=null,I=w.priorityLevel;var G=O(w.expirationTime<=ve);ve=t.unstable_now(),typeof G=="function"?w.callback=G:w===n(f)&&r(f),le(ve)}else r(f);w=n(f)}if(w!==null)var ge=!0;else{var xe=n(y);xe!==null&&Ze(Te,xe.startTime-ve),ge=!1}return ge}finally{w=null,I=ie,b=!1}}var Ce=!1,P=null,S=-1,R=5,x=-1;function D(){return!(t.unstable_now()-x<R)}function L(){if(P!==null){var Z=t.unstable_now();x=Z;var ve=!0;try{ve=P(!0,Z)}finally{ve?k():(Ce=!1,P=null)}}else Ce=!1}var k;if(typeof ee=="function")k=function(){ee(L)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,cn=At.port2;At.port1.onmessage=L,k=function(){cn.postMessage(null)}}else k=function(){F(L,0)};function hn(Z){P=Z,Ce||(Ce=!0,k())}function Ze(Z,ve){S=F(function(){Z(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,hn(ze))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(I){case 1:case 2:case 3:var ve=3;break;default:ve=I}var ie=I;I=ve;try{return Z()}finally{I=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ve){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=I;I=Z;try{return ve()}finally{I=ie}},t.unstable_scheduleCallback=function(Z,ve,ie){var O=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?O+ie:O):ie=O,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,Z={id:_++,callback:ve,priorityLevel:Z,startTime:ie,expirationTime:G,sortIndex:-1},ie>O?(Z.sortIndex=ie,e(y,Z),n(f)===null&&Z===n(y)&&($?(te(S),S=-1):$=!0,Ze(Te,ie-O))):(Z.sortIndex=G,e(f,Z),j||b||(j=!0,hn(ze))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var ve=I;return function(){var ie=I;I=ve;try{return Z.apply(this,arguments)}finally{I=ie}}}})(Qm)),Qm}var Pv;function XA(){return Pv||(Pv=1,Km.exports=QA()),Km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function YA(){if(xv)return Un;xv=1;var t=T1(),e=XA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function I(i){return f.call(w,i)?!0:f.call(_,i)?!1:y.test(i)?w[i]=!0:(_[i]=!0,!1)}function b(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,o,l,h){if(o===null||typeof o>"u"||b(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function $(i,o,l,h,p,g,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=g,this.removeEmptyString=E}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){F[i]=new $(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];F[o]=new $(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){F[i]=new $(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){F[i]=new $(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){F[i]=new $(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){F[i]=new $(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){F[i]=new $(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){F[i]=new $(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){F[i]=new $(i,5,!1,i.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function ee(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(te,ee);F[o]=new $(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(te,ee);F[o]=new $(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(te,ee);F[o]=new $(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){F[i]=new $(i,1,!1,i.toLowerCase(),null,!1,!1)}),F.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){F[i]=new $(i,1,!1,i.toLowerCase(),null,!0,!0)});function le(i,o,l,h){var p=F.hasOwnProperty(o)?F[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,l,p,h)&&(l=null),h||p===null?I(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var Te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),cn=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Ze=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ve(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,O;function G(i){if(O===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+i}var ge=!1;function xe(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(B){var h=B}Reflect.construct(i,[],o)}else{try{o.call()}catch(B){h=B}i.call(o.prototype)}else{try{throw Error()}catch(B){h=B}i()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var p=B.stack.split(`
`),g=h.stack.split(`
`),E=p.length-1,A=g.length-1;1<=E&&0<=A&&p[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==g[A]){var C=`
`+p[E].replace(" at new "," at ");return i.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",i.displayName)),C}while(1<=E&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function De(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case Ce:return"Portal";case R:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case At:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case cn:return o=i.displayName||null,o!==null?o:Ue(i.type)||"Memo";case hn:o=i._payload,i=i._init;try{return Ue(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ke(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qt(i){var o=nt(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ci(i){i._valueTracker||(i._valueTracker=Qt(i))}function ma(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=nt(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function us(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function go(i,o){var l=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ga(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ke(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ru(i,o){o=o.checked,o!=null&&le(i,"checked",o,!1)}function iu(i,o){ru(i,o);var l=Ke(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ya(i,o.type,l):o.hasOwnProperty("defaultValue")&&ya(i,o.type,Ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Yc(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ya(i,o,l){(o!=="number"||us(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Pi=Array.isArray;function xi(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ke(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function su(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function va(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Pi(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ke(l)}}function _a(i,o){var l=Ke(o.value),h=Ke(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ou(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ut(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ut(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ni,au=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ni.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function cs(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(i){vo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),yo[o]=yo[i]})});function lu(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||yo.hasOwnProperty(i)&&yo[i]?(""+o).trim():o+"px"}function uu(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=lu(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var cu=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hu(i,o){if(o){if(cu[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function du(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=null;function Ea(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wa=null,cr=null,Zr=null;function Ta(i){if(i=Vu(i)){if(typeof wa!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Rh(o),wa(i.stateNode,i.type,o))}}function ei(i){cr?Zr?Zr.push(i):Zr=[i]:cr=i}function fu(){if(cr){var i=cr,o=Zr;if(Zr=cr=null,Ta(i),o)for(i=0;i<o.length;i++)Ta(o[i])}}function Eo(i,o){return i(o)}function pu(){}var Di=!1;function mu(i,o,l){if(Di)return i(o,l);Di=!0;try{return Eo(i,o,l)}finally{Di=!1,(cr!==null||Zr!==null)&&(pu(),fu())}}function kt(i,o){var l=i.stateNode;if(l===null)return null;var h=Rh(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Ia=!1;if(d)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Ia=!1}function wo(i,o,l,h,p,g,E,A,C){var B=Array.prototype.slice.call(arguments,3);try{o.apply(l,B)}catch(K){this.onError(K)}}var To=!1,Sa=null,Nr=!1,gu=null,_p={onError:function(i){To=!0,Sa=i}};function Aa(i,o,l,h,p,g,E,A,C){To=!1,Sa=null,wo.apply(_p,arguments)}function Jc(i,o,l,h,p,g,E,A,C){if(Aa.apply(this,arguments),To){if(To){var B=Sa;To=!1,Sa=null}else throw Error(n(198));Nr||(Nr=!0,gu=B)}}function Dr(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Io(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function br(i){if(Dr(i)!==i)throw Error(n(188))}function Zc(i){var o=i.alternate;if(!o){if(o=Dr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return br(p),i;if(g===h)return br(p),o;g=g.sibling}throw Error(n(188))}if(l.return!==h.return)l=p,h=g;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,h=g;break}if(A===h){E=!0,h=p,l=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===l){E=!0,l=g,h=p;break}if(A===h){E=!0,h=g,l=p;break}A=A.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function yu(i){return i=Zc(i),i!==null?ka(i):null}function ka(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ka(i);if(o!==null)return o;i=i.sibling}return null}var Ra=e.unstable_scheduleCallback,vu=e.unstable_cancelCallback,eh=e.unstable_shouldYield,Ep=e.unstable_requestPaint,rt=e.unstable_now,th=e.unstable_getCurrentPriorityLevel,So=e.unstable_ImmediatePriority,hs=e.unstable_UserBlockingPriority,hr=e.unstable_NormalPriority,_u=e.unstable_LowPriority,nh=e.unstable_IdlePriority,Ao=null,qn=null;function rh(i){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Ao,i,void 0,(i.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:sh,Eu=Math.log,ih=Math.LN2;function sh(i){return i>>>=0,i===0?32:31-(Eu(i)/ih|0)|0}var Ca=64,Pa=4194304;function ds(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ko(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,g=i.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?h=ds(A):(g&=E,g!==0&&(h=ds(g)))}else E=l&~p,E!==0?h=ds(E):g!==0&&(h=ds(g));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,g=o&-o,p>=g||p===16&&(g&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Tn(o),p=1<<l,h|=i[l],o&=~p;return h}function wp(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes;0<g;){var E=31-Tn(g),A=1<<E,C=p[E];C===-1?((A&l)===0||(A&h)!==0)&&(p[E]=wp(A,o)):C<=o&&(i.expiredLanes|=A),g&=~A}}function Kn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ro(){var i=Ca;return Ca<<=1,(Ca&4194240)===0&&(Ca=64),i}function fs(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ps(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Tn(o),i[o]=l}function et(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Tn(l),g=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~g}}function ms(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Tn(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var Me=0;function gs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var oh,xa,ah,lh,uh,wu=!1,ti=[],nn=null,Or=null,Lr=null,ys=new Map,dr=new Map,ni=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(i,o){switch(i){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ys.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(o.pointerId)}}function Dn(i,o,l,h,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},o!==null&&(o=Vu(o),o!==null&&xa(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Ip(i,o,l,h,p){switch(o){case"focusin":return nn=Dn(nn,i,o,l,h,p),!0;case"dragenter":return Or=Dn(Or,i,o,l,h,p),!0;case"mouseover":return Lr=Dn(Lr,i,o,l,h,p),!0;case"pointerover":var g=p.pointerId;return ys.set(g,Dn(ys.get(g)||null,i,o,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,dr.set(g,Dn(dr.get(g)||null,i,o,l,h,p)),!0}return!1}function hh(i){var o=Do(i.target);if(o!==null){var l=Dr(o);if(l!==null){if(o=l.tag,o===13){if(o=Io(l),o!==null){i.blockedOn=o,uh(i.priority,function(){ah(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Na(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);_o=h,l.target.dispatchEvent(h),_o=null}else return o=Vu(l),o!==null&&xa(o),i.blockedOn=l,!1;o.shift()}return!0}function Co(i,o,l){Oi(i)&&l.delete(o)}function dh(){wu=!1,nn!==null&&Oi(nn)&&(nn=null),Or!==null&&Oi(Or)&&(Or=null),Lr!==null&&Oi(Lr)&&(Lr=null),ys.forEach(Co),dr.forEach(Co)}function Vr(i,o){i.blockedOn===o&&(i.blockedOn=null,wu||(wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function Mr(i){function o(p){return Vr(p,i)}if(0<ti.length){Vr(ti[0],i);for(var l=1;l<ti.length;l++){var h=ti[l];h.blockedOn===i&&(h.blockedOn=null)}}for(nn!==null&&Vr(nn,i),Or!==null&&Vr(Or,i),Lr!==null&&Vr(Lr,i),ys.forEach(o),dr.forEach(o),l=0;l<ni.length;l++)h=ni[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ni.length&&(l=ni[0],l.blockedOn===null);)hh(l),l.blockedOn===null&&ni.shift()}var Li=Te.ReactCurrentBatchConfig,vs=!0;function ht(i,o,l,h){var p=Me,g=Li.transition;Li.transition=null;try{Me=1,Tu(i,o,l,h)}finally{Me=p,Li.transition=g}}function Sp(i,o,l,h){var p=Me,g=Li.transition;Li.transition=null;try{Me=4,Tu(i,o,l,h)}finally{Me=p,Li.transition=g}}function Tu(i,o,l,h){if(vs){var p=Na(i,o,l,h);if(p===null)Lp(i,o,h,Po,l),ch(i,h);else if(Ip(p,i,o,l,h))h.stopPropagation();else if(ch(i,h),o&4&&-1<Tp.indexOf(i)){for(;p!==null;){var g=Vu(p);if(g!==null&&oh(g),g=Na(i,o,l,h),g===null&&Lp(i,o,h,Po,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else Lp(i,o,h,null,l)}}var Po=null;function Na(i,o,l,h){if(Po=null,i=Ea(h),i=Do(i),i!==null)if(o=Dr(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Io(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Po=i,null}function Iu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(th()){case So:return 1;case hs:return 4;case hr:case _u:return 16;case nh:return 536870912;default:return 16}default:return 16}}var Qn=null,Da=null,bn=null;function Su(){if(bn)return bn;var i,o=Da,l=o.length,h,p="value"in Qn?Qn.value:Qn.textContent,g=p.length;for(i=0;i<l&&o[i]===p[i];i++);var E=l-i;for(h=1;h<=E&&o[l-h]===p[g-h];h++);return bn=p.slice(i,1<h?1-h:void 0)}function ba(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Au(){return!1}function rn(i){function o(l,h,p,g,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ri:Au,this.isPropagationStopped=Au,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),o}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=rn(Fr),ii=ie({},Fr,{view:0,detail:0}),Ap=rn(ii),La,Vi,_s,xo=ie({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:si,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_s&&(_s&&i.type==="mousemove"?(La=i.screenX-_s.screenX,Vi=i.screenY-_s.screenY):Vi=La=0,_s=i),La)},movementY:function(i){return"movementY"in i?i.movementY:Vi}}),Va=rn(xo),ku=ie({},xo,{dataTransfer:0}),fh=rn(ku),Ma=ie({},ii,{relatedTarget:0}),Fa=rn(Ma),ph=ie({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=rn(ph),mh=ie({},Fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gh=rn(mh),yh=ie({},Fr,{data:0}),Ru=rn(yh),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=vh[i])?!!o[i]:!1}function si(){return _h}var c=ie({},ii,{key:function(i){if(i.key){var o=Ua[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?In[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:si,charCode:function(i){return i.type==="keypress"?ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m=rn(c),v=ie({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=rn(v),V=ie({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:si}),z=rn(V),Y=ie({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=rn(Y),jt=ie({},xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=rn(jt),Xt=[9,13,27,32],Nt=d&&"CompositionEvent"in window,fr=null;d&&"documentMode"in document&&(fr=document.documentMode);var Xn=d&&"TextEvent"in window&&!fr,No=d&&(!Nt||fr&&8<fr&&11>=fr),Ba=" ",v0=!1;function _0(i,o){switch(i){case"keyup":return Xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ja=!1;function jS(i,o){switch(i){case"compositionend":return E0(o);case"keypress":return o.which!==32?null:(v0=!0,Ba);case"textInput":return i=o.data,i===Ba&&v0?null:i;default:return null}}function zS(i,o){if(ja)return i==="compositionend"||!Nt&&_0(i,o)?(i=Su(),bn=Da=Qn=null,ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return No&&o.locale!=="ko"?null:o.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!$S[i.type]:o==="textarea"}function T0(i,o,l,h){ei(h),o=Sh(o,"onChange"),0<o.length&&(l=new Oa("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Cu=null,Pu=null;function HS(i){B0(i,0)}function Eh(i){var o=Wa(i);if(ma(o))return i}function GS(i,o){if(i==="change")return o}var I0=!1;if(d){var kp;if(d){var Rp="oninput"in document;if(!Rp){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Rp=typeof S0.oninput=="function"}kp=Rp}else kp=!1;I0=kp&&(!document.documentMode||9<document.documentMode)}function A0(){Cu&&(Cu.detachEvent("onpropertychange",k0),Pu=Cu=null)}function k0(i){if(i.propertyName==="value"&&Eh(Pu)){var o=[];T0(o,Pu,i,Ea(i)),mu(HS,o)}}function WS(i,o,l){i==="focusin"?(A0(),Cu=o,Pu=l,Cu.attachEvent("onpropertychange",k0)):i==="focusout"&&A0()}function qS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eh(Pu)}function KS(i,o){if(i==="click")return Eh(o)}function QS(i,o){if(i==="input"||i==="change")return Eh(o)}function XS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ur=typeof Object.is=="function"?Object.is:XS;function xu(i,o){if(Ur(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!Ur(i[p],o[p]))return!1}return!0}function R0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function C0(i,o){var l=R0(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=R0(l)}}function P0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?P0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function x0(){for(var i=window,o=us();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=us(i.document)}return o}function Cp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function YS(i){var o=x0(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&P0(l.ownerDocument.documentElement,l)){if(h!==null&&Cp(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!i.extend&&g>h&&(p=h,h=g,g=p),p=C0(l,g);var E=C0(l,h);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),g>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var JS=d&&"documentMode"in document&&11>=document.documentMode,za=null,Pp=null,Nu=null,xp=!1;function N0(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xp||za==null||za!==us(h)||(h=za,"selectionStart"in h&&Cp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nu&&xu(Nu,h)||(Nu=h,h=Sh(Pp,"onSelect"),0<h.length&&(o=new Oa("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=za)))}function wh(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var $a={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},Np={},D0={};d&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Th(i){if(Np[i])return Np[i];if(!$a[i])return i;var o=$a[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in D0)return Np[i]=o[l];return i}var b0=Th("animationend"),O0=Th("animationiteration"),L0=Th("animationstart"),V0=Th("transitionend"),M0=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(i,o){M0.set(i,o),a(o,[i])}for(var Dp=0;Dp<F0.length;Dp++){var bp=F0[Dp],ZS=bp.toLowerCase(),eA=bp[0].toUpperCase()+bp.slice(1);Es(ZS,"on"+eA)}Es(b0,"onAnimationEnd"),Es(O0,"onAnimationIteration"),Es(L0,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(V0,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function U0(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Jc(h,o,void 0,i),i.currentTarget=null}function B0(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var g=void 0;if(o)for(var E=h.length-1;0<=E;E--){var A=h[E],C=A.instance,B=A.currentTarget;if(A=A.listener,C!==g&&p.isPropagationStopped())break e;U0(p,A,B),g=C}else for(E=0;E<h.length;E++){if(A=h[E],C=A.instance,B=A.currentTarget,A=A.listener,C!==g&&p.isPropagationStopped())break e;U0(p,A,B),g=C}}}if(Nr)throw i=gu,Nr=!1,gu=null,i}function at(i,o){var l=o[jp];l===void 0&&(l=o[jp]=new Set);var h=i+"__bubble";l.has(h)||(j0(o,i,2,!1),l.add(h))}function Op(i,o,l){var h=0;o&&(h|=4),j0(l,i,h,o)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function bu(i){if(!i[Ih]){i[Ih]=!0,r.forEach(function(l){l!=="selectionchange"&&(tA.has(l)||Op(l,!1,i),Op(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ih]||(o[Ih]=!0,Op("selectionchange",!1,o))}}function j0(i,o,l,h){switch(Iu(o)){case 1:var p=ht;break;case 4:p=Sp;break;default:p=Tu}l=p.bind(null,o,l,i),p=void 0,!Ia||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Lp(i,o,l,h,p){var g=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===p||C.nodeType===8&&C.parentNode===p))return;E=E.return}for(;A!==null;){if(E=Do(A),E===null)return;if(C=E.tag,C===5||C===6){h=g=E;continue e}A=A.parentNode}}h=h.return}mu(function(){var B=g,K=Ea(l),Q=[];e:{var W=M0.get(i);if(W!==void 0){var ne=Oa,ae=i;switch(i){case"keypress":if(ba(l)===0)break e;case"keydown":case"keyup":ne=m;break;case"focusin":ae="focus",ne=Fa;break;case"focusout":ae="blur",ne=Fa;break;case"beforeblur":case"afterblur":ne=Fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=z;break;case b0:case O0:case L0:ne=Mi;break;case V0:ne=Je;break;case"scroll":ne=Ap;break;case"wheel":ne=Be;break;case"copy":case"cut":case"paste":ne=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=T}var ue=(o&4)!==0,Rt=!ue&&i==="scroll",M=ue?W!==null?W+"Capture":null:W;ue=[];for(var N=B,U;N!==null;){U=N;var X=U.stateNode;if(U.tag===5&&X!==null&&(U=X,M!==null&&(X=kt(N,M),X!=null&&ue.push(Ou(N,X,U)))),Rt)break;N=N.return}0<ue.length&&(W=new ne(W,ae,null,l,K),Q.push({event:W,listeners:ue}))}}if((o&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",W&&l!==_o&&(ae=l.relatedTarget||l.fromElement)&&(Do(ae)||ae[Fi]))break e;if((ne||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(ae=l.relatedTarget||l.toElement,ne=B,ae=ae?Do(ae):null,ae!==null&&(Rt=Dr(ae),ae!==Rt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=B),ne!==ae)){if(ue=Va,X="onMouseLeave",M="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(ue=T,X="onPointerLeave",M="onPointerEnter",N="pointer"),Rt=ne==null?W:Wa(ne),U=ae==null?W:Wa(ae),W=new ue(X,N+"leave",ne,l,K),W.target=Rt,W.relatedTarget=U,X=null,Do(K)===B&&(ue=new ue(M,N+"enter",ae,l,K),ue.target=U,ue.relatedTarget=Rt,X=ue),Rt=X,ne&&ae)t:{for(ue=ne,M=ae,N=0,U=ue;U;U=Ha(U))N++;for(U=0,X=M;X;X=Ha(X))U++;for(;0<N-U;)ue=Ha(ue),N--;for(;0<U-N;)M=Ha(M),U--;for(;N--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=Ha(ue),M=Ha(M)}ue=null}else ue=null;ne!==null&&z0(Q,W,ne,ue,!1),ae!==null&&Rt!==null&&z0(Q,Rt,ae,ue,!0)}}e:{if(W=B?Wa(B):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var he=GS;else if(w0(W))if(I0)he=QS;else{he=qS;var _e=WS}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=KS);if(he&&(he=he(i,B))){T0(Q,he,l,K);break e}_e&&_e(i,W,B),i==="focusout"&&(_e=W._wrapperState)&&_e.controlled&&W.type==="number"&&ya(W,"number",W.value)}switch(_e=B?Wa(B):window,i){case"focusin":(w0(_e)||_e.contentEditable==="true")&&(za=_e,Pp=B,Nu=null);break;case"focusout":Nu=Pp=za=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,N0(Q,l,K);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":N0(Q,l,K)}var Ee;if(Nt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ja?_0(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(No&&l.locale!=="ko"&&(ja||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ja&&(Ee=Su()):(Qn=K,Da="value"in Qn?Qn.value:Qn.textContent,ja=!0)),_e=Sh(B,Se),0<_e.length&&(Se=new Ru(Se,i,null,l,K),Q.push({event:Se,listeners:_e}),Ee?Se.data=Ee:(Ee=E0(l),Ee!==null&&(Se.data=Ee)))),(Ee=Xn?jS(i,l):zS(i,l))&&(B=Sh(B,"onBeforeInput"),0<B.length&&(K=new Ru("onBeforeInput","beforeinput",null,l,K),Q.push({event:K,listeners:B}),K.data=Ee))}B0(Q,o)})}function Ou(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Sh(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=kt(i,l),g!=null&&h.unshift(Ou(i,g,p)),g=kt(i,o),g!=null&&h.push(Ou(i,g,p))),i=i.return}return h}function Ha(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function z0(i,o,l,h,p){for(var g=o._reactName,E=[];l!==null&&l!==h;){var A=l,C=A.alternate,B=A.stateNode;if(C!==null&&C===h)break;A.tag===5&&B!==null&&(A=B,p?(C=kt(l,g),C!=null&&E.unshift(Ou(l,C,A))):p||(C=kt(l,g),C!=null&&E.push(Ou(l,C,A)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var nA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function $0(i){return(typeof i=="string"?i:""+i).replace(nA,`
`).replace(rA,"")}function Ah(i,o,l){if(o=$0(o),$0(i)!==o&&l)throw Error(n(425))}function kh(){}var Vp=null,Mp=null;function Fp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(i){return H0.resolve(null).then(i).catch(oA)}:Up;function oA(i){setTimeout(function(){throw i})}function Bp(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Mr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Mr(o)}function ws(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function G0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),oi="__reactFiber$"+Ga,Lu="__reactProps$"+Ga,Fi="__reactContainer$"+Ga,jp="__reactEvents$"+Ga,aA="__reactListeners$"+Ga,lA="__reactHandles$"+Ga;function Do(i){var o=i[oi];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Fi]||l[oi]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=G0(i);i!==null;){if(l=i[oi])return l;i=G0(i)}return o}i=l,l=i.parentNode}return null}function Vu(i){return i=i[oi]||i[Fi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Rh(i){return i[Lu]||null}var zp=[],qa=-1;function Ts(i){return{current:i}}function lt(i){0>qa||(i.current=zp[qa],zp[qa]=null,qa--)}function it(i,o){qa++,zp[qa]=i.current,i.current=o}var Is={},dn=Ts(Is),On=Ts(!1),bo=Is;function Ka(i,o){var l=i.type.contextTypes;if(!l)return Is;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=o[g];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function Ln(i){return i=i.childContextTypes,i!=null}function Ch(){lt(On),lt(dn)}function W0(i,o,l){if(dn.current!==Is)throw Error(n(168));it(dn,o),it(On,l)}function q0(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(n(108,qe(i)||"Unknown",p));return ie({},l,h)}function Ph(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Is,bo=dn.current,it(dn,i),it(On,On.current),!0}function K0(i,o,l){var h=i.stateNode;if(!h)throw Error(n(169));l?(i=q0(i,o,bo),h.__reactInternalMemoizedMergedChildContext=i,lt(On),lt(dn),it(dn,i)):lt(On),it(On,l)}var Ui=null,xh=!1,$p=!1;function Q0(i){Ui===null?Ui=[i]:Ui.push(i)}function uA(i){xh=!0,Q0(i)}function Ss(){if(!$p&&Ui!==null){$p=!0;var i=0,o=Me;try{var l=Ui;for(Me=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Ui=null,xh=!1}catch(p){throw Ui!==null&&(Ui=Ui.slice(i+1)),Ra(So,Ss),p}finally{Me=o,$p=!1}}return null}var Qa=[],Xa=0,Nh=null,Dh=0,pr=[],mr=0,Oo=null,Bi=1,ji="";function Lo(i,o){Qa[Xa++]=Dh,Qa[Xa++]=Nh,Nh=i,Dh=o}function X0(i,o,l){pr[mr++]=Bi,pr[mr++]=ji,pr[mr++]=Oo,Oo=i;var h=Bi;i=ji;var p=32-Tn(h)-1;h&=~(1<<p),l+=1;var g=32-Tn(o)+p;if(30<g){var E=p-p%5;g=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Bi=1<<32-Tn(o)+p|l<<p|h,ji=g+i}else Bi=1<<g|l<<p|h,ji=i}function Hp(i){i.return!==null&&(Lo(i,1),X0(i,1,0))}function Gp(i){for(;i===Nh;)Nh=Qa[--Xa],Qa[Xa]=null,Dh=Qa[--Xa],Qa[Xa]=null;for(;i===Oo;)Oo=pr[--mr],pr[mr]=null,ji=pr[--mr],pr[mr]=null,Bi=pr[--mr],pr[mr]=null}var Yn=null,Jn=null,dt=!1,Br=null;function Y0(i,o){var l=_r(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function J0(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Yn=i,Jn=ws(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Yn=i,Jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Oo!==null?{id:Bi,overflow:ji}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=_r(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Yn=i,Jn=null,!0):!1;default:return!1}}function Wp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function qp(i){if(dt){var o=Jn;if(o){var l=o;if(!J0(i,o)){if(Wp(i))throw Error(n(418));o=ws(l.nextSibling);var h=Yn;o&&J0(i,o)?Y0(h,l):(i.flags=i.flags&-4097|2,dt=!1,Yn=i)}}else{if(Wp(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,Yn=i}}}function Z0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yn=i}function bh(i){if(i!==Yn)return!1;if(!dt)return Z0(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Fp(i.type,i.memoizedProps)),o&&(o=Jn)){if(Wp(i))throw e2(),Error(n(418));for(;o;)Y0(i,o),o=ws(o.nextSibling)}if(Z0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Jn=ws(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Jn=null}}else Jn=Yn?ws(i.stateNode.nextSibling):null;return!0}function e2(){for(var i=Jn;i;)i=ws(i.nextSibling)}function Ya(){Jn=Yn=null,dt=!1}function Kp(i){Br===null?Br=[i]:Br.push(i)}var cA=Te.ReactCurrentBatchConfig;function Mu(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,i));var p=h,g=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(E){var A=p.refs;E===null?delete A[g]:A[g]=E},o._stringRef=g,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Oh(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function t2(i){var o=i._init;return o(i._payload)}function n2(i){function o(M,N){if(i){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function l(M,N){if(!i)return null;for(;N!==null;)o(M,N),N=N.sibling;return null}function h(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function p(M,N){return M=Ds(M,N),M.index=0,M.sibling=null,M}function g(M,N,U){return M.index=U,i?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=2,N):U):(M.flags|=2,N)):(M.flags|=1048576,N)}function E(M){return i&&M.alternate===null&&(M.flags|=2),M}function A(M,N,U,X){return N===null||N.tag!==6?(N=Um(U,M.mode,X),N.return=M,N):(N=p(N,U),N.return=M,N)}function C(M,N,U,X){var he=U.type;return he===P?K(M,N,U.props.children,X,U.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===hn&&t2(he)===N.type)?(X=p(N,U.props),X.ref=Mu(M,N,U),X.return=M,X):(X=id(U.type,U.key,U.props,null,M.mode,X),X.ref=Mu(M,N,U),X.return=M,X)}function B(M,N,U,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Bm(U,M.mode,X),N.return=M,N):(N=p(N,U.children||[]),N.return=M,N)}function K(M,N,U,X,he){return N===null||N.tag!==7?(N=$o(U,M.mode,X,he),N.return=M,N):(N=p(N,U),N.return=M,N)}function Q(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Um(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ze:return U=id(N.type,N.key,N.props,null,M.mode,U),U.ref=Mu(M,null,N),U.return=M,U;case Ce:return N=Bm(N,M.mode,U),N.return=M,N;case hn:var X=N._init;return Q(M,X(N._payload),U)}if(Pi(N)||ve(N))return N=$o(N,M.mode,U,null),N.return=M,N;Oh(M,N)}return null}function W(M,N,U,X){var he=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:A(M,N,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ze:return U.key===he?C(M,N,U,X):null;case Ce:return U.key===he?B(M,N,U,X):null;case hn:return he=U._init,W(M,N,he(U._payload),X)}if(Pi(U)||ve(U))return he!==null?null:K(M,N,U,X,null);Oh(M,U)}return null}function ne(M,N,U,X,he){if(typeof X=="string"&&X!==""||typeof X=="number")return M=M.get(U)||null,A(N,M,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ze:return M=M.get(X.key===null?U:X.key)||null,C(N,M,X,he);case Ce:return M=M.get(X.key===null?U:X.key)||null,B(N,M,X,he);case hn:var _e=X._init;return ne(M,N,U,_e(X._payload),he)}if(Pi(X)||ve(X))return M=M.get(U)||null,K(N,M,X,he,null);Oh(N,X)}return null}function ae(M,N,U,X){for(var he=null,_e=null,Ee=N,Se=N=0,Zt=null;Ee!==null&&Se<U.length;Se++){Ee.index>Se?(Zt=Ee,Ee=null):Zt=Ee.sibling;var Ge=W(M,Ee,U[Se],X);if(Ge===null){Ee===null&&(Ee=Zt);break}i&&Ee&&Ge.alternate===null&&o(M,Ee),N=g(Ge,N,Se),_e===null?he=Ge:_e.sibling=Ge,_e=Ge,Ee=Zt}if(Se===U.length)return l(M,Ee),dt&&Lo(M,Se),he;if(Ee===null){for(;Se<U.length;Se++)Ee=Q(M,U[Se],X),Ee!==null&&(N=g(Ee,N,Se),_e===null?he=Ee:_e.sibling=Ee,_e=Ee);return dt&&Lo(M,Se),he}for(Ee=h(M,Ee);Se<U.length;Se++)Zt=ne(Ee,M,Se,U[Se],X),Zt!==null&&(i&&Zt.alternate!==null&&Ee.delete(Zt.key===null?Se:Zt.key),N=g(Zt,N,Se),_e===null?he=Zt:_e.sibling=Zt,_e=Zt);return i&&Ee.forEach(function(bs){return o(M,bs)}),dt&&Lo(M,Se),he}function ue(M,N,U,X){var he=ve(U);if(typeof he!="function")throw Error(n(150));if(U=he.call(U),U==null)throw Error(n(151));for(var _e=he=null,Ee=N,Se=N=0,Zt=null,Ge=U.next();Ee!==null&&!Ge.done;Se++,Ge=U.next()){Ee.index>Se?(Zt=Ee,Ee=null):Zt=Ee.sibling;var bs=W(M,Ee,Ge.value,X);if(bs===null){Ee===null&&(Ee=Zt);break}i&&Ee&&bs.alternate===null&&o(M,Ee),N=g(bs,N,Se),_e===null?he=bs:_e.sibling=bs,_e=bs,Ee=Zt}if(Ge.done)return l(M,Ee),dt&&Lo(M,Se),he;if(Ee===null){for(;!Ge.done;Se++,Ge=U.next())Ge=Q(M,Ge.value,X),Ge!==null&&(N=g(Ge,N,Se),_e===null?he=Ge:_e.sibling=Ge,_e=Ge);return dt&&Lo(M,Se),he}for(Ee=h(M,Ee);!Ge.done;Se++,Ge=U.next())Ge=ne(Ee,M,Se,Ge.value,X),Ge!==null&&(i&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Se:Ge.key),N=g(Ge,N,Se),_e===null?he=Ge:_e.sibling=Ge,_e=Ge);return i&&Ee.forEach(function($A){return o(M,$A)}),dt&&Lo(M,Se),he}function Rt(M,N,U,X){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case ze:e:{for(var he=U.key,_e=N;_e!==null;){if(_e.key===he){if(he=U.type,he===P){if(_e.tag===7){l(M,_e.sibling),N=p(_e,U.props.children),N.return=M,M=N;break e}}else if(_e.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===hn&&t2(he)===_e.type){l(M,_e.sibling),N=p(_e,U.props),N.ref=Mu(M,_e,U),N.return=M,M=N;break e}l(M,_e);break}else o(M,_e);_e=_e.sibling}U.type===P?(N=$o(U.props.children,M.mode,X,U.key),N.return=M,M=N):(X=id(U.type,U.key,U.props,null,M.mode,X),X.ref=Mu(M,N,U),X.return=M,M=X)}return E(M);case Ce:e:{for(_e=U.key;N!==null;){if(N.key===_e)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){l(M,N.sibling),N=p(N,U.children||[]),N.return=M,M=N;break e}else{l(M,N);break}else o(M,N);N=N.sibling}N=Bm(U,M.mode,X),N.return=M,M=N}return E(M);case hn:return _e=U._init,Rt(M,N,_e(U._payload),X)}if(Pi(U))return ae(M,N,U,X);if(ve(U))return ue(M,N,U,X);Oh(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(l(M,N.sibling),N=p(N,U),N.return=M,M=N):(l(M,N),N=Um(U,M.mode,X),N.return=M,M=N),E(M)):l(M,N)}return Rt}var Ja=n2(!0),r2=n2(!1),Lh=Ts(null),Vh=null,Za=null,Qp=null;function Xp(){Qp=Za=Vh=null}function Yp(i){var o=Lh.current;lt(Lh),i._currentValue=o}function Jp(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function el(i,o){Vh=i,Qp=Za=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Vn=!0),i.firstContext=null)}function gr(i){var o=i._currentValue;if(Qp!==i)if(i={context:i,memoizedValue:o,next:null},Za===null){if(Vh===null)throw Error(n(308));Za=i,Vh.dependencies={lanes:0,firstContext:i}}else Za=Za.next=i;return o}var Vo=null;function Zp(i){Vo===null?Vo=[i]:Vo.push(i)}function i2(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,Zp(o)):(l.next=p.next,p.next=l),o.interleaved=l,zi(i,h)}function zi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var As=!1;function em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s2(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $i(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ks(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,zi(i,l)}return p=h.interleaved,p===null?(o.next=o,Zp(h)):(o.next=p.next,p.next=o),h.interleaved=o,zi(i,l)}function Mh(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ms(i,l)}}function o2(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=o:g=g.next=o}else p=g=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Fh(i,o,l,h){var p=i.updateQueue;As=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var C=A,B=C.next;C.next=null,E===null?g=B:E.next=B,E=C;var K=i.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==E&&(A===null?K.firstBaseUpdate=B:A.next=B,K.lastBaseUpdate=C))}if(g!==null){var Q=p.baseState;E=0,K=B=C=null,A=g;do{var W=A.lane,ne=A.eventTime;if((h&W)===W){K!==null&&(K=K.next={eventTime:ne,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ae=i,ue=A;switch(W=o,ne=l,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){Q=ae.call(ne,Q,W);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,W=typeof ae=="function"?ae.call(ne,Q,W):ae,W==null)break e;Q=ie({},Q,W);break e;case 2:As=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,W=p.effects,W===null?p.effects=[A]:W.push(A))}else ne={eventTime:ne,lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(B=K=ne,C=Q):K=K.next=ne,E|=W;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);if(K===null&&(C=Q),p.baseState=C,p.firstBaseUpdate=B,p.lastBaseUpdate=K,o=p.shared.interleaved,o!==null){p=o;do E|=p.lane,p=p.next;while(p!==o)}else g===null&&(p.shared.lanes=0);Uo|=E,i.lanes=E,i.memoizedState=Q}}function a2(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var Fu={},ai=Ts(Fu),Uu=Ts(Fu),Bu=Ts(Fu);function Mo(i){if(i===Fu)throw Error(n(174));return i}function tm(i,o){switch(it(Bu,o),it(Uu,i),it(ai,Fu),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Bt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Bt(o,i)}lt(ai),it(ai,o)}function tl(){lt(ai),lt(Uu),lt(Bu)}function l2(i){Mo(Bu.current);var o=Mo(ai.current),l=Bt(o,i.type);o!==l&&(it(Uu,i),it(ai,l))}function nm(i){Uu.current===i&&(lt(ai),lt(Uu))}var gt=Ts(0);function Uh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var rm=[];function im(){for(var i=0;i<rm.length;i++)rm[i]._workInProgressVersionPrimary=null;rm.length=0}var Bh=Te.ReactCurrentDispatcher,sm=Te.ReactCurrentBatchConfig,Fo=0,yt=null,zt=null,Yt=null,jh=!1,ju=!1,zu=0,hA=0;function fn(){throw Error(n(321))}function om(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ur(i[l],o[l]))return!1;return!0}function am(i,o,l,h,p,g){if(Fo=g,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Bh.current=i===null||i.memoizedState===null?mA:gA,i=l(h,p),ju){g=0;do{if(ju=!1,zu=0,25<=g)throw Error(n(301));g+=1,Yt=zt=null,o.updateQueue=null,Bh.current=yA,i=l(h,p)}while(ju)}if(Bh.current=Hh,o=zt!==null&&zt.next!==null,Fo=0,Yt=zt=yt=null,jh=!1,o)throw Error(n(300));return i}function lm(){var i=zu!==0;return zu=0,i}function li(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?yt.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function yr(){if(zt===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=zt.next;var o=Yt===null?yt.memoizedState:Yt.next;if(o!==null)Yt=o,zt=i;else{if(i===null)throw Error(n(310));zt=i,i={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Yt===null?yt.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function $u(i,o){return typeof o=="function"?o(i):o}function um(i){var o=yr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=zt,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var A=E=null,C=null,B=g;do{var K=B.lane;if((Fo&K)===K)C!==null&&(C=C.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:i(h,B.action);else{var Q={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};C===null?(A=C=Q,E=h):C=C.next=Q,yt.lanes|=K,Uo|=K}B=B.next}while(B!==null&&B!==g);C===null?E=h:C.next=A,Ur(h,o.memoizedState)||(Vn=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=C,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do g=p.lane,yt.lanes|=g,Uo|=g,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function cm(i){var o=yr(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,g=o.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=i(g,E.action),E=E.next;while(E!==p);Ur(g,o.memoizedState)||(Vn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,h]}function u2(){}function c2(i,o){var l=yt,h=yr(),p=o(),g=!Ur(h.memoizedState,p);if(g&&(h.memoizedState=p,Vn=!0),h=h.queue,hm(f2.bind(null,l,h,i),[i]),h.getSnapshot!==o||g||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,Hu(9,d2.bind(null,l,h,p,o),void 0,null),Jt===null)throw Error(n(349));(Fo&30)!==0||h2(l,o,p)}return p}function h2(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function d2(i,o,l,h){o.value=l,o.getSnapshot=h,p2(o)&&m2(i)}function f2(i,o,l){return l(function(){p2(o)&&m2(i)})}function p2(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ur(i,l)}catch{return!0}}function m2(i){var o=zi(i,1);o!==null&&Hr(o,i,1,-1)}function g2(i){var o=li();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:i},o.queue=i,i=i.dispatch=pA.bind(null,yt,i),[o.memoizedState,i]}function Hu(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function y2(){return yr().memoizedState}function zh(i,o,l,h){var p=li();yt.flags|=i,p.memoizedState=Hu(1|o,l,void 0,h===void 0?null:h)}function $h(i,o,l,h){var p=yr();h=h===void 0?null:h;var g=void 0;if(zt!==null){var E=zt.memoizedState;if(g=E.destroy,h!==null&&om(h,E.deps)){p.memoizedState=Hu(o,l,g,h);return}}yt.flags|=i,p.memoizedState=Hu(1|o,l,g,h)}function v2(i,o){return zh(8390656,8,i,o)}function hm(i,o){return $h(2048,8,i,o)}function _2(i,o){return $h(4,2,i,o)}function E2(i,o){return $h(4,4,i,o)}function w2(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function T2(i,o,l){return l=l!=null?l.concat([i]):null,$h(4,4,w2.bind(null,o,i),l)}function dm(){}function I2(i,o){var l=yr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&om(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function S2(i,o){var l=yr();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&om(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function A2(i,o,l){return(Fo&21)===0?(i.baseState&&(i.baseState=!1,Vn=!0),i.memoizedState=l):(Ur(l,o)||(l=Ro(),yt.lanes|=l,Uo|=l,i.baseState=!0),o)}function dA(i,o){var l=Me;Me=l!==0&&4>l?l:4,i(!0);var h=sm.transition;sm.transition={};try{i(!1),o()}finally{Me=l,sm.transition=h}}function k2(){return yr().memoizedState}function fA(i,o,l){var h=xs(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},R2(i))C2(o,l);else if(l=i2(i,o,l,h),l!==null){var p=An();Hr(l,i,h,p),P2(l,o,h)}}function pA(i,o,l){var h=xs(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(R2(i))C2(o,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var E=o.lastRenderedState,A=g(E,l);if(p.hasEagerState=!0,p.eagerState=A,Ur(A,E)){var C=o.interleaved;C===null?(p.next=p,Zp(o)):(p.next=C.next,C.next=p),o.interleaved=p;return}}catch{}finally{}l=i2(i,o,p,h),l!==null&&(p=An(),Hr(l,i,h,p),P2(l,o,h))}}function R2(i){var o=i.alternate;return i===yt||o!==null&&o===yt}function C2(i,o){ju=jh=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function P2(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ms(i,l)}}var Hh={readContext:gr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},mA={readContext:gr,useCallback:function(i,o){return li().memoizedState=[i,o===void 0?null:o],i},useContext:gr,useEffect:v2,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,zh(4194308,4,w2.bind(null,o,i),l)},useLayoutEffect:function(i,o){return zh(4194308,4,i,o)},useInsertionEffect:function(i,o){return zh(4,2,i,o)},useMemo:function(i,o){var l=li();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=li();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=fA.bind(null,yt,i),[h.memoizedState,i]},useRef:function(i){var o=li();return i={current:i},o.memoizedState=i},useState:g2,useDebugValue:dm,useDeferredValue:function(i){return li().memoizedState=i},useTransition:function(){var i=g2(!1),o=i[0];return i=dA.bind(null,i[1]),li().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=yt,p=li();if(dt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Jt===null)throw Error(n(349));(Fo&30)!==0||h2(h,o,l)}p.memoizedState=l;var g={value:l,getSnapshot:o};return p.queue=g,v2(f2.bind(null,h,g,i),[i]),h.flags|=2048,Hu(9,d2.bind(null,h,g,l,o),void 0,null),l},useId:function(){var i=li(),o=Jt.identifierPrefix;if(dt){var l=ji,h=Bi;l=(h&~(1<<32-Tn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=zu++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=hA++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},gA={readContext:gr,useCallback:I2,useContext:gr,useEffect:hm,useImperativeHandle:T2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:S2,useReducer:um,useRef:y2,useState:function(){return um($u)},useDebugValue:dm,useDeferredValue:function(i){var o=yr();return A2(o,zt.memoizedState,i)},useTransition:function(){var i=um($u)[0],o=yr().memoizedState;return[i,o]},useMutableSource:u2,useSyncExternalStore:c2,useId:k2,unstable_isNewReconciler:!1},yA={readContext:gr,useCallback:I2,useContext:gr,useEffect:hm,useImperativeHandle:T2,useInsertionEffect:_2,useLayoutEffect:E2,useMemo:S2,useReducer:cm,useRef:y2,useState:function(){return cm($u)},useDebugValue:dm,useDeferredValue:function(i){var o=yr();return zt===null?o.memoizedState=i:A2(o,zt.memoizedState,i)},useTransition:function(){var i=cm($u)[0],o=yr().memoizedState;return[i,o]},useMutableSource:u2,useSyncExternalStore:c2,useId:k2,unstable_isNewReconciler:!1};function jr(i,o){if(i&&i.defaultProps){o=ie({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function fm(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ie({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Gh={isMounted:function(i){return(i=i._reactInternals)?Dr(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=An(),p=xs(i),g=$i(h,p);g.payload=o,l!=null&&(g.callback=l),o=ks(i,g,p),o!==null&&(Hr(o,i,p,h),Mh(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=An(),p=xs(i),g=$i(h,p);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=ks(i,g,p),o!==null&&(Hr(o,i,p,h),Mh(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=An(),h=xs(i),p=$i(l,h);p.tag=2,o!=null&&(p.callback=o),o=ks(i,p,h),o!==null&&(Hr(o,i,h,l),Mh(o,i,h))}};function x2(i,o,l,h,p,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,g,E):o.prototype&&o.prototype.isPureReactComponent?!xu(l,h)||!xu(p,g):!0}function N2(i,o,l){var h=!1,p=Is,g=o.contextType;return typeof g=="object"&&g!==null?g=gr(g):(p=Ln(o)?bo:dn.current,h=o.contextTypes,g=(h=h!=null)?Ka(i,p):Is),o=new o(l,g),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gh,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=g),o}function D2(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Gh.enqueueReplaceState(o,o.state,null)}function pm(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},em(i);var g=o.contextType;typeof g=="object"&&g!==null?p.context=gr(g):(g=Ln(o)?bo:dn.current,p.context=Ka(i,g)),p.state=i.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(fm(i,o,g,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Gh.enqueueReplaceState(p,p.state,null),Fh(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function nl(i,o){try{var l="",h=o;do l+=De(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:o,stack:p,digest:null}}function mm(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function gm(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var vA=typeof WeakMap=="function"?WeakMap:Map;function b2(i,o,l){l=$i(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Jh||(Jh=!0,Nm=h),gm(i,o)},l}function O2(i,o,l){l=$i(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){gm(i,o)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){gm(i,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function L2(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new vA;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=DA.bind(null,i,o,l),o.then(i,i))}function V2(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function M2(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=$i(-1,1),o.tag=2,ks(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var _A=Te.ReactCurrentOwner,Vn=!1;function Sn(i,o,l,h){o.child=i===null?r2(o,null,l,h):Ja(o,i.child,l,h)}function F2(i,o,l,h,p){l=l.render;var g=o.ref;return el(o,p),h=am(i,o,l,h,g,p),l=lm(),i!==null&&!Vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Hi(i,o,p)):(dt&&l&&Hp(o),o.flags|=1,Sn(i,o,h,p),o.child)}function U2(i,o,l,h,p){if(i===null){var g=l.type;return typeof g=="function"&&!Fm(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,B2(i,o,g,h,p)):(i=id(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,(i.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:xu,l(E,h)&&i.ref===o.ref)return Hi(i,o,p)}return o.flags|=1,i=Ds(g,h),i.ref=o.ref,i.return=o,o.child=i}function B2(i,o,l,h,p){if(i!==null){var g=i.memoizedProps;if(xu(g,h)&&i.ref===o.ref)if(Vn=!1,o.pendingProps=h=g,(i.lanes&p)!==0)(i.flags&131072)!==0&&(Vn=!0);else return o.lanes=i.lanes,Hi(i,o,p)}return ym(i,o,l,h,p)}function j2(i,o,l){var h=o.pendingProps,p=h.children,g=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(il,Zn),Zn|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,it(il,Zn),Zn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,it(il,Zn),Zn|=h}else g!==null?(h=g.baseLanes|l,o.memoizedState=null):h=l,it(il,Zn),Zn|=h;return Sn(i,o,p,l),o.child}function z2(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function ym(i,o,l,h,p){var g=Ln(l)?bo:dn.current;return g=Ka(o,g),el(o,p),l=am(i,o,l,h,g,p),h=lm(),i!==null&&!Vn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,Hi(i,o,p)):(dt&&h&&Hp(o),o.flags|=1,Sn(i,o,l,p),o.child)}function $2(i,o,l,h,p){if(Ln(l)){var g=!0;Ph(o)}else g=!1;if(el(o,p),o.stateNode===null)qh(i,o),N2(o,l,h),pm(o,l,h,p),h=!0;else if(i===null){var E=o.stateNode,A=o.memoizedProps;E.props=A;var C=E.context,B=l.contextType;typeof B=="object"&&B!==null?B=gr(B):(B=Ln(l)?bo:dn.current,B=Ka(o,B));var K=l.getDerivedStateFromProps,Q=typeof K=="function"||typeof E.getSnapshotBeforeUpdate=="function";Q||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==h||C!==B)&&D2(o,E,h,B),As=!1;var W=o.memoizedState;E.state=W,Fh(o,h,E,p),C=o.memoizedState,A!==h||W!==C||On.current||As?(typeof K=="function"&&(fm(o,l,K,h),C=o.memoizedState),(A=As||x2(o,l,A,h,W,C,B))?(Q||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=C),E.props=h,E.state=C,E.context=B,h=A):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,s2(i,o),A=o.memoizedProps,B=o.type===o.elementType?A:jr(o.type,A),E.props=B,Q=o.pendingProps,W=E.context,C=l.contextType,typeof C=="object"&&C!==null?C=gr(C):(C=Ln(l)?bo:dn.current,C=Ka(o,C));var ne=l.getDerivedStateFromProps;(K=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Q||W!==C)&&D2(o,E,h,C),As=!1,W=o.memoizedState,E.state=W,Fh(o,h,E,p);var ae=o.memoizedState;A!==Q||W!==ae||On.current||As?(typeof ne=="function"&&(fm(o,l,ne,h),ae=o.memoizedState),(B=As||x2(o,l,B,h,W,ae,C)||!1)?(K||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ae,C),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ae,C)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),E.props=h,E.state=ae,E.context=C,h=B):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&W===i.memoizedState||(o.flags|=1024),h=!1)}return vm(i,o,l,h,g,p)}function vm(i,o,l,h,p,g){z2(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return p&&K0(o,l,!1),Hi(i,o,g);h=o.stateNode,_A.current=o;var A=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=Ja(o,i.child,null,g),o.child=Ja(o,null,A,g)):Sn(i,o,A,g),o.memoizedState=h.state,p&&K0(o,l,!0),o.child}function H2(i){var o=i.stateNode;o.pendingContext?W0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&W0(i,o.context,!1),tm(i,o.containerInfo)}function G2(i,o,l,h,p){return Ya(),Kp(p),o.flags|=256,Sn(i,o,l,h),o.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Em(i){return{baseLanes:i,cachePool:null,transitions:null}}function W2(i,o,l){var h=o.pendingProps,p=gt.current,g=!1,E=(o.flags&128)!==0,A;if((A=E)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(g=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),it(gt,p&1),i===null)return qp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,g?(h=o.mode,g=o.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=sd(E,h,0,null),i=$o(i,h,l,null),g.return=o,i.return=o,g.sibling=i,o.child=g,o.child.memoizedState=Em(l),o.memoizedState=_m,i):wm(o,E));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return EA(i,o,E,h,A,p,l);if(g){g=h.fallback,E=o.mode,p=i.child,A=p.sibling;var C={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=C,o.deletions=null):(h=Ds(p,C),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?g=Ds(A,g):(g=$o(g,E,l,null),g.flags|=2),g.return=o,h.return=o,h.sibling=g,o.child=h,h=g,g=o.child,E=i.child.memoizedState,E=E===null?Em(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=i.childLanes&~l,o.memoizedState=_m,h}return g=i.child,i=g.sibling,h=Ds(g,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function wm(i,o){return o=sd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Wh(i,o,l,h){return h!==null&&Kp(h),Ja(o,i.child,null,l),i=wm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function EA(i,o,l,h,p,g,E){if(l)return o.flags&256?(o.flags&=-257,h=mm(Error(n(422))),Wh(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(g=h.fallback,p=o.mode,h=sd({mode:"visible",children:h.children},p,0,null),g=$o(g,p,E,null),g.flags|=2,h.return=o,g.return=o,h.sibling=g,o.child=h,(o.mode&1)!==0&&Ja(o,i.child,null,E),o.child.memoizedState=Em(E),o.memoizedState=_m,g);if((o.mode&1)===0)return Wh(i,o,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(n(419)),h=mm(g,h,void 0),Wh(i,o,E,h)}if(A=(E&i.childLanes)!==0,Vn||A){if(h=Jt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,zi(i,p),Hr(h,i,p,-1))}return Mm(),h=mm(Error(n(421))),Wh(i,o,E,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=bA.bind(null,i),p._reactRetry=o,null):(i=g.treeContext,Jn=ws(p.nextSibling),Yn=o,dt=!0,Br=null,i!==null&&(pr[mr++]=Bi,pr[mr++]=ji,pr[mr++]=Oo,Bi=i.id,ji=i.overflow,Oo=o),o=wm(o,h.children),o.flags|=4096,o)}function q2(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Jp(i.return,o,l)}function Tm(i,o,l,h,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function K2(i,o,l){var h=o.pendingProps,p=h.revealOrder,g=h.tail;if(Sn(i,o,h.children,l),h=gt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q2(i,l,o);else if(i.tag===19)q2(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(it(gt,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&Uh(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),Tm(o,!1,p,l,g);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&Uh(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Tm(o,!0,l,null,g);break;case"together":Tm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Hi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Uo|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=Ds(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ds(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function wA(i,o,l){switch(o.tag){case 3:H2(o),Ya();break;case 5:l2(o);break;case 1:Ln(o.type)&&Ph(o);break;case 4:tm(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;it(Lh,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(it(gt,gt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?W2(i,o,l):(it(gt,gt.current&1),i=Hi(i,o,l),i!==null?i.sibling:null);it(gt,gt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return K2(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),it(gt,gt.current),h)break;return null;case 22:case 23:return o.lanes=0,j2(i,o,l)}return Hi(i,o,l)}var Q2,Im,X2,Y2;Q2=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Im=function(){},X2=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,Mo(ai.current);var g=null;switch(l){case"input":p=go(i,p),h=go(i,h),g=[];break;case"select":p=ie({},p,{value:void 0}),h=ie({},h,{value:void 0}),g=[];break;case"textarea":p=su(i,p),h=su(i,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=kh)}hu(l,h);var E;l=null;for(B in p)if(!h.hasOwnProperty(B)&&p.hasOwnProperty(B)&&p[B]!=null)if(B==="style"){var A=p[B];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(s.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var C=h[B];if(A=p!=null?p[B]:void 0,h.hasOwnProperty(B)&&C!==A&&(C!=null||A!=null))if(B==="style")if(A){for(E in A)!A.hasOwnProperty(E)||C&&C.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in C)C.hasOwnProperty(E)&&A[E]!==C[E]&&(l||(l={}),l[E]=C[E])}else l||(g||(g=[]),g.push(B,l)),l=C;else B==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,A=A?A.__html:void 0,C!=null&&A!==C&&(g=g||[]).push(B,C)):B==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(B,""+C):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(s.hasOwnProperty(B)?(C!=null&&B==="onScroll"&&at("scroll",i),g||A===C||(g=[])):(g=g||[]).push(B,C))}l&&(g=g||[]).push("style",l);var B=g;(o.updateQueue=B)&&(o.flags|=4)}},Y2=function(i,o,l,h){l!==h&&(o.flags|=4)};function Gu(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function pn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function TA(i,o,l){var h=o.pendingProps;switch(Gp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(o),null;case 1:return Ln(o.type)&&Ch(),pn(o),null;case 3:return h=o.stateNode,tl(),lt(On),lt(dn),im(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(bh(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Br!==null&&(Om(Br),Br=null))),Im(i,o),pn(o),null;case 5:nm(o);var p=Mo(Bu.current);if(l=o.type,i!==null&&o.stateNode!=null)X2(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return pn(o),null}if(i=Mo(ai.current),bh(o)){h=o.stateNode,l=o.type;var g=o.memoizedProps;switch(h[oi]=o,h[Lu]=g,i=(o.mode&1)!==0,l){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(p=0;p<Du.length;p++)at(Du[p],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":ga(h,g),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},at("invalid",h);break;case"textarea":va(h,g),at("invalid",h)}hu(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&Ah(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Ah(h.textContent,A,i),p=["children",""+A]):s.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&at("scroll",h)}switch(l){case"input":Ci(h),Yc(h,g,!0);break;case"textarea":Ci(h),ou(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=kh)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ut(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[oi]=o,i[Lu]=h,Q2(i,o,!1,!1),o.stateNode=i;e:{switch(E=du(l,h),l){case"dialog":at("cancel",i),at("close",i),p=h;break;case"iframe":case"object":case"embed":at("load",i),p=h;break;case"video":case"audio":for(p=0;p<Du.length;p++)at(Du[p],i);p=h;break;case"source":at("error",i),p=h;break;case"img":case"image":case"link":at("error",i),at("load",i),p=h;break;case"details":at("toggle",i),p=h;break;case"input":ga(i,h),p=go(i,h),at("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=ie({},h,{value:void 0}),at("invalid",i);break;case"textarea":va(i,h),p=su(i,h),at("invalid",i);break;default:p=h}hu(l,p),A=p;for(g in A)if(A.hasOwnProperty(g)){var C=A[g];g==="style"?uu(i,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&au(i,C)):g==="children"?typeof C=="string"?(l!=="textarea"||C!=="")&&cs(i,C):typeof C=="number"&&cs(i,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?C!=null&&g==="onScroll"&&at("scroll",i):C!=null&&le(i,g,C,E))}switch(l){case"input":Ci(i),Yc(i,h,!1);break;case"textarea":Ci(i),ou(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ke(h.value));break;case"select":i.multiple=!!h.multiple,g=h.value,g!=null?xi(i,!!h.multiple,g,!1):h.defaultValue!=null&&xi(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=kh)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return pn(o),null;case 6:if(i&&o.stateNode!=null)Y2(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(l=Mo(Bu.current),Mo(ai.current),bh(o)){if(h=o.stateNode,l=o.memoizedProps,h[oi]=o,(g=h.nodeValue!==l)&&(i=Yn,i!==null))switch(i.tag){case 3:Ah(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ah(h.nodeValue,l,(i.mode&1)!==0)}g&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[oi]=o,o.stateNode=h}return pn(o),null;case 13:if(lt(gt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&Jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)e2(),Ya(),o.flags|=98560,g=!1;else if(g=bh(o),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[oi]=o}else Ya(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),g=!1}else Br!==null&&(Om(Br),Br=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(gt.current&1)!==0?$t===0&&($t=3):Mm())),o.updateQueue!==null&&(o.flags|=4),pn(o),null);case 4:return tl(),Im(i,o),i===null&&bu(o.stateNode.containerInfo),pn(o),null;case 10:return Yp(o.type._context),pn(o),null;case 17:return Ln(o.type)&&Ch(),pn(o),null;case 19:if(lt(gt),g=o.memoizedState,g===null)return pn(o),null;if(h=(o.flags&128)!==0,E=g.rendering,E===null)if(h)Gu(g,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=Uh(i),E!==null){for(o.flags|=128,Gu(g,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)g=l,i=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,i=E.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return it(gt,gt.current&1|2),o.child}i=i.sibling}g.tail!==null&&rt()>sl&&(o.flags|=128,h=!0,Gu(g,!1),o.lanes=4194304)}else{if(!h)if(i=Uh(E),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Gu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!dt)return pn(o),null}else 2*rt()-g.renderingStartTime>sl&&l!==1073741824&&(o.flags|=128,h=!0,Gu(g,!1),o.lanes=4194304);g.isBackwards?(E.sibling=o.child,o.child=E):(l=g.last,l!==null?l.sibling=E:o.child=E,g.last=E)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=rt(),o.sibling=null,l=gt.current,it(gt,h?l&1|2:l&1),o):(pn(o),null);case 22:case 23:return Vm(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Zn&1073741824)!==0&&(pn(o),o.subtreeFlags&6&&(o.flags|=8192)):pn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function IA(i,o){switch(Gp(o),o.tag){case 1:return Ln(o.type)&&Ch(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return tl(),lt(On),lt(dn),im(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return nm(o),null;case 13:if(lt(gt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ya()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(gt),null;case 4:return tl(),null;case 10:return Yp(o.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var Kh=!1,mn=!1,SA=typeof WeakSet=="function"?WeakSet:Set,se=null;function rl(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){wt(i,o,h)}else l.current=null}function Sm(i,o,l){try{l()}catch(h){wt(i,o,h)}}var J2=!1;function AA(i,o){if(Vp=vs,i=x0(),Cp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,A=-1,C=-1,B=0,K=0,Q=i,W=null;t:for(;;){for(var ne;Q!==l||p!==0&&Q.nodeType!==3||(A=E+p),Q!==g||h!==0&&Q.nodeType!==3||(C=E+h),Q.nodeType===3&&(E+=Q.nodeValue.length),(ne=Q.firstChild)!==null;)W=Q,Q=ne;for(;;){if(Q===i)break t;if(W===l&&++B===p&&(A=E),W===g&&++K===h&&(C=E),(ne=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ne}l=A===-1||C===-1?null:{start:A,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mp={focusedElem:i,selectionRange:l},vs=!1,se=o;se!==null;)if(o=se,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,se=i;else for(;se!==null;){o=se;try{var ae=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,Rt=ae.memoizedState,M=o.stateNode,N=M.getSnapshotBeforeUpdate(o.elementType===o.type?ue:jr(o.type,ue),Rt);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){wt(o,o.return,X)}if(i=o.sibling,i!==null){i.return=o.return,se=i;break}se=o.return}return ae=J2,J2=!1,ae}function Wu(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var g=p.destroy;p.destroy=void 0,g!==void 0&&Sm(o,l,g)}p=p.next}while(p!==h)}}function Qh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Am(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Z2(i){var o=i.alternate;o!==null&&(i.alternate=null,Z2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[oi],delete o[Lu],delete o[jp],delete o[aA],delete o[lA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ev(i){return i.tag===5||i.tag===3||i.tag===4}function tv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ev(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function km(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=kh));else if(h!==4&&(i=i.child,i!==null))for(km(i,o,l),i=i.sibling;i!==null;)km(i,o,l),i=i.sibling}function Rm(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Rm(i,o,l),i=i.sibling;i!==null;)Rm(i,o,l),i=i.sibling}var sn=null,zr=!1;function Rs(i,o,l){for(l=l.child;l!==null;)nv(i,o,l),l=l.sibling}function nv(i,o,l){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Ao,l)}catch{}switch(l.tag){case 5:mn||rl(l,o);case 6:var h=sn,p=zr;sn=null,Rs(i,o,l),sn=h,zr=p,sn!==null&&(zr?(i=sn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):sn.removeChild(l.stateNode));break;case 18:sn!==null&&(zr?(i=sn,l=l.stateNode,i.nodeType===8?Bp(i.parentNode,l):i.nodeType===1&&Bp(i,l),Mr(i)):Bp(sn,l.stateNode));break;case 4:h=sn,p=zr,sn=l.stateNode.containerInfo,zr=!0,Rs(i,o,l),sn=h,zr=p;break;case 0:case 11:case 14:case 15:if(!mn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Sm(l,o,E),p=p.next}while(p!==h)}Rs(i,o,l);break;case 1:if(!mn&&(rl(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){wt(l,o,A)}Rs(i,o,l);break;case 21:Rs(i,o,l);break;case 22:l.mode&1?(mn=(h=mn)||l.memoizedState!==null,Rs(i,o,l),mn=h):Rs(i,o,l);break;default:Rs(i,o,l)}}function rv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new SA),o.forEach(function(h){var p=OA.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function $r(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=i,E=o,A=E;e:for(;A!==null;){switch(A.tag){case 5:sn=A.stateNode,zr=!1;break e;case 3:sn=A.stateNode.containerInfo,zr=!0;break e;case 4:sn=A.stateNode.containerInfo,zr=!0;break e}A=A.return}if(sn===null)throw Error(n(160));nv(g,E,p),sn=null,zr=!1;var C=p.alternate;C!==null&&(C.return=null),p.return=null}catch(B){wt(p,o,B)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)iv(o,i),o=o.sibling}function iv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if($r(o,i),ui(i),h&4){try{Wu(3,i,i.return),Qh(3,i)}catch(ue){wt(i,i.return,ue)}try{Wu(5,i,i.return)}catch(ue){wt(i,i.return,ue)}}break;case 1:$r(o,i),ui(i),h&512&&l!==null&&rl(l,l.return);break;case 5:if($r(o,i),ui(i),h&512&&l!==null&&rl(l,l.return),i.flags&32){var p=i.stateNode;try{cs(p,"")}catch(ue){wt(i,i.return,ue)}}if(h&4&&(p=i.stateNode,p!=null)){var g=i.memoizedProps,E=l!==null?l.memoizedProps:g,A=i.type,C=i.updateQueue;if(i.updateQueue=null,C!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&ru(p,g),du(A,E);var B=du(A,g);for(E=0;E<C.length;E+=2){var K=C[E],Q=C[E+1];K==="style"?uu(p,Q):K==="dangerouslySetInnerHTML"?au(p,Q):K==="children"?cs(p,Q):le(p,K,Q,B)}switch(A){case"input":iu(p,g);break;case"textarea":_a(p,g);break;case"select":var W=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ne=g.value;ne!=null?xi(p,!!g.multiple,ne,!1):W!==!!g.multiple&&(g.defaultValue!=null?xi(p,!!g.multiple,g.defaultValue,!0):xi(p,!!g.multiple,g.multiple?[]:"",!1))}p[Lu]=g}catch(ue){wt(i,i.return,ue)}}break;case 6:if($r(o,i),ui(i),h&4){if(i.stateNode===null)throw Error(n(162));p=i.stateNode,g=i.memoizedProps;try{p.nodeValue=g}catch(ue){wt(i,i.return,ue)}}break;case 3:if($r(o,i),ui(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Mr(o.containerInfo)}catch(ue){wt(i,i.return,ue)}break;case 4:$r(o,i),ui(i);break;case 13:$r(o,i),ui(i),p=i.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(xm=rt())),h&4&&rv(i);break;case 22:if(K=l!==null&&l.memoizedState!==null,i.mode&1?(mn=(B=mn)||K,$r(o,i),mn=B):$r(o,i),ui(i),h&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!K&&(i.mode&1)!==0)for(se=i,K=i.child;K!==null;){for(Q=se=K;se!==null;){switch(W=se,ne=W.child,W.tag){case 0:case 11:case 14:case 15:Wu(4,W,W.return);break;case 1:rl(W,W.return);var ae=W.stateNode;if(typeof ae.componentWillUnmount=="function"){h=W,l=W.return;try{o=h,ae.props=o.memoizedProps,ae.state=o.memoizedState,ae.componentWillUnmount()}catch(ue){wt(h,l,ue)}}break;case 5:rl(W,W.return);break;case 22:if(W.memoizedState!==null){av(Q);continue}}ne!==null?(ne.return=W,se=ne):av(Q)}K=K.sibling}e:for(K=null,Q=i;;){if(Q.tag===5){if(K===null){K=Q;try{p=Q.stateNode,B?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=Q.stateNode,C=Q.memoizedProps.style,E=C!=null&&C.hasOwnProperty("display")?C.display:null,A.style.display=lu("display",E))}catch(ue){wt(i,i.return,ue)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=B?"":Q.memoizedProps}catch(ue){wt(i,i.return,ue)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===i)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===i)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===i)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:$r(o,i),ui(i),h&4&&rv(i);break;case 21:break;default:$r(o,i),ui(i)}}function ui(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(ev(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(cs(p,""),h.flags&=-33);var g=tv(i);Rm(i,g,p);break;case 3:case 4:var E=h.stateNode.containerInfo,A=tv(i);km(i,A,E);break;default:throw Error(n(161))}}catch(C){wt(i,i.return,C)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function kA(i,o,l){se=i,sv(i)}function sv(i,o,l){for(var h=(i.mode&1)!==0;se!==null;){var p=se,g=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Kh;if(!E){var A=p.alternate,C=A!==null&&A.memoizedState!==null||mn;A=Kh;var B=mn;if(Kh=E,(mn=C)&&!B)for(se=p;se!==null;)E=se,C=E.child,E.tag===22&&E.memoizedState!==null?lv(p):C!==null?(C.return=E,se=C):lv(p);for(;g!==null;)se=g,sv(g),g=g.sibling;se=p,Kh=A,mn=B}ov(i)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,se=g):ov(i)}}function ov(i){for(;se!==null;){var o=se;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:mn||Qh(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!mn)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:jr(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&a2(o,g,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}a2(o,E,l)}break;case 5:var A=o.stateNode;if(l===null&&o.flags&4){l=A;var C=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&l.focus();break;case"img":C.src&&(l.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var B=o.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&Mr(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mn||o.flags&512&&Am(o)}catch(W){wt(o,o.return,W)}}if(o===i){se=null;break}if(l=o.sibling,l!==null){l.return=o.return,se=l;break}se=o.return}}function av(i){for(;se!==null;){var o=se;if(o===i){se=null;break}var l=o.sibling;if(l!==null){l.return=o.return,se=l;break}se=o.return}}function lv(i){for(;se!==null;){var o=se;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Qh(4,o)}catch(C){wt(o,l,C)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(C){wt(o,p,C)}}var g=o.return;try{Am(o)}catch(C){wt(o,g,C)}break;case 5:var E=o.return;try{Am(o)}catch(C){wt(o,E,C)}}}catch(C){wt(o,o.return,C)}if(o===i){se=null;break}var A=o.sibling;if(A!==null){A.return=o.return,se=A;break}se=o.return}}var RA=Math.ceil,Xh=Te.ReactCurrentDispatcher,Cm=Te.ReactCurrentOwner,vr=Te.ReactCurrentBatchConfig,$e=0,Jt=null,Dt=null,on=0,Zn=0,il=Ts(0),$t=0,qu=null,Uo=0,Yh=0,Pm=0,Ku=null,Mn=null,xm=0,sl=1/0,Gi=null,Jh=!1,Nm=null,Cs=null,Zh=!1,Ps=null,ed=0,Qu=0,Dm=null,td=-1,nd=0;function An(){return($e&6)!==0?rt():td!==-1?td:td=rt()}function xs(i){return(i.mode&1)===0?1:($e&2)!==0&&on!==0?on&-on:cA.transition!==null?(nd===0&&(nd=Ro()),nd):(i=Me,i!==0||(i=window.event,i=i===void 0?16:Iu(i.type)),i)}function Hr(i,o,l,h){if(50<Qu)throw Qu=0,Dm=null,Error(n(185));ps(i,l,h),(($e&2)===0||i!==Jt)&&(i===Jt&&(($e&2)===0&&(Yh|=l),$t===4&&Ns(i,on)),Fn(i,h),l===1&&$e===0&&(o.mode&1)===0&&(sl=rt()+500,xh&&Ss()))}function Fn(i,o){var l=i.callbackNode;bi(i,o);var h=ko(i,i===Jt?on:0);if(h===0)l!==null&&vu(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&vu(l),o===1)i.tag===0?uA(cv.bind(null,i)):Q0(cv.bind(null,i)),sA(function(){($e&6)===0&&Ss()}),l=null;else{switch(gs(h)){case 1:l=So;break;case 4:l=hs;break;case 16:l=hr;break;case 536870912:l=nh;break;default:l=hr}l=vv(l,uv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function uv(i,o){if(td=-1,nd=0,($e&6)!==0)throw Error(n(327));var l=i.callbackNode;if(ol()&&i.callbackNode!==l)return null;var h=ko(i,i===Jt?on:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=rd(i,h);else{o=h;var p=$e;$e|=2;var g=dv();(Jt!==i||on!==o)&&(Gi=null,sl=rt()+500,jo(i,o));do try{xA();break}catch(A){hv(i,A)}while(!0);Xp(),Xh.current=g,$e=p,Dt!==null?o=0:(Jt=null,on=0,o=$t)}if(o!==0){if(o===2&&(p=Kn(i),p!==0&&(h=p,o=bm(i,p))),o===1)throw l=qu,jo(i,0),Ns(i,h),Fn(i,rt()),l;if(o===6)Ns(i,h);else{if(p=i.current.alternate,(h&30)===0&&!CA(p)&&(o=rd(i,h),o===2&&(g=Kn(i),g!==0&&(h=g,o=bm(i,g))),o===1))throw l=qu,jo(i,0),Ns(i,h),Fn(i,rt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:zo(i,Mn,Gi);break;case 3:if(Ns(i,h),(h&130023424)===h&&(o=xm+500-rt(),10<o)){if(ko(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){An(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=Up(zo.bind(null,i,Mn,Gi),o);break}zo(i,Mn,Gi);break;case 4:if(Ns(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var E=31-Tn(h);g=1<<E,E=o[E],E>p&&(p=E),h&=~g}if(h=p,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*RA(h/1960))-h,10<h){i.timeoutHandle=Up(zo.bind(null,i,Mn,Gi),h);break}zo(i,Mn,Gi);break;case 5:zo(i,Mn,Gi);break;default:throw Error(n(329))}}}return Fn(i,rt()),i.callbackNode===l?uv.bind(null,i):null}function bm(i,o){var l=Ku;return i.current.memoizedState.isDehydrated&&(jo(i,o).flags|=256),i=rd(i,o),i!==2&&(o=Mn,Mn=l,o!==null&&Om(o)),i}function Om(i){Mn===null?Mn=i:Mn.push.apply(Mn,i)}function CA(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!Ur(g(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ns(i,o){for(o&=~Pm,o&=~Yh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Tn(o),h=1<<l;i[l]=-1,o&=~h}}function cv(i){if(($e&6)!==0)throw Error(n(327));ol();var o=ko(i,0);if((o&1)===0)return Fn(i,rt()),null;var l=rd(i,o);if(i.tag!==0&&l===2){var h=Kn(i);h!==0&&(o=h,l=bm(i,h))}if(l===1)throw l=qu,jo(i,0),Ns(i,o),Fn(i,rt()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,zo(i,Mn,Gi),Fn(i,rt()),null}function Lm(i,o){var l=$e;$e|=1;try{return i(o)}finally{$e=l,$e===0&&(sl=rt()+500,xh&&Ss())}}function Bo(i){Ps!==null&&Ps.tag===0&&($e&6)===0&&ol();var o=$e;$e|=1;var l=vr.transition,h=Me;try{if(vr.transition=null,Me=1,i)return i()}finally{Me=h,vr.transition=l,$e=o,($e&6)===0&&Ss()}}function Vm(){Zn=il.current,lt(il)}function jo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,iA(l)),Dt!==null)for(l=Dt.return;l!==null;){var h=l;switch(Gp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ch();break;case 3:tl(),lt(On),lt(dn),im();break;case 5:nm(h);break;case 4:tl();break;case 13:lt(gt);break;case 19:lt(gt);break;case 10:Yp(h.type._context);break;case 22:case 23:Vm()}l=l.return}if(Jt=i,Dt=i=Ds(i.current,null),on=Zn=o,$t=0,qu=null,Pm=Yh=Uo=0,Mn=Ku=null,Vo!==null){for(o=0;o<Vo.length;o++)if(l=Vo[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,h.next=E}l.pending=h}Vo=null}return i}function hv(i,o){do{var l=Dt;try{if(Xp(),Bh.current=Hh,jh){for(var h=yt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}jh=!1}if(Fo=0,Yt=zt=yt=null,ju=!1,zu=0,Cm.current=null,l===null||l.return===null){$t=1,qu=o,Dt=null;break}e:{var g=i,E=l.return,A=l,C=o;if(o=on,A.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=C,K=A,Q=K.tag;if((K.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var ne=V2(E);if(ne!==null){ne.flags&=-257,M2(ne,E,A,g,o),ne.mode&1&&L2(g,B,o),o=ne,C=B;var ae=o.updateQueue;if(ae===null){var ue=new Set;ue.add(C),o.updateQueue=ue}else ae.add(C);break e}else{if((o&1)===0){L2(g,B,o),Mm();break e}C=Error(n(426))}}else if(dt&&A.mode&1){var Rt=V2(E);if(Rt!==null){(Rt.flags&65536)===0&&(Rt.flags|=256),M2(Rt,E,A,g,o),Kp(nl(C,A));break e}}g=C=nl(C,A),$t!==4&&($t=2),Ku===null?Ku=[g]:Ku.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var M=b2(g,C,o);o2(g,M);break e;case 1:A=C;var N=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Cs===null||!Cs.has(U)))){g.flags|=65536,o&=-o,g.lanes|=o;var X=O2(g,A,o);o2(g,X);break e}}g=g.return}while(g!==null)}pv(l)}catch(he){o=he,Dt===l&&l!==null&&(Dt=l=l.return);continue}break}while(!0)}function dv(){var i=Xh.current;return Xh.current=Hh,i===null?Hh:i}function Mm(){($t===0||$t===3||$t===2)&&($t=4),Jt===null||(Uo&268435455)===0&&(Yh&268435455)===0||Ns(Jt,on)}function rd(i,o){var l=$e;$e|=2;var h=dv();(Jt!==i||on!==o)&&(Gi=null,jo(i,o));do try{PA();break}catch(p){hv(i,p)}while(!0);if(Xp(),$e=l,Xh.current=h,Dt!==null)throw Error(n(261));return Jt=null,on=0,$t}function PA(){for(;Dt!==null;)fv(Dt)}function xA(){for(;Dt!==null&&!eh();)fv(Dt)}function fv(i){var o=yv(i.alternate,i,Zn);i.memoizedProps=i.pendingProps,o===null?pv(i):Dt=o,Cm.current=null}function pv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=TA(l,o,Zn),l!==null){Dt=l;return}}else{if(l=IA(l,o),l!==null){l.flags&=32767,Dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Dt=null;return}}if(o=o.sibling,o!==null){Dt=o;return}Dt=o=i}while(o!==null);$t===0&&($t=5)}function zo(i,o,l){var h=Me,p=vr.transition;try{vr.transition=null,Me=1,NA(i,o,l,h)}finally{vr.transition=p,Me=h}return null}function NA(i,o,l,h){do ol();while(Ps!==null);if(($e&6)!==0)throw Error(n(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(et(i,g),i===Jt&&(Dt=Jt=null,on=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Zh||(Zh=!0,vv(hr,function(){return ol(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=vr.transition,vr.transition=null;var E=Me;Me=1;var A=$e;$e|=4,Cm.current=null,AA(i,l),iv(l,i),YS(Mp),vs=!!Vp,Mp=Vp=null,i.current=l,kA(l),Ep(),$e=A,Me=E,vr.transition=g}else i.current=l;if(Zh&&(Zh=!1,Ps=i,ed=p),g=i.pendingLanes,g===0&&(Cs=null),rh(l.stateNode),Fn(i,rt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Jh)throw Jh=!1,i=Nm,Nm=null,i;return(ed&1)!==0&&i.tag!==0&&ol(),g=i.pendingLanes,(g&1)!==0?i===Dm?Qu++:(Qu=0,Dm=i):Qu=0,Ss(),null}function ol(){if(Ps!==null){var i=gs(ed),o=vr.transition,l=Me;try{if(vr.transition=null,Me=16>i?16:i,Ps===null)var h=!1;else{if(i=Ps,Ps=null,ed=0,($e&6)!==0)throw Error(n(331));var p=$e;for($e|=4,se=i.current;se!==null;){var g=se,E=g.child;if((se.flags&16)!==0){var A=g.deletions;if(A!==null){for(var C=0;C<A.length;C++){var B=A[C];for(se=B;se!==null;){var K=se;switch(K.tag){case 0:case 11:case 15:Wu(8,K,g)}var Q=K.child;if(Q!==null)Q.return=K,se=Q;else for(;se!==null;){K=se;var W=K.sibling,ne=K.return;if(Z2(K),K===B){se=null;break}if(W!==null){W.return=ne,se=W;break}se=ne}}}var ae=g.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var Rt=ue.sibling;ue.sibling=null,ue=Rt}while(ue!==null)}}se=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,se=E;else e:for(;se!==null;){if(g=se,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Wu(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,se=M;break e}se=g.return}}var N=i.current;for(se=N;se!==null;){E=se;var U=E.child;if((E.subtreeFlags&2064)!==0&&U!==null)U.return=E,se=U;else e:for(E=N;se!==null;){if(A=se,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Qh(9,A)}}catch(he){wt(A,A.return,he)}if(A===E){se=null;break e}var X=A.sibling;if(X!==null){X.return=A.return,se=X;break e}se=A.return}}if($e=p,Ss(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Ao,i)}catch{}h=!0}return h}finally{Me=l,vr.transition=o}}return!1}function mv(i,o,l){o=nl(l,o),o=b2(i,o,1),i=ks(i,o,1),o=An(),i!==null&&(ps(i,1,o),Fn(i,o))}function wt(i,o,l){if(i.tag===3)mv(i,i,l);else for(;o!==null;){if(o.tag===3){mv(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){i=nl(l,i),i=O2(o,i,1),o=ks(o,i,1),i=An(),o!==null&&(ps(o,1,i),Fn(o,i));break}}o=o.return}}function DA(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=An(),i.pingedLanes|=i.suspendedLanes&l,Jt===i&&(on&l)===l&&($t===4||$t===3&&(on&130023424)===on&&500>rt()-xm?jo(i,0):Pm|=l),Fn(i,o)}function gv(i,o){o===0&&((i.mode&1)===0?o=1:(o=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var l=An();i=zi(i,o),i!==null&&(ps(i,o,l),Fn(i,l))}function bA(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),gv(i,l)}function OA(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),gv(i,l)}var yv;yv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||On.current)Vn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Vn=!1,wA(i,o,l);Vn=(i.flags&131072)!==0}else Vn=!1,dt&&(o.flags&1048576)!==0&&X0(o,Dh,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;qh(i,o),i=o.pendingProps;var p=Ka(o,dn.current);el(o,l),p=am(null,o,h,i,p,l);var g=lm();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ln(h)?(g=!0,Ph(o)):g=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,em(o),p.updater=Gh,o.stateNode=p,p._reactInternals=o,pm(o,h,i,l),o=vm(null,o,h,!0,g,l)):(o.tag=0,dt&&g&&Hp(o),Sn(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(qh(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=VA(h),i=jr(h,i),p){case 0:o=ym(null,o,h,i,l);break e;case 1:o=$2(null,o,h,i,l);break e;case 11:o=F2(null,o,h,i,l);break e;case 14:o=U2(null,o,h,jr(h.type,i),l);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:jr(h,p),ym(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:jr(h,p),$2(i,o,h,p,l);case 3:e:{if(H2(o),i===null)throw Error(n(387));h=o.pendingProps,g=o.memoizedState,p=g.element,s2(i,o),Fh(o,h,null,l);var E=o.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){p=nl(Error(n(423)),o),o=G2(i,o,h,l,p);break e}else if(h!==p){p=nl(Error(n(424)),o),o=G2(i,o,h,l,p);break e}else for(Jn=ws(o.stateNode.containerInfo.firstChild),Yn=o,dt=!0,Br=null,l=r2(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ya(),h===p){o=Hi(i,o,l);break e}Sn(i,o,h,l)}o=o.child}return o;case 5:return l2(o),i===null&&qp(o),h=o.type,p=o.pendingProps,g=i!==null?i.memoizedProps:null,E=p.children,Fp(h,p)?E=null:g!==null&&Fp(h,g)&&(o.flags|=32),z2(i,o),Sn(i,o,E,l),o.child;case 6:return i===null&&qp(o),null;case 13:return W2(i,o,l);case 4:return tm(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ja(o,null,h,l):Sn(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:jr(h,p),F2(i,o,h,p,l);case 7:return Sn(i,o,o.pendingProps,l),o.child;case 8:return Sn(i,o,o.pendingProps.children,l),o.child;case 12:return Sn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,g=o.memoizedProps,E=p.value,it(Lh,h._currentValue),h._currentValue=E,g!==null)if(Ur(g.value,E)){if(g.children===p.children&&!On.current){o=Hi(i,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var C=A.firstContext;C!==null;){if(C.context===h){if(g.tag===1){C=$i(-1,l&-l),C.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?C.next=C:(C.next=K.next,K.next=C),B.pending=C}}g.lanes|=l,C=g.alternate,C!==null&&(C.lanes|=l),Jp(g.return,l,o),A.lanes|=l;break}C=C.next}}else if(g.tag===10)E=g.type===o.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(n(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),Jp(E,l,o),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Sn(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,el(o,l),p=gr(p),h=h(p),o.flags|=1,Sn(i,o,h,l),o.child;case 14:return h=o.type,p=jr(h,o.pendingProps),p=jr(h.type,p),U2(i,o,h,p,l);case 15:return B2(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:jr(h,p),qh(i,o),o.tag=1,Ln(h)?(i=!0,Ph(o)):i=!1,el(o,l),N2(o,h,p),pm(o,h,p,l),vm(null,o,h,!0,i,l);case 19:return K2(i,o,l);case 22:return j2(i,o,l)}throw Error(n(156,o.tag))};function vv(i,o){return Ra(i,o)}function LA(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(i,o,l,h){return new LA(i,o,l,h)}function Fm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VA(i){if(typeof i=="function")return Fm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===cn)return 14}return 2}function Ds(i,o){var l=i.alternate;return l===null?(l=_r(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function id(i,o,l,h,p,g){var E=2;if(h=i,typeof i=="function")Fm(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case P:return $o(l.children,p,g,o);case S:E=8,p|=8;break;case R:return i=_r(12,l,o,p|2),i.elementType=R,i.lanes=g,i;case k:return i=_r(13,l,o,p),i.elementType=k,i.lanes=g,i;case At:return i=_r(19,l,o,p),i.elementType=At,i.lanes=g,i;case Ze:return sd(l,p,g,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:E=10;break e;case D:E=9;break e;case L:E=11;break e;case cn:E=14;break e;case hn:E=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=_r(E,l,o,p),o.elementType=i,o.type=h,o.lanes=g,o}function $o(i,o,l,h){return i=_r(7,i,h,o),i.lanes=l,i}function sd(i,o,l,h){return i=_r(22,i,h,o),i.elementType=Ze,i.lanes=l,i.stateNode={isHidden:!1},i}function Um(i,o,l){return i=_r(6,i,null,o),i.lanes=l,i}function Bm(i,o,l){return o=_r(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function MA(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function jm(i,o,l,h,p,g,E,A,C){return i=new MA(i,o,l,A,C),o===1?(o=1,g===!0&&(o|=8)):o=0,g=_r(3,null,null,o),i.current=g,g.stateNode=i,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(g),i}function FA(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function _v(i){if(!i)return Is;i=i._reactInternals;e:{if(Dr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(Ln(l))return q0(i,l,o)}return o}function Ev(i,o,l,h,p,g,E,A,C){return i=jm(l,h,!0,i,p,g,E,A,C),i.context=_v(null),l=i.current,h=An(),p=xs(l),g=$i(h,p),g.callback=o??null,ks(l,g,p),i.current.lanes=p,ps(i,p,h),Fn(i,h),i}function od(i,o,l,h){var p=o.current,g=An(),E=xs(p);return l=_v(l),o.context===null?o.context=l:o.pendingContext=l,o=$i(g,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=ks(p,o,E),i!==null&&(Hr(i,p,E,g),Mh(i,p,E)),E}function ad(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function wv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function zm(i,o){wv(i,o),(i=i.alternate)&&wv(i,o)}function UA(){return null}var Tv=typeof reportError=="function"?reportError:function(i){console.error(i)};function $m(i){this._internalRoot=i}ld.prototype.render=$m.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));od(i,o,null,null)},ld.prototype.unmount=$m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Bo(function(){od(null,i,null,null)}),o[Fi]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var o=lh();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ni.length&&o!==0&&o<ni[l].priority;l++);ni.splice(l,0,i),l===0&&hh(i)}};function Hm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ud(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function BA(i,o,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var B=ad(E);g.call(B)}}var E=Ev(o,h,i,0,null,!1,!1,"",Iv);return i._reactRootContainer=E,i[Fi]=E.current,bu(i.nodeType===8?i.parentNode:i),Bo(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var B=ad(C);A.call(B)}}var C=jm(i,0,!1,null,null,!1,!1,"",Iv);return i._reactRootContainer=C,i[Fi]=C.current,bu(i.nodeType===8?i.parentNode:i),Bo(function(){od(o,C,l,h)}),C}function cd(i,o,l,h,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var A=p;p=function(){var C=ad(E);A.call(C)}}od(o,E,i,p)}else E=BA(l,o,i,p,h);return ad(E)}oh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ds(o.pendingLanes);l!==0&&(ms(o,l|1),Fn(o,rt()),($e&6)===0&&(sl=rt()+500,Ss()))}break;case 13:Bo(function(){var h=zi(i,1);if(h!==null){var p=An();Hr(h,i,1,p)}}),zm(i,1)}},xa=function(i){if(i.tag===13){var o=zi(i,134217728);if(o!==null){var l=An();Hr(o,i,134217728,l)}zm(i,134217728)}},ah=function(i){if(i.tag===13){var o=xs(i),l=zi(i,o);if(l!==null){var h=An();Hr(l,i,o,h)}zm(i,o)}},lh=function(){return Me},uh=function(i,o){var l=Me;try{return Me=i,o()}finally{Me=l}},wa=function(i,o,l){switch(o){case"input":if(iu(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=Rh(h);if(!p)throw Error(n(90));ma(h),iu(h,p)}}}break;case"textarea":_a(i,l);break;case"select":o=l.value,o!=null&&xi(i,!!l.multiple,o,!1)}},Eo=Lm,pu=Bo;var jA={usingClientEntryPoint:!1,Events:[Vu,Wa,Rh,ei,fu,Lm]},Xu={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zA={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yu(i),i===null?null:i.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||UA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Ao=hd.inject(zA),qn=hd}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA,Un.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hm(o))throw Error(n(200));return FA(i,o,null,l)},Un.createRoot=function(i,o){if(!Hm(i))throw Error(n(299));var l=!1,h="",p=Tv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=jm(i,1,!1,null,null,l,!1,h,p),i[Fi]=o.current,bu(i.nodeType===8?i.parentNode:i),new $m(o)},Un.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=yu(o),i=i===null?null:i.stateNode,i},Un.flushSync=function(i){return Bo(i)},Un.hydrate=function(i,o,l){if(!ud(o))throw Error(n(200));return cd(null,i,o,!0,l)},Un.hydrateRoot=function(i,o,l){if(!Hm(i))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",E=Tv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Ev(o,null,i,1,l??null,p,!1,g,E),i[Fi]=o.current,bu(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new ld(o)},Un.render=function(i,o,l){if(!ud(o))throw Error(n(200));return cd(null,i,o,!1,l)},Un.unmountComponentAtNode=function(i){if(!ud(i))throw Error(n(40));return i._reactRootContainer?(Bo(function(){cd(null,null,i,!1,function(){i._reactRootContainer=null,i[Fi]=null})}),!0):!1},Un.unstable_batchedUpdates=Lm,Un.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!ud(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return cd(i,o,l,!1,h)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var Nv;function V4(){if(Nv)return qm.exports;Nv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qm.exports=YA(),qm.exports}var Dv;function JA(){if(Dv)return dd;Dv=1;var t=V4();return dd.createRoot=t.createRoot,dd.hydrateRoot=t.hydrateRoot,dd}var ZA=JA();const e6=O4(ZA);V4();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}var zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zs||(zs={}));const bv="popstate";function t6(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Ag("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:F4(s)}return r6(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n6(){return Math.random().toString(36).substr(2,8)}function Ov(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n,r){return n===void 0&&(n=null),vc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ul(e):e,{state:n,key:e&&e.key||r||n6()})}function F4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function r6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d=zs.Pop,f=null,y=_();y==null&&(y=0,u.replaceState(vc({},u.state,{idx:y}),""));function _(){return(u.state||{idx:null}).idx}function w(){d=zs.Pop;let F=_(),te=F==null?null:F-y;y=F,f&&f({action:d,location:$.location,delta:te})}function I(F,te){d=zs.Push;let ee=Ag($.location,F,te);y=_()+1;let le=Ov(ee,y),Te=$.createHref(ee);try{u.pushState(le,"",Te)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;s.location.assign(Te)}a&&f&&f({action:d,location:$.location,delta:1})}function b(F,te){d=zs.Replace;let ee=Ag($.location,F,te);y=_();let le=Ov(ee,y),Te=$.createHref(ee);u.replaceState(le,"",Te),a&&f&&f({action:d,location:$.location,delta:0})}function j(F){let te=s.location.origin!=="null"?s.location.origin:s.location.href,ee=typeof F=="string"?F:F4(F);return ee=ee.replace(/ $/,"%20"),Mt(te,"No window.location.(origin|href) available to create URL for href: "+ee),new URL(ee,te)}let $={get action(){return d},get location(){return t(s,u)},listen(F){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(bv,w),f=F,()=>{s.removeEventListener(bv,w),f=null}},createHref(F){return e(s,F)},createURL:j,encodeLocation(F){let te=j(F);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:I,replace:b,go(F){return u.go(F)}};return $}var Lv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lv||(Lv={}));function i6(t,e,n){return n===void 0&&(n="/"),s6(t,e,n)}function s6(t,e,n,r){let s=typeof e=="string"?Ul(e):e,a=j4(s.pathname||"/",n);if(a==null)return null;let u=U4(t);o6(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let y=v6(a);d=m6(u[f],y)}return d}function U4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Mt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let y=Yo([r,f.relativePath]),_=n.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),U4(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:f6(y,a.index),routesMeta:_})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of B4(a.path))s(a,u,f)}),e}function B4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=B4(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function o6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a6=/^:[\w-]+$/,l6=3,u6=2,c6=1,h6=10,d6=-2,Vv=t=>t==="*";function f6(t,e){let n=t.split("/"),r=n.length;return n.some(Vv)&&(r+=d6),e&&(r+=u6),n.filter(s=>!Vv(s)).reduce((s,a)=>s+(a6.test(a)?l6:a===""?c6:h6),r)}function p6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m6(t,e,n){let{routesMeta:r}=t,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],y=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=g6({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},_),I=f.route;if(!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Yo([a,w.pathname]),pathnameBase:T6(Yo([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=Yo([a,w.pathnameBase]))}return u}function g6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((y,_,w)=>{let{paramName:I,isOptional:b}=_;if(I==="*"){let $=d[w]||"";u=a.slice(0,a.length-$.length).replace(/(.)\/+$/,"$1")}const j=d[w];return b&&!j?y[I]=void 0:y[I]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:t}}function y6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function v6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ul(t):t;return{pathname:n?n.startsWith("/")?n:E6(n,e):e,search:I6(r),hash:S6(s)}}function E6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function z4(t,e){let n=w6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $4(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ul(t):(s=vc({},t),Mt(!s.pathname||!s.pathname.includes("?"),Xm("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),Xm("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),Xm("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),w-=1;s.pathname=I.join("/")}d=w>=0?e[w]:"/"}let f=_6(s,d),y=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||_)&&(f.pathname+="/"),f}const Yo=t=>t.join("/").replace(/\/\/+/g,"/"),T6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H4=["post","put","patch","delete"];new Set(H4);const k6=["get",...H4];new Set(k6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}const I1=J.createContext(null),R6=J.createContext(null),Lc=J.createContext(null),mf=J.createContext(null),uo=J.createContext({outlet:null,matches:[],isDataRoute:!1}),G4=J.createContext(null);function Vc(){return J.useContext(mf)!=null}function gf(){return Vc()||Mt(!1),J.useContext(mf).location}function W4(t){J.useContext(Lc).static||J.useLayoutEffect(t)}function S1(){let{isDataRoute:t}=J.useContext(uo);return t?j6():C6()}function C6(){Vc()||Mt(!1);let t=J.useContext(I1),{basename:e,future:n,navigator:r}=J.useContext(Lc),{matches:s}=J.useContext(uo),{pathname:a}=gf(),u=JSON.stringify(z4(s,n.v7_relativeSplatPath)),d=J.useRef(!1);return W4(()=>{d.current=!0}),J.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){r.go(y);return}let w=$4(y,JSON.parse(u),a,_.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Yo([e,w.pathname])),(_.replace?r.replace:r.push)(w,_.state,_)},[e,r,u,a,t])}function P6(){let{matches:t}=J.useContext(uo),e=t[t.length-1];return e?e.params:{}}function x6(t,e){return N6(t,e)}function N6(t,e,n,r){Vc()||Mt(!1);let{navigator:s}=J.useContext(Lc),{matches:a}=J.useContext(uo),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let y=gf(),_;if(e){var w;let F=typeof e=="string"?Ul(e):e;f==="/"||(w=F.pathname)!=null&&w.startsWith(f)||Mt(!1),_=F}else _=y;let I=_.pathname||"/",b=I;if(f!=="/"){let F=f.replace(/^\//,"").split("/");b="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=i6(t,{pathname:b}),$=V6(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Yo([f,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?f:Yo([f,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,n,r);return e&&$?J.createElement(mf.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:zs.Pop}},$):$}function D6(){let t=B6(),e=A6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:s},n):null,null)}const b6=J.createElement(D6,null);class O6 extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(uo.Provider,{value:this.props.routeContext},J.createElement(G4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L6(t){let{routeContext:e,match:n,children:r}=t,s=J.useContext(I1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(uo.Provider,{value:e},r)}function V6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,d=(s=n)==null?void 0:s.errors;if(d!=null){let _=u.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);_>=0||Mt(!1),u=u.slice(0,Math.min(u.length,_+1))}let f=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<u.length;_++){let w=u[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:I,errors:b}=n,j=w.route.loader&&I[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||j){f=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((_,w,I)=>{let b,j=!1,$=null,F=null;n&&(b=d&&w.route.id?d[w.route.id]:void 0,$=w.route.errorElement||b6,f&&(y<0&&I===0?(z6("route-fallback"),j=!0,F=null):y===I&&(j=!0,F=w.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,I+1)),ee=()=>{let le;return b?le=$:j?le=F:w.route.Component?le=J.createElement(w.route.Component,null):w.route.element?le=w.route.element:le=_,J.createElement(L6,{match:w,routeContext:{outlet:_,matches:te,isDataRoute:n!=null},children:le})};return n&&(w.route.ErrorBoundary||w.route.errorElement||I===0)?J.createElement(O6,{location:n.location,revalidation:n.revalidation,component:$,error:b,children:ee(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):ee()},null)}var q4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(q4||{}),K4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(K4||{});function M6(t){let e=J.useContext(I1);return e||Mt(!1),e}function F6(t){let e=J.useContext(R6);return e||Mt(!1),e}function U6(t){let e=J.useContext(uo);return e||Mt(!1),e}function Q4(t){let e=U6(),n=e.matches[e.matches.length-1];return n.route.id||Mt(!1),n.route.id}function B6(){var t;let e=J.useContext(G4),n=F6(),r=Q4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j6(){let{router:t}=M6(q4.UseNavigateStable),e=Q4(K4.UseNavigateStable),n=J.useRef(!1);return W4(()=>{n.current=!0}),J.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_c({fromRouteId:e},a)))},[t,e])}const Mv={};function z6(t,e,n){Mv[t]||(Mv[t]=!0)}function $6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function H6(t){let{to:e,replace:n,state:r,relative:s}=t;Vc()||Mt(!1);let{future:a,static:u}=J.useContext(Lc),{matches:d}=J.useContext(uo),{pathname:f}=gf(),y=S1(),_=$4(e,z4(d,a.v7_relativeSplatPath),f,s==="path"),w=JSON.stringify(_);return J.useEffect(()=>y(JSON.parse(w),{replace:n,state:r,relative:s}),[y,w,s,n,r]),null}function Sd(t){Mt(!1)}function G6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=zs.Pop,navigator:a,static:u=!1,future:d}=t;Vc()&&Mt(!1);let f=e.replace(/^\/*/,"/"),y=J.useMemo(()=>({basename:f,navigator:a,static:u,future:_c({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=Ul(r));let{pathname:_="/",search:w="",hash:I="",state:b=null,key:j="default"}=r,$=J.useMemo(()=>{let F=j4(_,f);return F==null?null:{location:{pathname:F,search:w,hash:I,state:b,key:j},navigationType:s}},[f,_,w,I,b,j,s]);return $==null?null:J.createElement(Lc.Provider,{value:y},J.createElement(mf.Provider,{children:n,value:$}))}function W6(t){let{children:e,location:n}=t;return x6(kg(e),n)}new Promise(()=>{});function kg(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,s)=>{if(!J.isValidElement(r))return;let a=[...e,s];if(r.type===J.Fragment){n.push.apply(n,kg(r.props.children,a));return}r.type!==Sd&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=kg(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function q6(t,e){let n=Rg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}const K6="6";try{window.__reactRouterVersion=K6}catch{}const Q6="startTransition",Fv=KA[Q6];function X6(t){let{basename:e,children:n,future:r,window:s}=t,a=J.useRef();a.current==null&&(a.current=t6({window:s,v5Compat:!0}));let u=a.current,[d,f]=J.useState({action:u.action,location:u.location}),{v7_startTransition:y}=r||{},_=J.useCallback(w=>{y&&Fv?Fv(()=>f(w)):f(w)},[f,y]);return J.useLayoutEffect(()=>u.listen(_),[u,_]),J.useEffect(()=>$6(r),[r]),J.createElement(G6,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:r})}var Uv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uv||(Uv={}));var Bv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bv||(Bv={}));function X4(t){let e=J.useRef(Rg(t)),n=J.useRef(!1),r=gf(),s=J.useMemo(()=>q6(r.search,n.current?null:e.current),[r.search]),a=S1(),u=J.useCallback((d,f)=>{const y=Rg(typeof d=="function"?d(s):d);n.current=!0,a("?"+y,f)},[a,s]);return[s,u]}const Y6=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],d=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},J4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,d=u?t[s+1]:0,f=s+2<t.length,y=f?t[s+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,b=y&63;f||(b=64,u||(I=64)),r.push(n[_],n[w],n[I],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const y=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||y==null||w==null)throw new Z6;const I=a<<2|d>>4;if(r.push(I),y!==64){const b=d<<4&240|y>>2;if(r.push(b),w!==64){const j=y<<6&192|w;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=Y4(t);return J4.encodeByteArray(e,!0)},Bd=function(t){return ek(t).replace(/\./g,"")},Z4=function(t){try{return J4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>tk().__FIREBASE_DEFAULTS__,rk=()=>{if(typeof process>"u"||typeof jv>"u")return;const t=jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z4(t[1]);return e&&JSON.parse(e)},yf=()=>{try{return Y6()||nk()||rk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eE=t=>{var e,n;return(n=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sk=t=>{const e=eE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tE=()=>{var t;return(t=yf())===null||t===void 0?void 0:t.config},nE=t=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bd(JSON.stringify(n)),Bd(JSON.stringify(u)),""].join(".")}const ac={};function lk(){const t={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?t.emulator.push(e):t.prod.push(e);return t}function uk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zv=!1;function iE(t,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||ac[t]===e||ac[t]||zv)return;ac[t]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",a=lk().prod.length>0;function u(){const I=document.getElementById(r);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function f(I,b){I.setAttribute("width","24"),I.setAttribute("id",b),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{zv=!0,u()},I}function _(I,b){I.setAttribute("id",b),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=uk(r),b=n("text"),j=document.getElementById(b)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),te=n("preprendIcon"),ee=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const le=I.element;d(le),_(F,$);const Te=y();f(ee,te),le.append(ee,j,F,Te),document.body.appendChild(le)}a?(j.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ck(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function hk(){var t;const e=(t=yf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pk(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mk(){return!hk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oE(){try{return typeof indexedDB=="object"}catch{return!1}}function aE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function gk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yk,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?vk(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Kr(s,d,r)}}function vk(t,e){return t.replace(_k,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _k=/\{\$([^}]+)}/g;function Ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if($v(a)&&$v(u)){if(!es(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wk(t,e){const n=new Tk(t,e);return n.subscribe.bind(n)}class Tk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ik(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ym),s.error===void 0&&(s.error=Ym),s.complete===void 0&&(s.complete=Ym);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ik(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1e3,Ak=2,kk=14400*1e3,Rk=.5;function Hv(t,e=Sk,n=Ak){const r=e*Math.pow(n,t),s=Math.round(Rk*r*(Math.random()-.5)*2);return Math.min(kk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ok;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xk(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pk(t){return t===Go?void 0:t}function xk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ck(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const Dk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},bk=Oe.INFO,Ok={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Lk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Ok[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=bk,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Vk=(t,e)=>e.some(n=>t instanceof n);let Gv,Wv;function Mk(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fk(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,Cg=new WeakMap,uE=new WeakMap,Jm=new WeakMap,A1=new WeakMap;function Uk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Hs(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lE.set(n,t)}).catch(()=>{}),A1.set(e,t),e}function Bk(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Cg.set(t,e)}let Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jk(t){Pg=t(Pg)}function zk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zm(this),e,...n);return uE.set(r,e.sort?e.sort():[e]),Hs(r)}:Fk().includes(t)?function(...e){return t.apply(Zm(this),e),Hs(lE.get(this))}:function(...e){return Hs(t.apply(Zm(this),e))}}function $k(t){return typeof t=="function"?zk(t):(t instanceof IDBTransaction&&Bk(t),Vk(t,Mk())?new Proxy(t,Pg):t)}function Hs(t){if(t instanceof IDBRequest)return Uk(t);if(Jm.has(t))return Jm.get(t);const e=$k(t);return e!==t&&(Jm.set(t,e),A1.set(e,t)),e}const Zm=t=>A1.get(t);function cE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),d=Hs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hs(u.result),f.oldVersion,f.newVersion,Hs(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const Hk=["get","getKey","getAll","getAllKeys","count"],Gk=["put","add","delete","clear"],eg=new Map;function qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eg.get(e))return eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hk.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[n](...d),s&&f.done]))[0]};return eg.set(e,a),a}jk(t=>({...t,get:(e,n,r)=>qv(e,n)||t.get(e,n,r),has:(e,n)=>!!qv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",Kv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new vf("@firebase/app"),Kk="@firebase/app-compat",Qk="@firebase/analytics-compat",Xk="@firebase/analytics",Yk="@firebase/app-check-compat",Jk="@firebase/app-check",Zk="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",rR="@firebase/database-compat",iR="@firebase/functions",sR="@firebase/functions-compat",oR="@firebase/installations",aR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",dR="@firebase/remote-config",fR="@firebase/remote-config-compat",pR="@firebase/storage",mR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",vR="@firebase/firestore-compat",_R="firebase",ER="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",wR={[xg]:"fire-core",[Kk]:"fire-core-compat",[Xk]:"fire-analytics",[Qk]:"fire-analytics-compat",[Jk]:"fire-app-check",[Yk]:"fire-app-check-compat",[Zk]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[iR]:"fire-fn",[sR]:"fire-fn-compat",[oR]:"fire-iid",[aR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[dR]:"fire-rc",[fR]:"fire-rc-compat",[pR]:"fire-gcs",[mR]:"fire-gcs-compat",[gR]:"fire-fst",[vR]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[_R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,TR=new Map,Dg=new Map;function Qv(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(Dg.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of jd.values())Qv(n,t);for(const n of TR.values())Qv(n,t);return!0}function ha(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new ca("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=ER;function hE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ng,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(n||(n=tE()),!n)throw Gs.create("no-options");const a=jd.get(s);if(a){if(es(n,a.options)&&es(r,a.config))return a;throw Gs.create("duplicate-app",{appName:s})}const u=new Nk(s);for(const f of Dg.values())u.addComponent(f);const d=new SR(n,r,u);return jd.set(s,d),d}function k1(t=Ng){const e=jd.get(t);if(!e&&t===Ng&&tE())return hE();if(!e)throw Gs.create("no-app",{appName:t});return e}function kr(t,e,n){var r;let s=(r=wR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Ti(new qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",kR=1,Ec="firebase-heartbeat-store";let tg=null;function dE(){return tg||(tg=cE(AR,kR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),tg}async function RR(t){try{const n=(await dE()).transaction(Ec),r=await n.objectStore(Ec).get(fE(t));return await n.done,r}catch(e){if(e instanceof Kr)ts.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function Xv(t,e){try{const r=(await dE()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,fE(t)),await r.done}catch(n){if(n instanceof Kr)ts.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function fE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,PR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>PR){const u=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yv(),{heartbeatsToSend:r,unsentEntries:s}=NR(this._heartbeatsCache.heartbeats),a=Bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ts.warn(n),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function NR(t,e=CR){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Jv(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oE()?aE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jv(t){return Bd(JSON.stringify({version:2,heartbeats:t})).length}function bR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){Ti(new qr("platform-logger",e=>new Wk(e),"PRIVATE")),Ti(new qr("heartbeat",e=>new xR(e),"PRIVATE")),kr(xg,Kv,t),kr(xg,Kv,"esm2017"),kr("fire-js","")}OR("");var LR="firebase",VR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(LR,VR,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,pE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function R(){}R.prototype=S.prototype,P.D=S.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(x,D,L){for(var k=Array(arguments.length-2),At=2;At<arguments.length;At++)k[At-2]=arguments[At];return S.prototype[D].apply(x,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)x[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;16>D;++D)x[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=P.g[0],R=P.g[1],D=P.g[2];var L=P.g[3],k=S+(L^R&(D^L))+x[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=L+(D^S&(R^D))+x[1]+3905402710&4294967295,L=S+(k<<12&4294967295|k>>>20),k=D+(R^L&(S^R))+x[2]+606105819&4294967295,D=L+(k<<17&4294967295|k>>>15),k=R+(S^D&(L^S))+x[3]+3250441966&4294967295,R=D+(k<<22&4294967295|k>>>10),k=S+(L^R&(D^L))+x[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(D^S&(R^D))+x[5]+1200080426&4294967295,L=S+(k<<12&4294967295|k>>>20),k=D+(R^L&(S^R))+x[6]+2821735955&4294967295,D=L+(k<<17&4294967295|k>>>15),k=R+(S^D&(L^S))+x[7]+4249261313&4294967295,R=D+(k<<22&4294967295|k>>>10),k=S+(L^R&(D^L))+x[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(D^S&(R^D))+x[9]+2336552879&4294967295,L=S+(k<<12&4294967295|k>>>20),k=D+(R^L&(S^R))+x[10]+4294925233&4294967295,D=L+(k<<17&4294967295|k>>>15),k=R+(S^D&(L^S))+x[11]+2304563134&4294967295,R=D+(k<<22&4294967295|k>>>10),k=S+(L^R&(D^L))+x[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(D^S&(R^D))+x[13]+4254626195&4294967295,L=S+(k<<12&4294967295|k>>>20),k=D+(R^L&(S^R))+x[14]+2792965006&4294967295,D=L+(k<<17&4294967295|k>>>15),k=R+(S^D&(L^S))+x[15]+1236535329&4294967295,R=D+(k<<22&4294967295|k>>>10),k=S+(D^L&(R^D))+x[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^D&(S^R))+x[6]+3225465664&4294967295,L=S+(k<<9&4294967295|k>>>23),k=D+(S^R&(L^S))+x[11]+643717713&4294967295,D=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(D^L))+x[0]+3921069994&4294967295,R=D+(k<<20&4294967295|k>>>12),k=S+(D^L&(R^D))+x[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^D&(S^R))+x[10]+38016083&4294967295,L=S+(k<<9&4294967295|k>>>23),k=D+(S^R&(L^S))+x[15]+3634488961&4294967295,D=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(D^L))+x[4]+3889429448&4294967295,R=D+(k<<20&4294967295|k>>>12),k=S+(D^L&(R^D))+x[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^D&(S^R))+x[14]+3275163606&4294967295,L=S+(k<<9&4294967295|k>>>23),k=D+(S^R&(L^S))+x[3]+4107603335&4294967295,D=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(D^L))+x[8]+1163531501&4294967295,R=D+(k<<20&4294967295|k>>>12),k=S+(D^L&(R^D))+x[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^D&(S^R))+x[2]+4243563512&4294967295,L=S+(k<<9&4294967295|k>>>23),k=D+(S^R&(L^S))+x[7]+1735328473&4294967295,D=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(D^L))+x[12]+2368359562&4294967295,R=D+(k<<20&4294967295|k>>>12),k=S+(R^D^L)+x[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^D)+x[8]+2272392833&4294967295,L=S+(k<<11&4294967295|k>>>21),k=D+(L^S^R)+x[11]+1839030562&4294967295,D=L+(k<<16&4294967295|k>>>16),k=R+(D^L^S)+x[14]+4259657740&4294967295,R=D+(k<<23&4294967295|k>>>9),k=S+(R^D^L)+x[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^D)+x[4]+1272893353&4294967295,L=S+(k<<11&4294967295|k>>>21),k=D+(L^S^R)+x[7]+4139469664&4294967295,D=L+(k<<16&4294967295|k>>>16),k=R+(D^L^S)+x[10]+3200236656&4294967295,R=D+(k<<23&4294967295|k>>>9),k=S+(R^D^L)+x[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^D)+x[0]+3936430074&4294967295,L=S+(k<<11&4294967295|k>>>21),k=D+(L^S^R)+x[3]+3572445317&4294967295,D=L+(k<<16&4294967295|k>>>16),k=R+(D^L^S)+x[6]+76029189&4294967295,R=D+(k<<23&4294967295|k>>>9),k=S+(R^D^L)+x[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^D)+x[12]+3873151461&4294967295,L=S+(k<<11&4294967295|k>>>21),k=D+(L^S^R)+x[15]+530742520&4294967295,D=L+(k<<16&4294967295|k>>>16),k=R+(D^L^S)+x[2]+3299628645&4294967295,R=D+(k<<23&4294967295|k>>>9),k=S+(D^(R|~L))+x[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~D))+x[7]+1126891415&4294967295,L=S+(k<<10&4294967295|k>>>22),k=D+(S^(L|~R))+x[14]+2878612391&4294967295,D=L+(k<<15&4294967295|k>>>17),k=R+(L^(D|~S))+x[5]+4237533241&4294967295,R=D+(k<<21&4294967295|k>>>11),k=S+(D^(R|~L))+x[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~D))+x[3]+2399980690&4294967295,L=S+(k<<10&4294967295|k>>>22),k=D+(S^(L|~R))+x[10]+4293915773&4294967295,D=L+(k<<15&4294967295|k>>>17),k=R+(L^(D|~S))+x[1]+2240044497&4294967295,R=D+(k<<21&4294967295|k>>>11),k=S+(D^(R|~L))+x[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~D))+x[15]+4264355552&4294967295,L=S+(k<<10&4294967295|k>>>22),k=D+(S^(L|~R))+x[6]+2734768916&4294967295,D=L+(k<<15&4294967295|k>>>17),k=R+(L^(D|~S))+x[13]+1309151649&4294967295,R=D+(k<<21&4294967295|k>>>11),k=S+(D^(R|~L))+x[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~D))+x[11]+3174756917&4294967295,L=S+(k<<10&4294967295|k>>>22),k=D+(S^(L|~R))+x[2]+718787259&4294967295,D=L+(k<<15&4294967295|k>>>17),k=R+(L^(D|~S))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var R=S-this.blockSize,x=this.B,D=this.h,L=0;L<S;){if(D==0)for(;L<=R;)s(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<S;)if(x[D++]=P.charCodeAt(L++),D==this.blockSize){s(this,x),D=0;break}}else for(;L<S;)if(x[D++]=P[L++],D==this.blockSize){s(this,x),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var R=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=R&255,R/=256;for(this.u(P),P=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)P[R++]=this.g[S]>>>x&255;return P};function a(P,S){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=S(P)}function u(P,S){this.h=S;for(var R=[],x=!0,D=P.length-1;0<=D;D--){var L=P[D]|0;x&&L==S||(R[D]=L,x=!1)}this.g=R}var d={};function f(P){return-128<=P&&128>P?a(P,function(S){return new u([S|0],0>S?-1:0)}):new u([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return F(y(-P));for(var S=[],R=1,x=0;P>=R;x++)S[x]=P/R|0,R*=4294967296;return new u(S,0)}function _(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return F(_(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),x=w,D=0;D<P.length;D+=8){var L=Math.min(8,P.length-D),k=parseInt(P.substring(D,D+L),S);8>L?(L=y(Math.pow(S,L)),x=x.j(L).add(y(k))):(x=x.j(R),x=x.add(y(k)))}return x}var w=f(0),I=f(1),b=f(16777216);t=u.prototype,t.m=function(){if($(this))return-F(this).m();for(var P=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);P+=(0<=x?x:4294967296+x)*S,S*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if($(this))return"-"+F(this).toString(P);for(var S=y(Math.pow(P,6)),R=this,x="";;){var D=Te(R,S).g;R=te(R,D.j(S));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=D,j(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function $(P){return P.h==-1}t.l=function(P){return P=te(this,P),$(P)?-1:j(P)?0:1};function F(P){for(var S=P.g.length,R=[],x=0;x<S;x++)R[x]=~P.g[x];return new u(R,~P.h).add(I)}t.abs=function(){return $(this)?F(this):this},t.add=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],x=0,D=0;D<=S;D++){var L=x+(this.i(D)&65535)+(P.i(D)&65535),k=(L>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);x=k>>>16,L&=65535,k&=65535,R[D]=k<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function te(P,S){return P.add(F(S))}t.j=function(P){if(j(this)||j(P))return w;if($(this))return $(P)?F(this).j(F(P)):F(F(this).j(P));if($(P))return F(this.j(F(P)));if(0>this.l(b)&&0>P.l(b))return y(this.m()*P.m());for(var S=this.g.length+P.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<P.g.length;D++){var L=this.i(x)>>>16,k=this.i(x)&65535,At=P.i(D)>>>16,cn=P.i(D)&65535;R[2*x+2*D]+=k*cn,ee(R,2*x+2*D),R[2*x+2*D+1]+=L*cn,ee(R,2*x+2*D+1),R[2*x+2*D+1]+=k*At,ee(R,2*x+2*D+1),R[2*x+2*D+2]+=L*At,ee(R,2*x+2*D+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new u(R,0)};function ee(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function le(P,S){this.g=P,this.h=S}function Te(P,S){if(j(S))throw Error("division by zero");if(j(P))return new le(w,w);if($(P))return S=Te(F(P),S),new le(F(S.g),F(S.h));if($(S))return S=Te(P,F(S)),new le(F(S.g),S.h);if(30<P.g.length){if($(P)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,x=S;0>=x.l(P);)R=ze(R),x=ze(x);var D=Ce(R,1),L=Ce(x,1);for(x=Ce(x,2),R=Ce(R,2);!j(x);){var k=L.add(x);0>=k.l(P)&&(D=D.add(R),L=k),x=Ce(x,1),R=Ce(R,1)}return S=te(P,D.j(S)),new le(D,S)}for(D=w;0<=P.l(S);){for(R=Math.max(1,Math.floor(P.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=y(R),k=L.j(S);$(k)||0<k.l(P);)R-=x,L=y(R),k=L.j(S);j(L)&&(L=I),D=D.add(L),P=te(P,k)}return new le(D,P)}t.A=function(P){return Te(this,P).h},t.and=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&P.i(x);return new u(R,this.h&P.h)},t.or=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|P.i(x);return new u(R,this.h|P.h)},t.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^P.i(x);return new u(R,this.h^P.h)};function ze(P){for(var S=P.g.length+1,R=[],x=0;x<S;x++)R[x]=P.i(x)<<1|P.i(x-1)>>>31;return new u(R,P.h)}function Ce(P,S){var R=S>>5;S%=32;for(var x=P.g.length-R,D=[],L=0;L<x;L++)D[L]=0<S?P.i(L+R)>>>S|P.i(L+R+1)<<32-S:P.i(L+R);return new u(D,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,Ws=u}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mE,tc,gE,Ad,bg,yE,vE,_E;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var V=c[T];if(!(V in v))break e;v=v[V]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var v=0,T=!1,V={next:function(){if(!T&&v<c.length){var z=v++;return{value:m(z,c[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function w(c,m,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),c.apply(m,V)}}return function(){return c.apply(m,arguments)}}function I(c,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,I.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function j(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,V,z){for(var Y=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Y[Je-2]=arguments[Je];return m.prototype[V].apply(T,Y)}}function $(c){const m=c.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function F(c,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(f(T)){const V=c.length||0,z=T.length||0;c.length=V+z;for(let Y=0;Y<z;Y++)c[V+Y]=T[Y]}else c.push(T)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){return/^[\s\xa0]*$/.test(c)}function le(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var ze=le().indexOf("Gecko")!=-1&&!(le().toLowerCase().indexOf("webkit")!=-1&&le().indexOf("Edge")==-1)&&!(le().indexOf("Trident")!=-1||le().indexOf("MSIE")!=-1)&&le().indexOf("Edge")==-1;function Ce(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function P(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,m){let v,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(v in T)c[v]=T[v];for(let z=0;z<R.length;z++)v=R[z],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function D(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function L(c){d.setTimeout(()=>{throw c},0)}function k(){var c=ve;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,v){const T=cn.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var cn=new te(()=>new hn,c=>c.reset());class hn{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ze,Z=!1,ve=new At,ie=()=>{const c=d.Promise.resolve(void 0);Ze=()=>{c.then(O)}};var O=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){L(v)}var m=cn;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}Z=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function De(c,m){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ze){e:{try{Te(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ue[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}j(De,ge);var Ue={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function nt(c,m,v,T,V){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=V,this.key=++Ke,this.da=this.fa=!1}function Qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,m,v,T,V){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var Y=us(c,m,T,V);return-1<Y?(m=c[Y],v||(m.fa=!1)):(m=new nt(m,this.src,z,!!T,V),m.fa=v,c.push(m)),m};function ma(c,m){var v=m.type;if(v in c.g){var T=c.g[v],V=Array.prototype.indexOf.call(T,m,void 0),z;(z=0<=V)&&Array.prototype.splice.call(T,V,1),z&&(Qt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function us(c,m,v,T){for(var V=0;V<c.length;++V){var z=c[V];if(!z.da&&z.listener==m&&z.capture==!!v&&z.ha==T)return V}return-1}var go="closure_lm_"+(1e6*Math.random()|0),ga={};function ru(c,m,v,T,V){if(Array.isArray(m)){for(var z=0;z<m.length;z++)ru(c,m[z],v,T,V);return null}return v=ou(v),c&&c[qe]?c.K(m,v,y(T)?!!T.capture:!1,V):iu(c,m,v,!1,T,V)}function iu(c,m,v,T,V,z){if(!m)throw Error("Invalid event type");var Y=y(V)?!!V.capture:!!V,Je=va(c);if(Je||(c[go]=Je=new Ci(c)),v=Je.add(m,v,T,Y,z),v.proxy)return v;if(T=Yc(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)xe||(V=Y),V===void 0&&(V=!1),c.addEventListener(m.toString(),T,V);else if(c.attachEvent)c.attachEvent(xi(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yc(){function c(v){return m.call(c.src,c.listener,v)}const m=su;return c}function ya(c,m,v,T,V){if(Array.isArray(m))for(var z=0;z<m.length;z++)ya(c,m[z],v,T,V);else T=y(T)?!!T.capture:!!T,v=ou(v),c&&c[qe]?(c=c.i,m=String(m).toString(),m in c.g&&(z=c.g[m],v=us(z,v,T,V),-1<v&&(Qt(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete c.g[m],c.h--)))):c&&(c=va(c))&&(m=c.g[m.toString()],c=-1,m&&(c=us(m,v,T,V)),(v=-1<c?m[c]:null)&&Pi(v))}function Pi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[qe])ma(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(xi(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=va(m))?(ma(v,c),v.h==0&&(v.src=null,m[go]=null)):Qt(c)}}}function xi(c){return c in ga?ga[c]:ga[c]="on"+c}function su(c,m){if(c.da)c=!0;else{m=new De(m,this);var v=c.listener,T=c.ha||c.src;c.fa&&Pi(c),c=v.call(T,m)}return c}function va(c){return c=c[go],c instanceof Ci?c:null}var _a="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(c){return typeof c=="function"?c:(c[_a]||(c[_a]=function(m){return c.handleEvent(m)}),c[_a])}function Ut(){G.call(this),this.i=new Ci(this),this.M=this,this.F=null}j(Ut,G),Ut.prototype[qe]=!0,Ut.prototype.removeEventListener=function(c,m,v,T){ya(this,c,m,v,T)};function Bt(c,m){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new ge(m,c);else if(m instanceof ge)m.target=m.target||c;else{var V=m;m=new ge(T,c),x(m,V)}if(V=!0,v)for(var z=v.length-1;0<=z;z--){var Y=m.g=v[z];V=Ni(Y,T,!0,m)&&V}if(Y=m.g=c,V=Ni(Y,T,!0,m)&&V,V=Ni(Y,T,!1,m)&&V,v)for(z=0;z<v.length;z++)Y=m.g=v[z],V=Ni(Y,T,!1,m)&&V}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],T=0;T<v.length;T++)Qt(v[T]);delete c.g[m],c.h--}}this.F=null},Ut.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},Ut.prototype.L=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function Ni(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,z=0;z<m.length;++z){var Y=m[z];if(Y&&!Y.da&&Y.capture==v){var Je=Y.listener,jt=Y.ha||Y.src;Y.fa&&ma(c.i,Y),V=Je.call(jt,T)!==!1&&V}}return V&&!T.defaultPrevented}function au(c,m,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function cs(c){c.g=au(()=>{c.g=null,c.i&&(c.i=!1,cs(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class yo extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(c){G.call(this),this.h=c,this.g={}}j(vo,G);var lu=[];function uu(c){Ce(c.g,function(m,v){this.g.hasOwnProperty(v)&&Pi(m)},c),c.g={}}vo.prototype.N=function(){vo.aa.N.call(this),uu(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cu=d.JSON.stringify,hu=d.JSON.parse,du=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function Ea(c){return c.h||(c.h=c.i())}function wa(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){ge.call(this,"d")}j(Zr,ge);function Ta(){ge.call(this,"c")}j(Ta,ge);var ei={},fu=null;function Eo(){return fu=fu||new Ut}ei.La="serverreachability";function pu(c){ge.call(this,ei.La,c)}j(pu,ge);function Di(c){const m=Eo();Bt(m,new pu(m))}ei.STAT_EVENT="statevent";function mu(c,m){ge.call(this,ei.STAT_EVENT,c),this.stat=m}j(mu,ge);function kt(c){const m=Eo();Bt(m,new mu(m,c))}ei.Ma="timingevent";function Ia(c,m){ge.call(this,ei.Ma,c),this.size=m}j(Ia,ge);function xr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function To(c,m,v,T,V,z){c.info(function(){if(c.g)if(z)for(var Y="",Je=z.split("&"),jt=0;jt<Je.length;jt++){var Be=Je[jt].split("=");if(1<Be.length){var Xt=Be[0];Be=Be[1];var Nt=Xt.split("_");Y=2<=Nt.length&&Nt[1]=="type"?Y+(Xt+"="+Be+"&"):Y+(Xt+"=redacted&")}}else Y=null;else Y=z;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+m+`
`+v+`
`+Y})}function Sa(c,m,v,T,V,z,Y){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+m+`
`+v+`
`+z+" "+Y})}function Nr(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+_p(c,v)+(T?" "+T:"")})}function gu(c,m){c.info(function(){return"TIMEOUT: "+m})}wo.prototype.info=function(){};function _p(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Y=1;Y<V.length;Y++)V[Y]=""}}}}return cu(v)}catch{return m}}var Aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Io(){}j(Io,_o),Io.prototype.g=function(){return new XMLHttpRequest},Io.prototype.i=function(){return{}},Dr=new Io;function br(c,m,v,T){this.j=c,this.i=m,this.l=v,this.R=T||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zc}function Zc(){this.i=null,this.g="",this.h=!1}var yu={},ka={};function Ra(c,m,v){c.L=1,c.v=ms(Kn(m)),c.m=v,c.P=!0,vu(c,null)}function vu(c,m){c.F=Date.now(),rt(c),c.A=Kn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),ys(v.i,"t",T),c.C=0,v=c.j.J,c.h=new Zc,c.g=yh(c.j,v?m:null,!c.m),0<c.O&&(c.M=new yo(I(c.Y,c,c.g),c.O)),m=c.U,v=c.g,T=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(lu[0]=V.toString()),V=lu);for(var z=0;z<V.length;z++){var Y=ru(v,V[z],T||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Di(),To(c.i,c.u,c.A,c.l,c.R,c.m)}br.prototype.ca=function(c){c=c.target;const m=this.M;m&&bn(c)==3?m.j():this.Y(c)},br.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=bn(this.g);var m=this.g.Ba();const fr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=fr?Di(3):Di(2)),So(this);var v=this.g.Z();this.X=v;t:if(eh(this)){var T=Su(this.g);c="";var V=T.length,z=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hr(this),hs(this);var Y="";break t}this.h.i=new d.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,c+=this.h.i.decode(T[m],{stream:!(z&&m==V-1)});T.length=0,this.h.g+=c,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=v==200,Sa(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,jt=this.g;if((Je=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Je)){var Be=Je;break t}}Be=null}if(v=Be)Nr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_u(this,v);else{this.o=!1,this.s=3,kt(12),hr(this),hs(this);break e}}if(this.P){v=!0;let Xn;for(;!this.J&&this.C<Y.length;)if(Xn=Ep(this,Y),Xn==ka){Nt==4&&(this.s=4,kt(14),v=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==yu){this.s=4,kt(15),Nr(this.i,this.l,Y,"[Invalid Chunk]"),v=!1;break}else Nr(this.i,this.l,Xn,null),_u(this,Xn);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Y.length!=0||this.h.h||(this.s=1,kt(16),v=!1),this.o=this.o&&v,!v)Nr(this.i,this.l,Y,"[Invalid Chunked Response]"),hr(this),hs(this);else if(0<Y.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),ku(Xt),Xt.M=!0,kt(11))}}else Nr(this.i,this.l,Y,null),_u(this,Y);Nt==4&&hr(this),this.o&&!this.J&&(Nt==4?Fa(this.j,this):(this.o=!1,rt(this)))}else ba(this.g),v==400&&0<Y.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),hr(this),hs(this)}}}catch{}finally{}};function eh(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ep(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?ka:(v=Number(m.substring(v,T)),isNaN(v)?yu:(T+=1,T+v>m.length?ka:(m=m.slice(T,T+v),c.C=T+v,m)))}br.prototype.cancel=function(){this.J=!0,hr(this)};function rt(c){c.S=Date.now()+c.I,th(c,c.I)}function th(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xr(I(c.ba,c),m)}function So(c){c.B&&(d.clearTimeout(c.B),c.B=null)}br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gu(this.i,this.A),this.L!=2&&(Di(),kt(17)),hr(this),this.s=2,hs(this)):th(this,this.S-c)};function hs(c){c.j.G==0||c.J||Fa(c.j,c)}function hr(c){So(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,uu(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function _u(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Tn(v.h,c))){if(!c.K&&Tn(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ma(v),Fr(v);else break e;Va(v),kt(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=xr(I(v.Za,v),6e3));if(1>=rh(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&Ma(v),!ee(m))for(V=v.Da.g.parse(m),m=0;m<V.length;m++){let Be=V[m];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Xt=Be[3];Xt!=null&&(v.la=Xt,v.j.info("VER="+v.la));const Nt=Be[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const fr=Be[5];fr!=null&&typeof fr=="number"&&0<fr&&(T=1.5*fr,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=c.g;if(Xn){const No=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var z=T.h;z.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Eu(z,z.h),z.h=null))}if(T.D){const Ba=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(T.ya=Ba,et(T.I,T.D,Ba))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var Y=c;if(T.qa=gh(T,T.J?T.ia:null,T.W),Y.K){ih(T.h,Y);var Je=Y,jt=T.L;jt&&(Je.I=jt),Je.B&&(So(Je),rt(Je)),T.g=Y}else xo(T);0<v.i.length&&ii(v)}else Be[0]!="stop"&&Be[0]!="close"||Mi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Mi(v,7):rn(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Di(4)}catch{}}var nh=class{constructor(c,m){this.g=c,this.map=m}};function Ao(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rh(c){return c.h?1:c.g?c.g.size:0}function Tn(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Eu(c,m){c.g?c.g.add(m):c.h=m}function ih(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sh(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return $(c.i)}function Ca(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],v=c.length,T=0;T<v;T++)m.push(c[T]);return m}m=[],v=0;for(T in c)m[v++]=c[T];return m}function Pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const T in c)m[v++]=T;return m}}}function ds(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Pa(c),T=Ca(c),V=T.length,z=0;z<V;z++)m.call(void 0,T[z],v&&v[z],c)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wp(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),V=null;if(0<=T){var z=c[v].substring(0,T);V=c[v].substring(T+1)}else z=c[v];m(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bi){this.h=c.h,Ro(this,c.j),this.o=c.o,this.g=c.g,fs(this,c.s),this.l=c.l;var m=c.i,v=new ti;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ps(this,v),this.m=c.m}else c&&(m=String(c).match(ko))?(this.h=!1,Ro(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),fs(this,m[4]),this.l=Me(m[5]||"",!0),ps(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}bi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(gs(m,xa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(gs(m,xa,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gs(v,v.charAt(0)=="/"?lh:ah,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gs(v,wu)),c.join("")};function Kn(c){return new bi(c)}function Ro(c,m,v){c.j=v?Me(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fs(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ps(c,m,v){m instanceof ti?(c.i=m,ni(c.i,c.h)):(v||(m=gs(m,uh)),c.i=new ti(m,c.h))}function et(c,m,v){c.i.set(m,v)}function ms(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Me(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,oh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xa=/[#\/\?@]/g,ah=/[#\?:]/g,lh=/[#\?]/g,uh=/[#\?@]/g,wu=/#/g;function ti(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&wp(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=ti.prototype,t.add=function(c,m){nn(this),this.i=null,c=dr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Or(c,m){nn(c),m=dr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Lr(c,m){return nn(c),m=dr(c,m),c.g.has(m)}t.forEach=function(c,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(V){c.call(m,V,T,this)},this)},this)},t.na=function(){nn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const V=c[T];for(let z=0;z<V.length;z++)v.push(m[T])}return v},t.V=function(c){nn(this);let m=[];if(typeof c=="string")Lr(this,c)&&(m=m.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},t.set=function(c,m){return nn(this),this.i=null,c=dr(this,c),Lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function ys(c,m,v){Or(c,m),0<v.length&&(c.i=null,c.g.set(dr(c,m),$(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const z=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var V=z;Y[T]!==""&&(V+="="+encodeURIComponent(String(Y[T]))),c.push(V)}}return this.i=c.join("&")};function dr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ni(c,m){m&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(v,T){var V=T.toLowerCase();T!=V&&(Or(this,T),ys(this,V,v))},c)),c.j=m}function Tp(c,m){const v=new wo;if(d.Image){const T=new Image;T.onload=b(Dn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Dn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Dn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Dn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function ch(c,m){const v=new wo,T=new AbortController,V=setTimeout(()=>{T.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(z=>{clearTimeout(V),z.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Dn(v,"TestPingServer: error",!1,m)})}function Dn(c,m,v,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(v)}catch{}}function Ip(){this.g=new du}function hh(c,m,v){const T=v||"";try{ds(c,function(V,z){let Y=V;y(V)&&(Y=cu(V)),m.push(T+z+"="+encodeURIComponent(Y))})}catch(V){throw m.push(T+"type="+encodeURIComponent("_badmap")),V}}function Oi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Oi,_o),Oi.prototype.g=function(){return new Co(this.l,this.j)},Oi.prototype.i=(function(c){return function(){return c}})({});function Co(c,m){Ut.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Co,Ut),t=Co.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Mr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dh(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dh(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Vr(this):Mr(this),this.readyState==3&&dh(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vr(this))},t.Qa=function(c){this.g&&(this.response=c,Vr(this))},t.ga=function(){this.g&&Vr(this)};function Vr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Li(c){let m="";return Ce(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function vs(c,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Li(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):et(c,m,v))}function ht(c){Ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(ht,Ut);var Sp=/^https?$/i,Tu=["POST","PUT"];t=ht.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Ea(this.o):Ea(Dr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(z){Po(this,z);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)v.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())v.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(z=>z.toLowerCase()=="content-type"),V=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Tu,m,void 0))||T||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Y]of v)this.g.setRequestHeader(z,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){Po(this,z)}};function Po(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Na(c),Qn(c)}function Na(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),Qn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iu(this):this.bb())},t.bb=function(){Iu(this)};function Iu(c){if(c.h&&typeof u<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)au(c.Ea,0,c);else if(Bt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const Y=c.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=Y===0){var V=String(c.D).match(ko)[1]||null;!V&&d.self&&d.self.location&&(V=d.self.location.protocol.slice(0,-1)),T=!Sp.test(V?V.toLowerCase():"")}v=T}if(v)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var z=2<bn(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",Na(c)}}finally{Qn(c)}}}}function Qn(c,m){if(c.g){Da(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Bt(c,"ready");try{v.onreadystatechange=T}catch{}}}function Da(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),hu(m)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ba(c){const m={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(ee(c[T]))continue;var v=D(c[T]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const z=m[V]||[];m[V]=z,z.push(v)}P(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Au(c){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,c),this.cb=ri("retryDelaySeedMs",1e4,c),this.Wa=ri("forwardChannelMaxRetries",2,c),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ao(c&&c.concurrentRequestLimit),this.Da=new Ip,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Au.prototype,t.la=8,t.G=1,t.connect=function(c,m,v,T){kt(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=gh(this,null,this.W),ii(this)};function rn(c){if(Oa(c),c.G==3){var m=c.U++,v=Kn(c.I);if(et(v,"SID",c.K),et(v,"RID",m),et(v,"TYPE","terminate"),Vi(c,v),m=new br(c,c.j,m),m.L=2,m.v=ms(Kn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=yh(m.j,null),m.g.ea(m.v)),m.F=Date.now(),rt(m)}mh(c)}function Fr(c){c.g&&(ku(c),c.g.cancel(),c.g=null)}function Oa(c){Fr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ii(c){if(!qn(c.h)&&!c.s){c.s=!0;var m=c.Ga;Ze||ie(),Z||(Ze(),Z=!0),ve.add(m,c),c.B=0}}function Ap(c,m){return rh(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xr(I(c.Ga,c,m),ph(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new br(this,this.j,c);let z=this.o;if(this.S&&(z?(z=S(z),x(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_s(this,V,m),v=Kn(this.I),et(v,"RID",c),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),Vi(this,v),z&&(this.O?m="headers="+encodeURIComponent(String(Li(z)))+"&"+m:this.m&&vs(v,this.m,z)),Eu(this.h,V),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",m),et(v,"SID","null"),V.T=!0,Ra(V,v,null)):Ra(V,v,m),this.G=2}}else this.G==3&&(c?La(this,c):this.i.length==0||qn(this.h)||La(this))};function La(c,m){var v;m?v=m.l:v=c.U++;const T=Kn(c.I);et(T,"SID",c.K),et(T,"RID",v),et(T,"AID",c.T),Vi(c,T),c.m&&c.o&&vs(T,c.m,c.o),v=new br(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=_s(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Eu(c.h,v),Ra(v,T,m)}function Vi(c,m){c.H&&Ce(c.H,function(v,T){et(m,T,v)}),c.l&&ds({},function(v,T){et(m,T,v)})}function _s(c,m,v){v=Math.min(c.i.length,v);var T=c.l?I(c.l.Na,c.l,c):null;e:{var V=c.i;let z=-1;for(;;){const Y=["count="+v];z==-1?0<v?(z=V[0].g,Y.push("ofs="+z)):z=0:Y.push("ofs="+z);let Je=!0;for(let jt=0;jt<v;jt++){let Be=V[jt].g;const Xt=V[jt].map;if(Be-=z,0>Be)z=Math.max(0,V[jt].g-100),Je=!1;else try{hh(Xt,Y,"req"+Be+"_")}catch{T&&T(Xt)}}if(Je){T=Y.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,T}function xo(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Ze||ie(),Z||(Ze(),Z=!0),ve.add(m,c),c.v=0}}function Va(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xr(I(c.Fa,c),ph(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xr(I(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Fr(this),fh(this))};function ku(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function fh(c){c.g=new br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Kn(c.qa);et(m,"RID","rpc"),et(m,"SID",c.K),et(m,"AID",c.T),et(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(m,"TO",c.ja),et(m,"TYPE","xmlhttp"),Vi(c,m),c.m&&c.o&&vs(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ms(Kn(m)),v.m=null,v.P=!0,vu(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Fr(this),Va(this),kt(19))};function Ma(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Fa(c,m){var v=null;if(c.g==m){Ma(c),ku(c),c.g=null;var T=2}else if(Tn(c.h,m))v=m.D,ih(c.h,m),T=1;else return;if(c.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var V=c.B;T=Eo(),Bt(T,new Ia(T,v)),ii(c)}else xo(c);else if(V=m.s,V==3||V==0&&0<m.X||!(T==1&&Ap(c,m)||T==2&&Va(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),V){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function ph(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Mi(c,m){if(c.j.info("Error code "+m),m==2){var v=I(c.fb,c),T=c.Xa;const V=!T;T=new bi(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ro(T,"https"),ms(T),V?Tp(T.toString(),v):ch(T.toString(),v)}else kt(2);c.G=0,c.l&&c.l.sa(m),mh(c),Oa(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function mh(c){if(c.G=0,c.ka=[],c.l){const m=sh(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ka,m),F(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function gh(c,m,v){var T=v instanceof bi?Kn(v):new bi(v);if(T.g!="")m&&(T.g=m+"."+T.g),fs(T,T.s);else{var V=d.location;T=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var z=new bi(null);T&&Ro(z,T),m&&(z.g=m),V&&fs(z,V),v&&(z.l=v),T=z}return v=c.D,m=c.ya,v&&m&&et(T,v,m),et(T,"VER",c.la),Vi(c,T),T}function yh(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ht(new Oi({eb:v})):new ht(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}t=Ru.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(c,m){return new In(c,m)};function In(c,m){Ut.call(this),this.g=new Au(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ee(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ee(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new si(this)}j(In,Ut),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){rn(this.g)},In.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=cu(c),c=v);m.i.push(new nh(m.Ya++,c)),m.G==3&&ii(m)},In.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,In.aa.N.call(this)};function vh(c){Zr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}j(vh,Zr);function _h(){Ta.call(this),this.status=1}j(_h,Ta);function si(c){this.g=c}j(si,Ru),si.prototype.ua=function(){Bt(this.g,"a")},si.prototype.ta=function(c){Bt(this.g,new vh(c))},si.prototype.sa=function(c){Bt(this.g,new _h)},si.prototype.ra=function(){Bt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,_E=function(){return new Ua},vE=function(){return Eo()},yE=ei,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,Ad=Aa,Jc.COMPLETE="complete",gE=Jc,wa.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,tc=wa,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,mE=ht}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",t_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new vf("@firebase/firestore");function ul(){return ea.logLevel}function re(t,...e){if(ea.logLevel<=Oe.DEBUG){const n=e.map(R1);ea.debug(`Firestore (${zl}): ${t}`,...n)}}function ns(t,...e){if(ea.logLevel<=Oe.ERROR){const n=e.map(R1);ea.error(`Firestore (${zl}): ${t}`,...n)}}function Zs(t,...e){if(ea.logLevel<=Oe.WARN){const n=e.map(R1);ea.warn(`Firestore (${zl}): ${t}`,...n)}}function R1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EE(t,r,n)}function EE(t,e,n){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||EE(e,s,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class FR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qs,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new wE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class BR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=$R(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Og(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ne(r,s);{const a=TE(),u=HR(a.encode(r_(t,n)),a.encode(r_(e,n)));return u!==0?u:Ne(r,s)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function r_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function HR(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function Tl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=fi.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const r=fi.isNumericId(e),s=fi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?fi.extractNumericId(e).compare(fi.extractNumericId(n)):Og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class vt extends fi{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const GR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends fi{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return GR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new ln([i_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new fe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(vt.fromString(e))}static fromName(e){return new we(vt.fromString(e).popFirst(5))}static empty(){return new we(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){if(!n)throw new fe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qR(t,e,n,r){if(e===!0&&r===!0)throw new fe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!we.isDocumentKey(t))throw new fe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P1(t);throw new fe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!IE(t))throw new fe(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(s&&typeof u!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,a_=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a_);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o_)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Lt("string",ut._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ut(0,0))}static max(){return new ke(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;function KR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new eo(s,we.empty(),e)}function QR(t){return new eo(t.readTime,t.key,wc)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(ke.min(),we.empty(),wc)}static max(){return new eo(ke.max(),we.empty(),wc)}}function XR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==YR)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):H.reject(n)}static resolve(e){return new H(((n,r)=>{n(e)}))}static reject(e){return new H(((n,r)=>{r(e)}))}static waitFor(e){return new H(((n,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&n()}),(f=>r(f)))})),u=!0,a===s&&n()}))}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next((s=>s?H.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new H(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const y=f;n(e[y]).next((_=>{u[y]=_,++d,d===a&&r(u)}),(_=>s(_)))}}))}static doWhile(e,n){return new H(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function ZR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}_f.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-1;function Ef(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function eC(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function tC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l_(e)),e=nC(t.get(n),e);return l_(e)}function nC(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case SE:n+="";break;default:n+=a}}return n}function l_(t){return t+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new an(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new rr([])}unionWith(e){let n=new Kt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kE("Invalid base64 string: "+a):a}})(e);return new un(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const rC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=rC.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",CE="__type__",PE="__previous_value__",xE="__local_write_time__";function N1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CE])===null||n===void 0?void 0:n.stringValue)===RE}function wf(t){const e=t.mapValue.fields[PE];return N1(e)?wf(e):e}function Tc(t){const e=to(t.mapValue.fields[xE].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,s,a,u,d,f,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=_}}const $d="(default)";class Ic{constructor(e,n){this.projectId=e,this.database=n||$d}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__type__",sC="__max__",md={mapValue:{}},DE="__vector__",Hd="value";function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N1(t)?4:aC(t)?9007199254740991:oC(t)?10:11:Ie(28295,{value:t})}function Ii(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=to(s.timestampValue),d=to(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return no(s.bytesValue).isEqual(no(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Ct(s.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ct(s.integerValue)===Ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ct(s.doubleValue),d=Ct(a.doubleValue);return u===d?zd(u)===zd(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(u_(u)!==u_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ii(u[f],d[f])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find((n=>Ii(n,e)))!==void 0}function Il(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Ct(a.integerValue||a.doubleValue),f=Ct(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return h_(t.timestampValue,e.timestampValue);case 4:return h_(Tc(t),Tc(e));case 5:return Og(t.stringValue,e.stringValue);case 6:return(function(a,u){const d=no(a),f=no(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const _=Ne(d[y],f[y]);if(_!==0)return _}return Ne(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ne(Ct(a.latitude),Ct(u.latitude));return d!==0?d:Ne(Ct(a.longitude),Ct(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return d_(t.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,f,y,_;const w=a.fields||{},I=u.fields||{},b=(d=w[Hd])===null||d===void 0?void 0:d.arrayValue,j=(f=I[Hd])===null||f===void 0?void 0:f.arrayValue,$=Ne(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0);return $!==0?$:d_(b,j)})(t.mapValue,e.mapValue);case 11:return(function(a,u){if(a===md.mapValue&&u===md.mapValue)return 0;if(a===md.mapValue)return 1;if(u===md.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const I=Og(f[w],_[w]);if(I!==0)return I;const b=Il(d[f[w]],y[_[w]]);if(b!==0)return b}return Ne(f.length,_.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{le:n})}}function h_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=to(t),r=to(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function d_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Il(n[s],r[s]);if(a)return a}return Ne(n.length,r.length)}function Sl(t){return Lg(t)}function Lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return no(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Lg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Lg(n.fields[u])}`;return s+"}"})(t.mapValue):Ie(61005,{value:t})}function kd(t){switch(ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(t);return e?16+kd(e):16;case 5:return 2*t.stringValue.length;case 6:return no(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+kd(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return co(r.fields,((a,u)=>{s+=a.length+kd(u)})),s})(t.mapValue);default:throw Ie(13486,{value:t})}}function Vg(t){return!!t&&"integerValue"in t}function D1(t){return!!t&&"arrayValue"in t}function f_(t){return!!t&&"nullValue"in t}function p_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function oC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NE])===null||n===void 0?void 0:n.stringValue)===DE}function lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=lc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=ln.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}u?r[d.lastSegment()]=lc(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){co(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new zn(lc(this.value))}}function bE(t){const e=[];return co(t.fields,((n,r)=>{const s=new ln([n]);if(Rd(r)){const a=bE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,s,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new _n(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new _n(e,2,n,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.position=e,this.inclusive=n}}function m_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),n.key):r=Il(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function g_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function lC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{}class Wt extends OE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cC(e,n,r):n==="array-contains"?new fC(e,r):n==="in"?new pC(e,r):n==="not-in"?new mC(e,r):n==="array-contains-any"?new gC(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hC(e,r):new dC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends OE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Si(e,n)}matches(e){return LE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function LE(t){return t.op==="and"}function VE(t){return uC(t)&&LE(t)}function uC(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function Mg(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(VE(t))return t.filters.map((e=>Mg(e))).join(",");{const e=t.filters.map((n=>Mg(n))).join(",");return`${t.op}(${e})`}}function ME(t,e){return t instanceof Wt?(function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&Ii(r.value,s.value)})(t,e):t instanceof Si?(function(r,s){return s instanceof Si&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&ME(u,s.filters[d])),!0):!1})(t,e):void Ie(19439)}function FE(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`})(t):t instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"})(t):"Filter"}class cC extends Wt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class hC extends Wt{constructor(e,n){super(e,"in",n),this.keys=UE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dC extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=UE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>we.fromName(r.referenceValue)))}class fC extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D1(n)&&Sc(n.arrayValue,this.value)}}class pC extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class mC extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class gC extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Sc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function y_(t,e=null,n=[],r=[],s=null,a=null,u=null){return new yC(t,e,n,r,s,a,u)}function b1(t){const e=Re(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Mg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sl(r))).join(",")),e.Pe=n}return e.Pe}function O1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ME(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g_(t.startAt,e.startAt)&&g_(t.endAt,e.endAt)}function Fg(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function vC(t,e,n,r,s,a,u,d){return new Tf(t,e,n,r,s,a,u,d)}function L1(t){return new Tf(t)}function v_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _C(t){return t.collectionGroup!==null}function uc(t){const e=Re(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Kt(ln.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Wd(a,r))})),n.has(ln.keyField().canonicalString())||e.Te.push(new Wd(ln.keyField(),r))}return e.Te}function mi(t){const e=Re(t);return e.Ie||(e.Ie=EC(e,uc(t))),e.Ie}function EC(t,e){if(t.limitType==="F")return y_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Wd(s.field,a)}));const n=t.endAt?new Gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gd(t.startAt.position,t.startAt.inclusive):null;return y_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return O1(mi(t),mi(e))&&t.limitType===e.limitType}function BE(t){return`${b1(mi(t))}|lt:${t.limitType}`}function cl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>FE(s))).join(", ")}]`),Ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Sl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Sl(s))).join(",")),`Target(${r})`})(mi(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of uc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const y=m_(u,d,f);return u.inclusive?y<=0:y<0})(r.startAt,uc(r),s)||r.endAt&&!(function(u,d,f){const y=m_(u,d,f);return u.inclusive?y>=0:y>0})(r.endAt,uc(r),s))})(t,e)}function wC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jE(t){return(e,n)=>{let r=!1;for(const s of uc(t)){const a=TC(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function TC(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(a,u,d){const f=u.data.field(a),y=d.data.field(a);return f!==null&&y!==null?Il(f,y):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Et(we.comparator);function rs(){return IC}const zE=new Et(we.comparator);function nc(...t){let e=zE;for(const n of t)e=e.insert(n.key,n);return e}function $E(t){let e=zE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qo(){return cc()}function HE(){return cc()}function cc(){return new da((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SC=new Et(we.comparator),AC=new Kt(we.comparator);function Le(...t){let e=AC;for(const n of t)e=e.add(n);return e}const kC=new Kt(Ne);function RC(){return kC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function GE(t){return{integerValue:""+t}}function CC(t,e){return eC(e)?GE(e):V1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function PC(t,e,n){return t instanceof qd?(function(s,a){const u={fields:{[CE]:{stringValue:RE},[xE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&N1(a)&&(a=wf(a)),a&&(u.fields[PE]=a),{mapValue:u}})(n,e):t instanceof Al?qE(t,e):t instanceof Ac?KE(t,e):(function(s,a){const u=WE(s,a),d=__(u)+__(s.Ee);return Vg(u)&&Vg(s.Ee)?GE(d):V1(s.serializer,d)})(t,e)}function xC(t,e,n){return t instanceof Al?qE(t,e):t instanceof Ac?KE(t,e):n}function WE(t,e){return t instanceof Kd?(function(r){return Vg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class qd extends Af{}class Al extends Af{constructor(e){super(),this.elements=e}}function qE(t,e){const n=QE(e);for(const r of t.elements)n.some((s=>Ii(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ac extends Af{constructor(e){super(),this.elements=e}}function KE(t,e){let n=QE(e);for(const r of t.elements)n=n.filter((s=>!Ii(s,r)));return{arrayValue:{values:n}}}class Kd extends Af{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function __(t){return Ct(t.integerValue||t.doubleValue)}function QE(t){return D1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.field=e,this.transform=n}}function DC(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Al&&s instanceof Al||r instanceof Ac&&s instanceof Ac?Tl(r.elements,s.elements,Ii):r instanceof Kd&&s instanceof Kd?Ii(r.Ee,s.Ee):r instanceof qd&&s instanceof qd})(t.transform,e.transform)}class bC{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function XE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JE(t.key,gi.none()):new Uc(t.key,t.data,gi.none());{const n=t.data,r=zn.empty();let s=new Kt(ln.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new ho(t.key,r,new rr(s.toArray()),gi.none())}}function OC(t,e,n){t instanceof Uc?(function(s,a,u){const d=s.value.clone(),f=w_(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ho?(function(s,a,u){if(!Cd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=w_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(YE(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function hc(t,e,n,r){return t instanceof Uc?(function(a,u,d,f){if(!Cd(a.precondition,u))return d;const y=a.value.clone(),_=T_(a.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,r):t instanceof ho?(function(a,u,d,f){if(!Cd(a.precondition,u))return d;const y=T_(a.fieldTransforms,f,u),_=u.data;return _.setAll(YE(a)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(a,u,d){return Cd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function LC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=WE(r.transform,s||null);a!=null&&(n===null&&(n=zn.empty()),n.set(r.field,a))}return n||null}function E_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Tl(r,s,((a,u)=>DC(a,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends kf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ho extends kf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function w_(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,xC(u,d,n[s]))}return r}function T_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,PC(a,u,e))}return r}class JE extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VC extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&OC(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HE();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(s.key)?null:d;const f=XE(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,r)=>E_(n,r)))&&Tl(this.baseMutations,e.baseMutations,((n,r)=>E_(n,r)))}}class M1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=(function(){return SC})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new M1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function BC(t){switch(t){case q.OK:return Ie(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function ZE(t){if(t===void 0)return ns("GRPC error has no .code"),q.UNKNOWN;switch(t){case bt.OK:return q.OK;case bt.CANCELLED:return q.CANCELLED;case bt.UNKNOWN:return q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return q.INTERNAL;case bt.UNAVAILABLE:return q.UNAVAILABLE;case bt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case bt.NOT_FOUND:return q.NOT_FOUND;case bt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case bt.ABORTED:return q.ABORTED;case bt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case bt.DATA_LOSS:return q.DATA_LOSS;default:return Ie(39323,{code:t})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Ws([4294967295,4294967295],0);function I_(t){const e=TE().encode(t),n=new pE;return n.update(e),new Uint8Array(n.digest())}function S_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,a],0)]}class F1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ws.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(jC)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=I_(e),[r,s]=S_(n);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);if(!this.ye(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new F1(a,s,n);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const n=I_(e),[r,s]=S_(n);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,s,a);this.we(u)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(ke.min(),s,new Et(Ne),rs(),Le())}}class Bc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class ew{constructor(e,n){this.targetId=e,this.De=n}}class tw{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class A_{constructor(){this.ve=0,this.Ce=k_(),this.Fe=un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),n=Le(),r=Le();return this.Ce.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie(38017,{changeType:a})}})),new Bc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=k_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class zC{constructor(e){this.We=e,this.Ge=new Map,this.ze=rs(),this.je=gd(),this.Je=gd(),this.He=new Et(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,s)=>{this.nt(s)&&n(s)}))}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const a=s.target;if(Fg(a))if(r===0){const u=new we(a.path);this.Xe(n,u,_n.newNoDocument(u,ke.min()))}else Ye(r===1,20013,{expectedCount:r});else{const u=this.ot(n);if(u!==r){const d=this._t(e),f=d?this.ut(d,e,u):1;if(f!==0){this.rt(n);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,d;try{u=no(r).toUint8Array()}catch(f){if(f instanceof kE)return Zs("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new F1(u,s,a)}catch(f){return Zs(f instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,a,null),s++)})),s}Pt(e){const n=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&Fg(d.target)){const f=new we(d.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,_n.newNoDocument(f,e))}a.Ne&&(n.set(u,a.Le()),a.ke())}}));let r=Le();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const y=this.st(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const s=new Rf(e,n,this.He,this.ze,r);return this.ze=rs(),this.je=gd(),this.Je=gd(),this.He=new Et(Ne),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new A_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Kt(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Kt(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new A_),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function gd(){return new Et(we.comparator)}function k_(){return new Et(we.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GC={and:"AND",or:"OR"};class WC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||Ef(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qC(t,e){return Qd(t,e.toTimestamp())}function yi(t){return Ye(!!t,49232),ke.fromTimestamp((function(n){const r=to(n);return new ut(r.seconds,r.nanos)})(t))}function U1(t,e){return jg(t,e).canonicalString()}function jg(t,e){const n=(function(s){return new vt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rw(t){const e=vt.fromString(t);return Ye(lw(e),10190,{key:e.toString()}),e}function zg(t,e){return U1(t.databaseId,e.path)}function ng(t,e){const n=rw(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(sw(n))}function iw(t,e){return U1(t.databaseId,e)}function KC(t){const e=rw(t);return e.length===4?vt.emptyPath():sw(e)}function $g(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sw(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function R_(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function QC(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(y,_){return y.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(y){const _=y.code===void 0?q.UNKNOWN:ZE(y.code);return new fe(_,y.message||"")})(u);n=new tw(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ng(t,r.document.name),a=yi(r.document.updateTime),u=r.document.createTime?yi(r.document.createTime):ke.min(),d=new zn({mapValue:{fields:r.document.fields}}),f=_n.newFoundDocument(s,a,u,d),y=r.targetIds||[],_=r.removedTargetIds||[];n=new Pd(y,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ng(t,r.document),a=r.readTime?yi(r.readTime):ke.min(),u=_n.newNoDocument(s,a),d=r.removedTargetIds||[];n=new Pd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ng(t,r.document),a=r.removedTargetIds||[];n=new Pd([],a,s,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new UC(s,a),d=r.targetId;n=new ew(d,u)}}return n}function XC(t,e){let n;if(e instanceof Uc)n={update:R_(t,e.key,e.value)};else if(e instanceof JE)n={delete:zg(t,e.key)};else if(e instanceof ho)n={update:R_(t,e.key,e.data),updateMask:sP(e.fieldMask)};else{if(!(e instanceof VC))return Ie(16599,{Rt:e.type});n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof qd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ac)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kd)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Ie(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:qC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(t,e.precondition)),n}function YC(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(s,a){let u=s.updateTime?yi(s.updateTime):yi(a);return u.isEqual(ke.min())&&(u=yi(a)),new bC(u,s.transformResults||[])})(n,e)))):[]}function JC(t,e){return{documents:[iw(t,e.path)]}}function ZC(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iw(t,s);const a=(function(y){if(y.length!==0)return aw(Si.create(y,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(y){if(y.length!==0)return y.map((_=>(function(I){return{field:hl(I.field),direction:nP(I.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Bg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:n,parent:s}}function eP(t){let e=KC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];n.where&&(a=(function(w){const I=ow(w);return I instanceof Si&&VE(I)?I.getFilters():[I]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((I=>(function(j){return new Wd(dl(j.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(I)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let I;return I=typeof w=="object"?w.value:w,Ef(I)?null:I})(n.limit));let f=null;n.startAt&&(f=(function(w){const I=!!w.before,b=w.values||[];return new Gd(b,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const I=!w.before,b=w.values||[];return new Gd(b,I)})(n.endAt)),vC(e,s,u,a,d,"F",f,y)}function tP(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ow(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dl(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=dl(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dl(n.unaryFilter.field);return Wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dl(n.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(dl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((r=>ow(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function nP(t){return $C[t]}function rP(t){return HC[t]}function iP(t){return GC[t]}function hl(t){return{fieldPath:t.canonicalString()}}function dl(t){return ln.fromServerFormat(t.fieldPath)}function aw(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(p_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:rP(n.op),value:n.value}}})(t):t instanceof Si?(function(n){const r=n.getFilters().map((s=>aw(s)));return r.length===1?r[0]:{compositeFilter:{op:iP(n.op),filters:r}}})(t):Ie(54877,{filter:t})}function sP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,s,a=ke.min(),u=ke.min(),d=un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.gt=e}}function aP(t){const e=eP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Dn=new uP}addToCollectionParentIndex(e,n){return this.Dn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(eo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class uP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Kt(vt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(uw,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new kl(0)}static ur(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",cP=1048576;function x_([t,e],[n,r]){const s=Ne(t,n);return s===0?Ne(e,r):s}class hP{constructor(e){this.Tr=e,this.buffer=new Kt(x_),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){re(P_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?re(P_,"Ignoring IndexedDB error during garbage collection: ",n):await $l(n)}await this.Rr(3e5)}))}}class fP{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return H.resolve(_f.ue);const r=new hP(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.gr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(C_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,a,u,d,f,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,n)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),ul()<=Oe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(y-f)+`ms
Total Duration: ${y-_}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function pP(t,e){return new fP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&hc(r.mutation,s,rr.empty(),ut.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const s=qo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let u=nc();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,r,s){let a=rs();const u=cc(),d=(function(){return cc()})();return n.forEach(((f,y)=>{const _=r.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof ho)?a=a.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),hc(_.mutation,y,_.mutation.getFieldMask(),ut.now())):u.set(y.key,rr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((y,_)=>u.set(y,_))),n.forEach(((y,_)=>{var w;return d.set(y,new gP(_,(w=u.get(y))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=cc();let s=new Et(((u,d)=>u-d)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const y=n.get(f);if(y===null)return;let _=r.get(f)||rr.empty();_=d.applyToLocalView(y,_),r.set(f,_);const w=(s.get(d.batchId)||Le()).add(f);s=s.insert(d.batchId,w)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,_=f.value,w=HE();_.forEach((I=>{if(!a.has(I)){const b=XE(n.get(I),r.get(I));b!==null&&w.set(I,b),a=a.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return H.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):H.resolve(qo());let d=wc,f=a;return u.next((y=>H.forEach(y,((_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?H.resolve():this.remoteDocumentCache.getEntry(e,_).next((I=>{f=f.insert(_,I)}))))).next((()=>this.populateOverlays(e,y,a))).next((()=>this.computeViews(e,f,y,Le()))).next((_=>({batchId:d,changes:$E(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let s=nc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=nc();return this.indexManager.getCollectionParents(e,a).next((d=>H.forEach(d,(f=>{const y=(function(w,I){return new Tf(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,r,s).next((_=>{_.forEach(((w,I)=>{u=u.insert(w,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((u=>{a.forEach(((f,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,_n.newInvalidDocument(_)))}));let d=nc();return u.forEach(((f,y)=>{const _=a.get(f);_!==void 0&&hc(_.mutation,y,rr.empty(),ut.now()),Sf(n,y)&&(d=d.insert(f,y))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return H.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:yi(s.createTime)}})(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(s){return{name:s.name,query:aP(s.bundledQuery),readTime:yi(s.readTime)}})(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.overlays=new Et(we.comparator),this.kr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return H.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.wt(e,n,a)})),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=qo(),a=n.length+1,u=new we(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Et(((y,_)=>y-_));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let _=a.get(y.largestBatchId);_===null&&(_=qo(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((y,_)=>d.set(y,_))),!(d.size()>=s)););return H.resolve(d)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FC(n,r));let a=this.kr.get(n);a===void 0&&(a=Le(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.qr=new Kt(tn.Qr),this.$r=new Kt(tn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new we(new vt([])),r=new tn(n,e),s=new tn(n,e+1),a=[];return this.$r.forEachInRange([r,s],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new we(new vt([])),r=new tn(n,e),s=new tn(n,e+1);let a=Le();return this.$r.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new tn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return we.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Kt(tn.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MC(a,n,r,s);this.mutationQueue.push(u);for(const d of s)this.Yr=this.Yr.add(new tn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return H.resolve(u)}lookupMutationBatch(e,n){return H.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return H.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?x1:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),s=new tn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);a.push(d)})),H.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Ne);return n.forEach((s=>{const a=new tn(s,0),u=new tn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new tn(new we(a),0);let d=new Kt(Ne);return this.Yr.forEachWhile((f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===s&&(d=d.add(f.Hr)),!0)}),u),H.resolve(this.ei(d))}ei(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ye(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(n.mutations,(s=>{const a=new tn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new tn(n,0),s=this.Yr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.ni=e,this.docs=(function(){return new Et(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():_n.newInvalidDocument(s))})),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=rs();const u=n.path,d=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:_}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||XR(QR(_),r)<=0||(s.has(_.key)||Sf(n,_))&&(a=a.insert(_.key,_.mutableCopy()))}return H.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ie(9500)}ri(e,n){return H.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new IP(this)}getSize(e){return H.resolve(this.size)}}class IP extends mP{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)})),H.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.persistence=e,this.ii=new da((n=>b1(n)),O1),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new B1,this.targetCount=0,this._i=kl.ar()}forEachTarget(e,n){return this.ii.forEach(((r,s)=>n(s))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),H.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.hr(n),H.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),H.waitFor(a).next((()=>s))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),H.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.ai={},this.overlays={},this.ui=new _f(0),this.ci=!1,this.ci=!0,this.li=new EP,this.referenceDelegate=e(this),this.hi=new SP(this),this.indexManager=new lP,this.remoteDocumentCache=(function(s){return new TP(s)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new oP(n),this.Ti=new vP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _P,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new wP(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new AP(this.ui.next());return this.referenceDelegate.Ii(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,n){return H.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class AP extends JR{constructor(e){super(),this.currentSequenceNumber=e}}class j1{constructor(e){this.persistence=e,this.Ai=new B1,this.Ri=null}static Vi(e){return new j1(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((s=>this.mi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,(r=>{const s=we.fromPath(r);return this.fi(e,s).next((a=>{a||n.removeEntry(s,ke.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return H.or([()=>H.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.gi=new da((r=>tC(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=pP(this,n)}static Vi(e,n){return new Xd(e,n)}Ii(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return H.forEach(this.gi,((r,s)=>this.Sr(e,r,s).next((a=>a?H.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,(u=>this.Sr(e,u,n).next((d=>{d||(r++,a.removeEntry(u,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),H.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kd(e.data.value)),n}Sr(e,n,r){return H.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Le(),s=Le();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new z1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mk()?8:ZR(En())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ps(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,n,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new kP;return this.ws(e,n,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,n,u,d.size)}))})).next((()=>a.result))}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ul()<=Oe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(ul()<=Oe.DEBUG&&re("QueryEngine","Query:",cl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ul()<=Oe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):H.resolve())}ps(e,n){if(v_(n))return H.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Ug(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Le(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const y=this.bs(n,d);return this.Ds(n,y,u,f.readTime)?this.ps(e,Ug(n,null,"F")):this.vs(e,y,n,f)}))))})))))}ys(e,n,r,s){return v_(n)||s.isEqual(ke.min())?H.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(n,a);return this.Ds(n,u,r,s)?H.resolve(null):(ul()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cl(n)),this.vs(e,u,n,KR(s,wc)).next((d=>d)))}))}bs(e,n){let r=new Kt(jE(e));return n.forEach(((s,a)=>{Sf(e,a)&&(r=r.add(a))})),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,n,r){return ul()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",cl(n)),this.gs.getDocumentsMatchingQuery(e,n,eo.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="LocalStore",CP=3e8;class PP{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Et(Ne),this.Ms=new da((a=>b1(a)),O1),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function xP(t,e,n,r){return new PP(t,e,n,r)}async function hw(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=Le();for(const y of s){u.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}return n.localDocuments.getDocuments(r,f).next((y=>({Bs:y,removedBatchIds:u,addedBatchIds:d})))}))}))}function NP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return(function(d,f,y,_){const w=y.batch,I=w.keys();let b=H.resolve();return I.forEach((j=>{b=b.next((()=>_.getEntry(f,j))).next(($=>{const F=y.docVersions.get(j);Ye(F!==null,48541),$.version.compareTo(F)<0&&(w.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),_.addEntry($)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Le();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function dw(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function DP(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const d=[];e.targetChanges.forEach(((_,w)=>{const I=s.get(w);if(!I)return;d.push(n.hi.removeMatchingKeys(a,_.removedDocuments,w).next((()=>n.hi.addMatchingKeys(a,_.addedDocuments,w))));let b=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(un.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,r)),s=s.insert(w,b),(function($,F,te){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=CP?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(I,b,_)&&d.push(n.hi.updateTargetData(a,b))}));let f=rs(),y=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(bP(a,u,e.documentUpdates).next((_=>{f=_.Ls,y=_.ks}))),!r.isEqual(ke.min())){const _=n.hi.getLastRemoteSnapshotVersion(a).next((w=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return H.waitFor(d).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,y))).next((()=>f))})).then((a=>(n.Fs=s,a)))}function bP(t,e,n){let r=Le(),s=Le();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let u=rs();return n.forEach(((d,f)=>{const y=a.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):re($1,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)})),{Ls:u,ks:s}}))}function OP(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=x1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function LP(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.hi.getTargetData(r,e).next((a=>a?(s=a,H.resolve(s)):n.hi.allocateTargetId(r).next((u=>(s=new $s(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function Hg(t,e,n){const r=Re(t),s=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Hl(u))throw u;re($1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function N_(t,e,n){const r=Re(t);let s=ke.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,y,_){const w=Re(f),I=w.Ms.get(_);return I!==void 0?H.resolve(w.Fs.get(I)):w.hi.getTargetData(y,_)})(r,u,mi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,n?s:ke.min(),n?a:Le()))).next((d=>(VP(r,wC(e),d),{documents:d,qs:a})))))}function VP(t,e,n){let r=t.xs.get(e)||ke.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.xs.set(e,r)}class D_{constructor(){this.activeTargetIds=RC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MP{constructor(){this.Fo=new D_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new D_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class O_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){re(b_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){re(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function Gg(){return yd===null?yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",UP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BP{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===$d?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const u=Gg(),d=this.Go(e,n.toUriEncodedString());re(rg,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,s,a);const{host:y}=new URL(d),_=Bl(y);return this.jo(e,d,f,r,_).then((w=>(re(rg,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Zs(rg,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Jo(e,n,r,s,a,u){return this.Wo(e,n,r,s,a)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Go(e,n){const r=UP[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class zP extends BP{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,a){const u=Gg();return new Promise(((d,f)=>{const y=new mE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ad.NO_ERROR:const w=y.getResponseJson();re(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Ad.TIMEOUT:re(gn,`RPC '${e}' ${u} timed out`),f(new fe(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const I=y.getStatus();if(re(gn,`RPC '${e}' ${u} failed with status:`,I,"response text:",y.getResponseText()),I>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b==null?void 0:b.error;if(j&&j.status&&j.message){const $=(function(te){const ee=te.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(ee)>=0?ee:q.UNKNOWN})(j.status);f(new fe($,j.message))}else f(new fe(q.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new fe(q.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:u,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{re(gn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(s);re(gn,`RPC '${e}' ${u} sending request:`,s),y.send(n,"POST",_,r,15)}))}P_(e,n,r){const s=Gg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_E(),d=vE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const _=a.join("");re(gn,`Creating RPC '${e}' stream ${s}: ${_}`,f);const w=u.createWebChannel(_,f);this.T_(w);let I=!1,b=!1;const j=new jP({Ho:F=>{b?re(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(I||(re(gn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),I=!0),re(gn,`RPC '${e}' stream ${s} sending:`,F),w.send(F))},Yo:()=>w.close()}),$=(F,te,ee)=>{F.listen(te,(le=>{try{ee(le)}catch(Te){setTimeout((()=>{throw Te}),0)}}))};return $(w,tc.EventType.OPEN,(()=>{b||(re(gn,`RPC '${e}' stream ${s} transport opened.`),j.s_())})),$(w,tc.EventType.CLOSE,(()=>{b||(b=!0,re(gn,`RPC '${e}' stream ${s} transport closed`),j.__(),this.I_(w))})),$(w,tc.EventType.ERROR,(F=>{b||(b=!0,Zs(gn,`RPC '${e}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),j.__(new fe(q.UNAVAILABLE,"The operation could not be completed")))})),$(w,tc.EventType.MESSAGE,(F=>{var te;if(!b){const ee=F.data[0];Ye(!!ee,16349);const le=ee,Te=(le==null?void 0:le.error)||((te=le[0])===null||te===void 0?void 0:te.error);if(Te){re(gn,`RPC '${e}' stream ${s} received error:`,Te);const ze=Te.status;let Ce=(function(R){const x=bt[R];if(x!==void 0)return ZE(x)})(ze),P=Te.message;Ce===void 0&&(Ce=q.INTERNAL,P="Unknown error status: "+ze+" with message "+Te.message),b=!0,j.__(new fe(Ce,P)),w.close()}else re(gn,`RPC '${e}' stream ${s} received:`,ee),j.a_(ee)}})),$(d,yE.STAT_EVENT,(F=>{F.stat===bg.PROXY?re(gn,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===bg.NOPROXY&&re(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{j.o_()}),0),j}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){return new WC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class pw{constructor(e,n,r,s,a,u,d,f){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fw(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.b_===n&&this.W_(r,s)}),(r=>{e((()=>{const s=new fe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((s=>{r((()=>this.G_(s)))})),this.stream.onMessage((s=>{r((()=>++this.C_==1?this.j_(s):this.onNext(s)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return re(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(re(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $P extends pw{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=QC(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?yi(u.readTime):ke.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(a,u){let d;const f=u.target;if(d=Fg(f)?{documents:JC(a,f)}:{query:ZC(a,f).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=nw(a,u.resumeToken);const y=Bg(a,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=Qd(a,u.snapshotVersion.toTimestamp());const y=Bg(a,u.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const r=tP(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.k_(n)}}class HP extends pw{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=YC(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=$g(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>XC(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{}class WP extends GP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,jg(n,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(q.UNKNOWN,a.toString())}))}Jo(e,n,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,jg(n,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(q.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class qP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ns(n),this._a=!1):re("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class KP{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{fa(this)&&(re(na,"Restarting streams for network reachability change."),await(async function(f){const y=Re(f);y.Ia.add(4),await jc(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Pf(y)})(this))}))})),this.Aa=new qP(r,s)}}async function Pf(t){if(fa(t))for(const e of t.da)await e(!0)}async function jc(t){for(const e of t.da)await e(!1)}function mw(t,e){const n=Re(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),q1(n)?W1(n):Gl(n).x_()&&G1(n,e))}function H1(t,e){const n=Re(t),r=Gl(n);n.Ta.delete(e),r.x_()&&gw(n,e),n.Ta.size===0&&(r.x_()?r.B_():fa(n)&&n.Aa.set("Unknown"))}function G1(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).H_(e)}function gw(t,e){t.Ra.$e(e),Gl(t).Y_(e)}function W1(t){t.Ra=new zC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Aa.aa()}function q1(t){return fa(t)&&!Gl(t).M_()&&t.Ta.size>0}function fa(t){return Re(t).Ia.size===0}function yw(t){t.Ra=void 0}async function QP(t){t.Aa.set("Online")}async function XP(t){t.Ta.forEach(((e,n)=>{G1(t,e)}))}async function YP(t,e){yw(t),q1(t)?(t.Aa.la(e),W1(t)):t.Aa.set("Unknown")}async function JP(t,e,n){if(t.Aa.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ta.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ta.delete(d),s.Ra.removeTarget(d))})(t,e)}catch(r){re(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yd(t,r)}else if(e instanceof Pd?t.Ra.Ye(e):e instanceof ew?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ke.min()))try{const r=await dw(t.localStore);n.compareTo(r)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.Ta.get(y);_&&a.Ta.set(y,_.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,y)=>{const _=a.Ta.get(f);if(!_)return;a.Ta.set(f,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),gw(a,f);const w=new $s(_.target,f,y,_.sequenceNumber);G1(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){re(na,"Failed to raise snapshot:",r),await Yd(t,r)}}async function Yd(t,e,n){if(!Hl(e))throw e;t.Ia.add(1),await jc(t),t.Aa.set("Offline"),n||(n=()=>dw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{re(na,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Pf(t)}))}function vw(t,e){return e().catch((n=>Yd(t,n,e)))}async function xf(t){const e=Re(t),n=io(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:x1;for(;ZP(e);)try{const s=await OP(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,e5(e,s)}catch(s){await Yd(e,s)}_w(e)&&Ew(e)}function ZP(t){return fa(t)&&t.Pa.length<10}function e5(t,e){t.Pa.push(e);const n=io(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function _w(t){return fa(t)&&!io(t).M_()&&t.Pa.length>0}function Ew(t){io(t).start()}async function t5(t){io(t).na()}async function n5(t){const e=io(t);for(const n of t.Pa)e.X_(n.mutations)}async function r5(t,e,n){const r=t.Pa.shift(),s=M1.from(r,e,n);await vw(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await xf(t)}async function i5(t,e){e&&io(t).Z_&&await(async function(r,s){if((function(u){return BC(u)&&u!==q.ABORTED})(s.code)){const a=r.Pa.shift();io(r).N_(),await vw(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await xf(r)}})(t,e),_w(t)&&Ew(t)}async function V_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),re(na,"RemoteStore received new credentials");const r=fa(n);n.Ia.add(3),await jc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Pf(n)}async function s5(t,e){const n=Re(t);e?(n.Ia.delete(2),await Pf(n)):e||(n.Ia.add(2),await jc(n),n.Aa.set("Unknown"))}function Gl(t){return t.Va||(t.Va=(function(n,r,s){const a=Re(n);return a.ia(),new $P(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:QP.bind(null,t),e_:XP.bind(null,t),n_:YP.bind(null,t),J_:JP.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),q1(t)?W1(t):t.Aa.set("Unknown")):(await t.Va.stop(),yw(t))}))),t.Va}function io(t){return t.ma||(t.ma=(function(n,r,s){const a=Re(n);return a.ia(),new HP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:t5.bind(null,t),n_:i5.bind(null,t),ea:n5.bind(null,t),ta:r5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await xf(t)):(await t.ma.stop(),t.Pa.length>0&&(re(na,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,d=new K1(e,n,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q1(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Hl(t))return new fe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.fa=new Et(we.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Rl{constructor(e,n,r,s,a,u,d,f,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new Rl(e,n,ml.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class a5{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Re(n),a=s.queries;s.queries=F_(),a.forEach(((u,d)=>{for(const f of d.wa)f.onError(r)}))})(this,new fe(q.ABORTED,"Firestore shutting down"))}}function F_(){return new da((t=>BE(t)),If)}async function l5(t,e){const n=Re(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new o5,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(s,!0);break;case 1:a.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const d=Q1(u,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&X1(n)}async function u5(t,e){const n=Re(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c5(t,e){const n=Re(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const d of u.wa)d.Ca(s)&&(r=!0);u.ya=s}}r&&X1(n)}function h5(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(n);r.queries.delete(e)}function X1(t){t.Da.forEach((e=>{e.next()}))}var Wg,U_;(U_=Wg||(Wg={})).Fa="default",U_.Cache="cache";class d5{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class f5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=jE(e),this.eu=new ml(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new M_,s=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,w)=>{const I=s.get(_),b=Sf(this.query,w)?w:null,j=!!I&&this.mutatedKeys.has(I.key),$=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let F=!1;I&&b?I.data.isEqual(b.data)?j!==$&&(r.track({type:3,doc:b}),F=!0):this.iu(I,b)||(r.track({type:2,doc:b}),F=!0,(f&&this.Xa(b,f)>0||y&&this.Xa(b,y)<0)&&(d=!0)):!I&&b?(r.track({type:0,doc:b}),F=!0):I&&!b&&(r.track({type:1,doc:I}),F=!0,(f||y)&&(d=!0)),F&&(b?(u=u.add(b),a=$?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((_,w)=>(function(b,j){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:F})}};return $(b)-$(j)})(_.type,w.type)||this.Xa(_.doc,w.doc))),this.su(r),s=s!=null&&s;const d=n&&!s?this.ou():[],f=this.Za.size===0&&this.current&&!s?1:0,y=f!==this.Ya;return this.Ya=f,u.length!==0||y?{snapshot:new Rl(this.query,e.eu,a,u,e.mutatedKeys,f===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new M_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new Tw(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new ww(r))})),n}uu(e){this.Ha=e.qs,this.Za=Le();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Rl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Y1="SyncEngine";class p5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m5{constructor(e){this.key=e,this.lu=!1}}class g5{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new da((d=>BE(d)),If),this.Tu=new Map,this.Iu=new Set,this.du=new Et(we.comparator),this.Eu=new Map,this.Au=new B1,this.Ru={},this.Vu=new Map,this.mu=kl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function y5(t,e,n=!0){const r=Cw(t);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await Iw(r,e,n,!0),s}async function v5(t,e){const n=Cw(t);await Iw(n,e,!0,!1)}async function Iw(t,e,n,r){const s=await LP(t.localStore,mi(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await _5(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&mw(t.remoteStore,s),d}async function _5(t,e,n,r,s){t.gu=(w,I,b)=>(async function($,F,te,ee){let le=F.view.nu(te);le.Ds&&(le=await N_($.localStore,F.query,!1).then((({documents:P})=>F.view.nu(P,le))));const Te=ee&&ee.targetChanges.get(F.targetId),ze=ee&&ee.targetMismatches.get(F.targetId)!=null,Ce=F.view.applyChanges(le,$.isPrimaryClient,Te,ze);return j_($,F.targetId,Ce._u),Ce.snapshot})(t,w,I,b);const a=await N_(t.localStore,e,!0),u=new f5(e,a.qs),d=u.nu(a.documents),f=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),y=u.applyChanges(d,t.isPrimaryClient,f);j_(t,n,y._u);const _=new p5(e,n,u);return t.Pu.set(e,_),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),y.snapshot}async function E5(t,e,n){const r=Re(t),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter((u=>!If(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&H1(r.remoteStore,s.targetId),qg(r,s.targetId)})).catch($l)):(qg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function w5(t,e){const n=Re(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),H1(n.remoteStore,r.targetId))}async function T5(t,e,n){const r=P5(t);try{const s=await(function(u,d){const f=Re(u),y=ut.now(),_=d.reduce(((b,j)=>b.add(j.key)),Le());let w,I;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let j=rs(),$=Le();return f.Os.getEntries(b,_).next((F=>{j=F,j.forEach(((te,ee)=>{ee.isValidDocument()||($=$.add(te))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,j))).next((F=>{w=F;const te=[];for(const ee of d){const le=LC(ee,w.get(ee.key).overlayedDocument);le!=null&&te.push(new ho(ee.key,le,bE(le.value.mapValue),gi.exists(!0)))}return f.mutationQueue.addMutationBatch(b,y,te,d)})).next((F=>{I=F;const te=F.applyToLocalDocumentSet(w,$);return f.documentOverlayCache.saveOverlays(b,F.batchId,te)}))})).then((()=>({batchId:I.batchId,changes:$E(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let y=u.Ru[u.currentUser.toKey()];y||(y=new Et(Ne)),y=y.insert(d,f),u.Ru[u.currentUser.toKey()]=y})(r,s.batchId,n),await zc(r,s.changes),await xf(r.remoteStore)}catch(s){const a=Q1(s,"Failed to persist write");n.reject(a)}}async function Sw(t,e){const n=Re(t);try{const r=await DP(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=n.Eu.get(a);u&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.lu=!0:s.modifiedDocuments.size>0?Ye(u.lu,14607):s.removedDocuments.size>0&&(Ye(u.lu,42227),u.lu=!1))})),await zc(n,r,e)}catch(r){await $l(r)}}function B_(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=Re(u);f.onlineState=d;let y=!1;f.queries.forEach(((_,w)=>{for(const I of w.wa)I.va(d)&&(y=!0)})),y&&X1(f)})(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I5(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new Et(we.comparator);u=u.insert(a,_n.newNoDocument(a,ke.min()));const d=Le().add(a),f=new Rf(ke.min(),new Map,new Et(Ne),u,d);await Sw(r,f),r.du=r.du.remove(a),r.Eu.delete(e),J1(r)}else await Hg(r.localStore,e,!1).then((()=>qg(r,e,n))).catch($l)}async function S5(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await NP(n.localStore,e);kw(n,r,null),Aw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,s)}catch(s){await $l(s)}}async function A5(t,e,n){const r=Re(t);try{const s=await(function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return f.mutationQueue.lookupMutationBatch(y,d).next((w=>(Ye(w!==null,37113),_=w.keys(),f.mutationQueue.removeMutationBatch(y,w)))).next((()=>f.mutationQueue.performConsistencyCheck(y))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(y,_,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>f.localDocuments.getDocuments(y,_)))}))})(r.localStore,e);kw(r,e,n),Aw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,s)}catch(s){await $l(s)}}function Aw(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function kw(t,e,n){const r=Re(t);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||Rw(t,r)}))}function Rw(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(H1(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),J1(t))}function j_(t,e,n){for(const r of n)r instanceof ww?(t.Au.addReference(r.key,e),k5(t,r)):r instanceof Tw?(re(Y1,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Rw(t,r.key)):Ie(19791,{yu:r})}function k5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(re(Y1,"New document in limbo: "+n),t.Iu.add(r),J1(t))}function J1(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new we(vt.fromString(e)),r=t.mu.next();t.Eu.set(r,new m5(n)),t.du=t.du.insert(n,r),mw(t.remoteStore,new $s(mi(L1(n.path)),r,"TargetPurposeLimboResolution",_f.ue))}}async function zc(t,e,n){const r=Re(t),s=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,f)=>{u.push(r.gu(f,e,n).then((y=>{var _;if((y||n)&&r.isPrimaryClient){const w=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(y){s.push(y);const w=z1.Es(f.targetId,y);a.push(w)}})))})),await Promise.all(u),r.hu.J_(s),await(async function(f,y){const _=Re(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>H.forEach(y,(I=>H.forEach(I.Is,(b=>_.persistence.referenceDelegate.addReference(w,I.targetId,b))).next((()=>H.forEach(I.ds,(b=>_.persistence.referenceDelegate.removeReference(w,I.targetId,b)))))))))}catch(w){if(!Hl(w))throw w;re($1,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const b=_.Fs.get(I),j=b.snapshotVersion,$=b.withLastLimboFreeSnapshotVersion(j);_.Fs=_.Fs.insert(I,$)}}})(r.localStore,a))}async function R5(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){re(Y1,"User change. New user:",e.toKey());const r=await hw(n.localStore,e);n.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((f=>{f.reject(new fe(q.CANCELLED,u))}))})),a.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Bs)}}function C5(t,e){const n=Re(t),r=n.Eu.get(e);if(r&&r.lu)return Le().add(r.key);{let s=Le();const a=n.Tu.get(e);if(!a)return s;for(const u of a){const d=n.Pu.get(u);s=s.unionWith(d.view.tu)}return s}}function Cw(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I5.bind(null,e),e.hu.J_=c5.bind(null,e.eventManager),e.hu.pu=h5.bind(null,e.eventManager),e}function P5(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A5.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return xP(this.persistence,new RP,e.initialUser,this.serializer)}Du(e){return new cw(j1.Vi,this.serializer)}bu(e){return new MP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class x5 extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ye(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dP(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new cw((r=>Xd.Vi(r,n)),this.serializer)}}class Kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R5.bind(null,this.syncEngine),await s5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a5})()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),r=(function(a){return new zP(a)})(e.databaseInfo);return(function(a,u,d,f){return new WP(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,u,d){return new KP(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>B_(this.syncEngine,n,0)),(function(){return O_.C()?new O_:new FP})())}createSyncEngine(e,n){return(function(s,a,u,d,f,y,_){const w=new g5(s,a,u,d,f,y);return _&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Re(s);re(na,"RemoteStore shutting down."),a.Ia.add(5),await jc(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class D5{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{re(so,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(re(so,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),re(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await hw(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>{Zs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{re("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((s=>{Zs("Terminating Firestore due to IndexedDb database deletion failed",s)}))})),t._offlineComponents=e}async function z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b5(t);re(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>V_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>V_(e.remoteStore,s))),t._onlineComponents=e}async function b5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(so,"Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new Jd)}}else re(so,"Using default OfflineComponentProvider"),await sg(t,new x5(void 0));return t._offlineComponents}async function Pw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(so,"Using user provided OnlineComponentProvider"),await z_(t,t._uninitializedComponentsProvider._online)):(re(so,"Using default OnlineComponentProvider"),await z_(t,new Kg))),t._onlineComponents}function O5(t){return Pw(t).then((e=>e.syncEngine))}async function L5(t){const e=await Pw(t),n=e.eventManager;return n.onListen=y5.bind(null,e.syncEngine),n.onUnlisten=E5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w5.bind(null,e.syncEngine),n}function V5(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,y){const _=new N5({next:I=>{_.Ou(),u.enqueueAndForget((()=>u5(a,w)));const b=I.docs.has(d);!b&&I.fromCache?y.reject(new fe(q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&I.fromCache&&f&&f.source==="server"?y.reject(new fe(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new d5(L1(d.path),_,{includeMetadataChanges:!0,ka:!0});return l5(a,w)})(await L5(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firestore.googleapis.com",H_=!0;class G_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nw,this.ssl=H_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cP)throw new fe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MR;switch(r.type){case"firstParty":return new jR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$_.get(n);r&&(re("ComponentProvider","Removing Datastore"),$_.delete(n),r.terminate())})(this),Promise.resolve()}}function M5(t,e,n,r={}){var s;t=ta(t,Z1);const a=Bl(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a&&(rE(`https://${f}`),iE("Firestore",!0)),u.host!==Nw&&u.host!==f&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!es(y,d)&&(t._setSettings(y),r.mockUserToken)){let _,w;if(typeof r.mockUserToken=="string")_=r.mockUserToken,w=vn.MOCK_USER;else{_=ak(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new fe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new vn(I)}t._authCredentials=new FR(new wE(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ey(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,qt._jsonSchema))return new qt(e,r||null,new we(vt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Lt("string",qt._jsonSchemaVersion),referencePath:Lt("string")};class kc extends ey{constructor(e,n,r){super(e,n,L1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new we(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function Nf(t,e,...n){if(t=wn(t),arguments.length===1&&(e=C1.newId()),WR("doc","path",e),t instanceof Z1){const r=vt.fromString(e,...n);return s_(r),new qt(t,null,new we(r))}{if(!(t instanceof qt||t instanceof kc))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return s_(r),new qt(t.firestore,t instanceof kc?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class q_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fw(this,"async_queue_retry"),this.oc=()=>{const r=ig();r&&re(W_,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new qs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hl(e))throw e;re(W_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ns("INTERNAL UNHANDLED ERROR: ",K_(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=K1.createAndSchedule(this,e,n,r,(a=>this.lc(a)));return this.ec.push(s),s}ac(){this.tc&&Ie(47125,{hc:K_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function K_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Df extends Z1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new q_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}}function F5(t,e){const n=typeof t=="object"?t:k1(),r=typeof t=="string"?t:$d,s=ha(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=sk("firestore");a&&M5(s,...a)}return s}function Dw(t){if(t._terminated)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U5(t),t._firestoreClient}function U5(t){var e,n,r;const s=t._freezeSettings(),a=(function(d,f,y,_){return new iC(d,f,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new D5(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(un.fromBase64String(e))}catch(n){throw new fe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Lt("string",Sr._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Lt("string",vi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _i(e.vectorValues);throw new fe(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Lt("string",_i._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^__.*__$/;class j5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class bw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ow(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:t})}}class Lf{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ow(this.Ec)&&B5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class z5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cf(e)}Dc(e,n,r,s=!1){return new Lf({Ec:e,methodName:n,bc:r,path:ln.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lw(t){const e=t._freezeSettings(),n=Cf(t._databaseId);return new z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $5(t,e,n,r,s,a={}){const u=t.Dc(a.merge||a.mergeFields?2:0,e,n,s);ny("Data must be an object, but it was:",u,r);const d=Vw(r,u);let f,y;if(a.merge)f=new rr(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const I=Qg(e,w,n);if(!u.contains(I))throw new fe(q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Fw(_,I)||_.push(I)}f=new rr(_),y=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,y=u.fieldTransforms;return new j5(new zn(d),f,y)}class Vf extends Of{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function H5(t,e,n){return new Lf({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ty extends Of{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=H5(this,e,!0),r=this.vc.map((a=>$c(a,n))),s=new Al(r);return new NC(e.path,s)}isEqual(e){return e instanceof ty&&es(this.vc,e.vc)}}function G5(t,e,n,r){const s=t.Dc(1,e,n);ny("Data must be an object, but it was:",s,r);const a=[],u=zn.empty();co(r,((f,y)=>{const _=ry(e,f,n);y=wn(y);const w=s.gc(_);if(y instanceof Vf)a.push(_);else{const I=$c(y,w);I!=null&&(a.push(_),u.set(_,I))}}));const d=new rr(a);return new bw(u,d,s.fieldTransforms)}function W5(t,e,n,r,s,a){const u=t.Dc(1,e,n),d=[Qg(e,r,n)],f=[s];if(a.length%2!=0)throw new fe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(Qg(e,a[I])),f.push(a[I+1]);const y=[],_=zn.empty();for(let I=d.length-1;I>=0;--I)if(!Fw(y,d[I])){const b=d[I];let j=f[I];j=wn(j);const $=u.gc(b);if(j instanceof Vf)y.push(b);else{const F=$c(j,$);F!=null&&(y.push(b),_.set(b,F))}}const w=new rr(y);return new bw(_,w,u.fieldTransforms)}function $c(t,e){if(Mw(t=wn(t)))return ny("Unsupported field value:",e,t),Vw(t,e);if(t instanceof Of)return(function(r,s){if(!Ow(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=$c(d,s.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ut.fromDate(r);return{timestampValue:Qd(s.serializer,a)}}if(r instanceof ut){const a=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(s.serializer,a)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:nw(s.serializer,r._byteString)};if(r instanceof qt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:U1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _i)return(function(u,d){return{mapValue:{fields:{[NE]:{stringValue:DE},[Hd]:{arrayValue:{values:u.toArray().map((y=>{if(typeof y!="number")throw d.wc("VectorValues must only contain numeric values.");return V1(d.serializer,y)}))}}}}}})(r,s);throw s.wc(`Unsupported field value: ${P1(r)}`)})(t,e)}function Vw(t,e){const n={};return AE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,((r,s)=>{const a=$c(s,e.Vc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Mw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof vi||t instanceof Sr||t instanceof qt||t instanceof Of||t instanceof _i)}function ny(t,e,n){if(!Mw(n)||!IE(n)){const r=P1(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Qg(t,e,n){if((e=wn(e))instanceof bf)return e._internalPath;if(typeof e=="string")return ry(t,e);throw Zd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q5=new RegExp("[~\\*/\\[\\]]");function ry(t,e,n){if(e.search(q5)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zd(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new fe(q.INVALID_ARGUMENT,d+t+f)}function Fw(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K5 extends Uw{data(){return super.data()}}function Bw(t,e){return typeof e=="string"?ry(t,e):e instanceof bf?e._internalPath:e._delegate._internalPath}class Q5{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Hd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((u=>Ct(u.doubleValue)));return new _i(a)}convertGeoPoint(e){return new vi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=to(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Ye(lw(r),9688,{name:e});const s=new Ic(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(n)||ns(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends Uw{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:Lt("string",Jo._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class xd extends Jo{data(e={}){return super.data(e)}}class dc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ic(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xd(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new xd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ic(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new xd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ic(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return d.type!==0&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:Y5(d.type),doc:f,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=C1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Y5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){t=ta(t,qt);const e=ta(t.firestore,Df);return V5(Dw(e),t._key).then((n=>Z5(e,t,n)))}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:Lt("string",dc._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class J5 extends Q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function jw(t,e,n){t=ta(t,qt);const r=ta(t.firestore,Df),s=X5(t.converter,e,n);return $w(r,[$5(Lw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,gi.none())])}function zw(t,e,n,...r){t=ta(t,qt);const s=ta(t.firestore,Df),a=Lw(s);let u;return u=typeof(e=wn(e))=="string"||e instanceof bf?W5(a,"updateDoc",t._key,e,n,r):G5(a,"updateDoc",t._key,e),$w(s,[u.toMutation(t._key,gi.exists(!0))])}function $w(t,e){return(function(r,s){const a=new qs;return r.asyncQueue.enqueueAndForget((async()=>T5(await O5(r),s,a))),a.promise})(Dw(t),e)}function Z5(t,e,n){const r=n.docs.get(e._key),s=new J5(t);return new Jo(t,s,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}function Hw(...t){return new ty("arrayUnion",t)}(function(e,n=!0){(function(s){zl=s})(jl),Ti(new qr("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Df(new UR(r.getProvider("auth-internal")),new zR(u,r.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(y.options.projectId,_)})(u,s),u);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),kr(e_,t_,e),kr(e_,t_,"esm2017")})();function sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e9=Gw,Ww=new ca("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new vf("@firebase/auth");function t9(t,...e){ef.logLevel<=Oe.WARN&&ef.warn(`Auth (${jl}): ${t}`,...e)}function Nd(t,...e){ef.logLevel<=Oe.ERROR&&ef.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,...e){throw oy(t,...e)}function Ei(t,...e){return oy(t,...e)}function qw(t,e,n){const r=Object.assign(Object.assign({},e9()),{[e]:n});return new ca("auth","Firebase",r).create(e,{appName:t.name})}function Ks(t){return qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ww.create(t,...e)}function Ae(t,e,...n){if(!t)throw oy(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nd(e),new Error(e)}function ss(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function n9(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n9()||sE()||"connection"in navigator)?navigator.onLine:!0}function i9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=ck()||fk()}get(){return r9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a9=new Hc(3e4,6e4);function Mf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wl(t,e,n,r,s={}){return Qw(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Mc(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y=Object.assign({method:e,headers:f},a);return dk()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(y.credentials="include"),Kw.fetch()(await Yw(t,t.config.apiHost,n,d),y)})}async function Qw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},s9),e);try{const s=new l9(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw vd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw vd(t,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qw(t,_,y);is(t,_)}}catch(s){if(s instanceof Kr)throw s;is(t,"network-request-failed",{message:String(s)})}}async function Xw(t,e,n,r,s={}){const a=await Wl(t,e,n,r,s);return"mfaPendingCredential"in a&&is(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yw(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?ay(t.config,s):`${t.config.apiScheme}://${s}`;return o9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class l9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),a9.get())})}}function vd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ei(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return Wl(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return Wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c9(t,e=!1){const n=wn(t),r=await n.getIdToken(e),s=ly(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:fc(og(s.auth_time)),issuedAtTime:fc(og(s.iat)),expirationTime:fc(og(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function og(t){return Number(t)*1e3}function ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Z4(n);return s?JSON.parse(s):(Nd("Failed to decode base64 JWT payload"),null)}catch(s){return Nd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function X_(t){const e=ly(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&h9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Rc(t,tf(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Jw(a.providerUserInfo):[],d=p9(t.providerData,u),f=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?y:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Yg(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,w)}async function f9(t){const e=wn(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Jw(t){return t.map(e=>{var{providerId:n}=e,r=sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e){const n=await Qw(t,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await Yw(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&Bl(t.emulatorConfig.host)&&(f.credentials="include"),Kw.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g9(t,e){return Wl(t,"POST","/v2/accounts:revokeToken",Mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=X_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await m9(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new gl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c9(this,e)}reload(){return f9(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Rc(this,u9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,d,f,y,_;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,j=(u=n.photoURL)!==null&&u!==void 0?u:void 0,$=(d=n.tenantId)!==null&&d!==void 0?d:void 0,F=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,te=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:le,emailVerified:Te,isAnonymous:ze,providerData:Ce,stsTokenManager:P}=n;Ae(le&&P,e,"internal-error");const S=gl.fromJSON(this.name,P);Ae(typeof le=="string",e,"internal-error"),Os(w,e.name),Os(I,e.name),Ae(typeof Te=="boolean",e,"internal-error"),Ae(typeof ze=="boolean",e,"internal-error"),Os(b,e.name),Os(j,e.name),Os($,e.name),Os(F,e.name),Os(te,e.name),Os(ee,e.name);const R=new Wr({uid:le,auth:e,email:I,emailVerified:Te,displayName:w,isAnonymous:ze,photoURL:j,phoneNumber:b,tenantId:$,stsTokenManager:S,createdAt:te,lastLoginAt:ee});return Ce&&Array.isArray(Ce)&&(R.providerData=Ce.map(x=>Object.assign({},x))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new gl;s.updateFromServerResponse(n);const a=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Jw(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new gl;d.updateFromIdToken(r);const f=new Wr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function Xi(t){ss(t instanceof Function,"Expected a class definition");let e=Y_.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zw.type="NONE";const J_=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Dd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yl(Xi(J_),e,r);const s=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=s[0]||Xi(J_);const u=Dd(r,e.config.apiKey,e.name);let d=null;for(const y of n)try{const _=await y._get(u);if(_){let w;if(typeof _=="string"){const I=await tf(e,{idToken:_}).catch(()=>{});if(!I)break;w=await Wr._fromGetAccountInfoResponse(e,I,_)}else w=Wr._fromJSON(e,_);y!==a&&(d=w),a=y;break}}catch{}const f=s.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new yl(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new yl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(oT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eT(t=En()){return/firefox\//i.test(t)}function tT(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(t=En()){return/crios\//i.test(t)}function rT(t=En()){return/iemobile/i.test(t)}function iT(t=En()){return/android/i.test(t)}function sT(t=En()){return/blackberry/i.test(t)}function oT(t=En()){return/webos/i.test(t)}function uy(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y9(t=En()){var e;return uy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v9(){return pk()&&document.documentMode===10}function aT(t=En()){return uy(t)||iT(t)||oT(t)||sT(t)||/windows phone/i.test(t)||rT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e=[]){let n;switch(t){case"Browser":n=Z_(En());break;case"Worker":n=`${Z_(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e={}){return Wl(t,"GET","/v2/passwordPolicy",Mf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=6;class T9{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:w9,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e3(this),this.idTokenSubscription=new e3(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Ks(this));const n=e?wn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E9(this),n=new T9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&t9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ff(t){return wn(t)}class e3{constructor(e){this.auth=e,this.observer=null,this.addObserver=wk(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(t){cy=t}function A9(t){return cy.loadJS(t)}function k9(){return cy.gapiScript}function R9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){const n=ha(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(es(a,e??{}))return s;is(s,"already-initialized")}return n.initialize({options:e})}function P9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x9(t,e,n){const r=Ff(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=uT(e),{host:u,port:d}=N9(e),f=d===null?"":`:${d}`,y={url:`${a}//${u}${f}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(es(y,r.config.emulator)&&es(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Bl(u)?(rE(`${a}//${u}${f}`),iE("Auth",!0)):D9()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N9(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:t3(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:t3(u)}}}function t3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return Xw(t,"POST","/v1/accounts:signInWithIdp",Mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="http://localhost";class ra extends cT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=sy(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ra(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:b9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends hT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Gc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Gc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Gc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Wr._fromIdTokenResponse(e,r,s),u=n3(r);return new ia({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=n3(r);return new ia({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function n3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Kr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rf(e,n,r,s)}}function dT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,a,e,r):a})}async function O9(t,e,n=!1){const r=await Rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(Ks(r));const s="reauthenticate";try{const a=await Rc(t,dT(r,s,e,t),n);Ae(a.idToken,r,"internal-error");const u=ly(a.idToken);Ae(u,r,"internal-error");const{sub:d}=u;return Ae(t.uid===d,r,"user-mismatch"),ia._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&is(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ks(t));const r="signIn",s=await dT(t,r,e),a=await ia._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){return Xw(t,"POST","/v1/accounts:signInWithCustomToken",Mf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t,e){if(Gr(t.app))return Promise.reject(Ks(t));const n=Ff(t),r=await M9(n,{token:e,returnSecureToken:!0}),s=await ia._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}function F9(t,e,n,r){return wn(t).onIdTokenChanged(e,n,r)}function U9(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function B9(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=1e3,z9=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);v9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,z9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const $9=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async y=>y(n.origin,a)),f=await H9(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const y=hy("",20);s.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function W9(t){wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function q9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q9(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",X9=1,of="firebaseLocalStorage",ET="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function Y9(){const t=indexedDB.deleteDatabase(_T);return new Wc(t).toPromise()}function Jg(){const t=indexedDB.open(_T,X9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(of,{keyPath:ET})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await Y9(),e(await Jg()))})})}async function r3(t,e,n){const r=Bf(t,!0).put({[ET]:e,value:n});return new Wc(r).toPromise()}async function J9(t,e){const n=Bf(t,!1).get(e),r=await new Wc(n).toPromise();return r===void 0?null:r.value}function i3(t,e){const n=Bf(t,!0).delete(e);return new Wc(n).toPromise()}const Z9=800,e7=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>e7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(Q9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q9(),!this.activeServiceWorker)return;this.sender=new G9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await r3(e,sf,"1"),await i3(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Bf(s,!1).getAll();return new Wc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const t7=wT;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t,e){return e?Xi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends cT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r7(t){return V9(t.auth,new dy(t),t.bypassAuthState)}function i7(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),L9(n,new dy(t),t.bypassAuthState)}async function s7(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),O9(n,new dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r7;case"linkViaPopup":case"linkViaRedirect":return s7;case"reauthViaPopup":case"reauthViaRedirect":return i7;default:is(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=new Hc(2e3,1e4);class fl extends TT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o7.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="pendingRedirect",bd=new Map;class l7 extends TT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const r=await u7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u7(t,e){const n=d7(e),r=h7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function c7(t,e){bd.set(t._key(),e)}function h7(t){return Xi(t._redirectPersistence)}function d7(t){return Dd(a7,t.config.apiKey,t.name)}async function f7(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ks(t));const r=Ff(t),s=n7(r,e),u=await new l7(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=600*1e3;class m7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p7&&this.cachedEventUids.clear(),this.cachedEventUids.has(s3(e))}saveEventToCache(e){this.cachedEventUids.add(s3(e)),this.lastProcessedEventTime=Date.now()}}function s3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t,e={}){return Wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_7=/^https?/;async function E7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await y7(t);for(const n of e)try{if(w7(n))return}catch{}is(t,"unauthorized-domain")}function w7(t){const e=Xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!_7.test(n))return!1;if(v7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=new Hc(3e4,6e4);function o3(){const t=wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I7(t){return new Promise((e,n)=>{var r,s,a;function u(){o3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o3(),n(Ei(t,"network-request-failed"))},timeout:T7.get()})}if(!((s=(r=wi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=wi().gapi)===null||a===void 0)&&a.load)u();else{const d=R9("iframefcb");return wi()[d]=()=>{gapi.load?u():n(Ei(t,"network-request-failed"))},A9(`${k9()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Od=null,e})}let Od=null;function S7(t){return Od=Od||I7(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=new Hc(5e3,15e3),k7="__/auth/iframe",R7="emulator/auth/iframe",C7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x7(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ay(e,R7):`https://${t.config.authDomain}/${k7}`,r={apiKey:e.apiKey,appName:t.name,v:jl},s=P7.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Mc(r).slice(1)}`}async function N7(t){const e=await S7(t),n=wi().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:x7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C7,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(t,"network-request-failed"),d=wi().setTimeout(()=>{a(u)},A7.get());function f(){wi().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b7=500,O7=600,L7="_blank",V7="http://localhost";class a3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M7(t,e,n,r=b7,s=O7){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},D7),{width:r.toString(),height:s.toString(),top:a,left:u}),y=En().toLowerCase();n&&(d=nT(y)?L7:n),eT(y)&&(e=e||V7,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[b,j])=>`${I}${b}=${j},`,"");if(y9(y)&&d!=="_self")return F7(e||"",d),new a3(null);const w=window.open(e||"",d,_);Ae(w,t,"popup-blocked");try{w.focus()}catch{}return new a3(w)}function F7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="__/auth/handler",B7="emulator/auth/handler",j7=encodeURIComponent("fac");async function l3(t,e,n,r,s,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:s};if(e instanceof hT){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Ek(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof Gc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await t._getAppCheckToken(),y=f?`#${j7}=${encodeURIComponent(f)}`:"";return`${z7(t)}?${Mc(d).slice(1)}${y}`}function z7({config:t}){return t.emulator?ay(t,B7):`https://${t.authDomain}/${U7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class $7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=f7,this._overrideRedirectResult=c7}async _openPopup(e,n,r,s){var a;ss((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await l3(e,n,r,Xg(),s);return M7(e,u,hy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await l3(e,n,r,Xg(),s);return W9(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ss(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N7(e),r=new m7(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ag];u!==void 0&&n(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||tT()||uy()}}const H7=$7;var u3="@firebase/auth",c3="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q7(t){Ti(new qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(t)},y=new I9(r,s,a,f);return P9(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new qr("auth-internal",e=>{const n=Ff(e.getProvider("auth").getImmediate());return(r=>new G7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(u3,c3,W7(t)),kr(u3,c3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=300,Q7=nE("authIdTokenMaxAge")||K7;let h3=null;const X7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Q7)return;const s=n==null?void 0:n.token;h3!==s&&(h3=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Y7(t=k1()){const e=ha(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C9(t,{popupRedirectResolver:H7,persistence:[t7,$9,yT]}),r=nE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=X7(a.toString());U9(n,u,()=>u(n.currentUser)),F9(n,d=>u(d))}}const s=eE("auth");return s&&x9(n,`http://${s}`),n}function J7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ei("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",J7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q7("Browser");const ST="@firebase/installations",fy="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=1e4,kT=`w:${fy}`,RT="FIS_v2",Z7="https://firebaseinstallations.googleapis.com/v1",e8=3600*1e3,t8="installations",n8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new ca(t8,n8,r8);function CT(t){return t instanceof Kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT({projectId:t}){return`${Z7}/projects/${t}/installations`}function xT(t){return{token:t.token,requestStatus:2,expiresIn:s8(t.expiresIn),creationTime:Date.now()}}async function NT(t,e){const r=(await e.json()).error;return sa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function i8(t,{refreshToken:e}){const n=DT(t);return n.append("Authorization",o8(e)),n}async function bT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function s8(t){return Number(t.replace("s","000"))}function o8(t){return`${RT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PT(t),s=DT(t),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={fid:n,authVersion:RT,appId:t.appId,sdkVersion:kT},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await bT(()=>fetch(r,d));if(f.ok){const y=await f.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:xT(y.authToken)}}else throw await NT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=/^[cdef][\w-]{21}$/,Zg="";function c8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=h8(t);return u8.test(n)?n:Zg}catch{return Zg}}function h8(t){return l8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function VT(t,e){const n=jf(t);MT(n,e),d8(n,e)}function MT(t,e){const n=LT.get(t);if(n)for(const r of n)r(e)}function d8(t,e){const n=f8();n&&n.postMessage({key:t,fid:e}),p8()}let Ko=null;function f8(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{MT(t.data.key,t.data.fid)}),Ko}function p8(){LT.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="firebase-installations-database",g8=1,oa="firebase-installations-store";let lg=null;function py(){return lg||(lg=cE(m8,g8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}})),lg}async function af(t,e){const n=jf(t),s=(await py()).transaction(oa,"readwrite"),a=s.objectStore(oa),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&VT(t,e.fid),e}async function FT(t){const e=jf(t),r=(await py()).transaction(oa,"readwrite");await r.objectStore(oa).delete(e),await r.done}async function zf(t,e){const n=jf(t),s=(await py()).transaction(oa,"readwrite"),a=s.objectStore(oa),u=await a.get(n),d=e(u);return d===void 0?await a.delete(n):await a.put(d,n),await s.done,d&&(!u||u.fid!==d.fid)&&VT(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function my(t){let e;const n=await zf(t.appConfig,r=>{const s=y8(r),a=v8(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Zg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function y8(t){const e=t||{fid:c8(),registrationStatus:0};return UT(e)}function v8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=_8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:E8(t)}:{installationEntry:e}}async function _8(t,e){try{const n=await a8(t,e);return af(t.appConfig,n)}catch(n){throw CT(n)&&n.customData.serverCode===409?await FT(t.appConfig):await af(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function E8(t){let e=await d3(t.appConfig);for(;e.registrationStatus===1;)await OT(100),e=await d3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await my(t);return r||n}return e}function d3(t){return zf(t,e=>{if(!e)throw sa.create("installation-not-found");return UT(e)})}function UT(t){return w8(t)?{fid:t.fid,registrationStatus:0}:t}function w8(t){return t.registrationStatus===1&&t.registrationTime+AT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8({appConfig:t,heartbeatServiceProvider:e},n){const r=I8(t,n),s=i8(t,n),a=e.getImmediate({optional:!0});if(a){const y=await a.getHeartbeatsHeader();y&&s.append("x-firebase-client",y)}const u={installation:{sdkVersion:kT,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},f=await bT(()=>fetch(r,d));if(f.ok){const y=await f.json();return xT(y)}else throw await NT("Generate Auth Token",f)}function I8(t,{fid:e}){return`${PT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gy(t,e=!1){let n;const r=await zf(t.appConfig,a=>{if(!BT(a))throw sa.create("not-registered");const u=a.authToken;if(!e&&k8(u))return a;if(u.requestStatus===1)return n=S8(t,e),a;{if(!navigator.onLine)throw sa.create("app-offline");const d=C8(a);return n=A8(t,d),d}});return n?await n:r.authToken}async function S8(t,e){let n=await f3(t.appConfig);for(;n.authToken.requestStatus===1;)await OT(100),n=await f3(t.appConfig);const r=n.authToken;return r.requestStatus===0?gy(t,e):r}function f3(t){return zf(t,e=>{if(!BT(e))throw sa.create("not-registered");const n=e.authToken;return P8(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function A8(t,e){try{const n=await T8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await af(t.appConfig,r),n}catch(n){if(CT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await af(t.appConfig,r)}throw n}}function BT(t){return t!==void 0&&t.registrationStatus===2}function k8(t){return t.requestStatus===2&&!R8(t)}function R8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+e8}function C8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function P8(t){return t.requestStatus===1&&t.requestTime+AT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(t){const e=t,{installationEntry:n,registrationPromise:r}=await my(e);return r?r.catch(console.error):gy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e=!1){const n=t;return await D8(n),(await gy(n,e)).token}async function D8(t){const{registrationPromise:e}=await my(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){if(!t||!t.options)throw ug("App Configuration");if(!t.name)throw ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ug(t){return sa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="installations",O8="installations-internal",L8=t=>{const e=t.getProvider("app").getImmediate(),n=b8(e),r=ha(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},V8=t=>{const e=t.getProvider("app").getImmediate(),n=ha(e,jT).getImmediate();return{getId:()=>x8(n),getToken:s=>N8(n,s)}};function M8(){Ti(new qr(jT,L8,"PUBLIC")),Ti(new qr(O8,V8,"PRIVATE"))}M8();kr(ST,fy);kr(ST,fy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="analytics",F8="firebase_id",U8="origin",B8=60*1e3,j8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ir=new ca("analytics","Analytics",z8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){if(!t.startsWith(yy)){const e=ir.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function zT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function H8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function G8(t,e){const n=H8("firebase-js-sdk-policy",{createScriptURL:$8}),r=document.createElement("script"),s=`${yy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function W8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function q8(t,e,n,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await zT(n)).find(y=>y.measurementId===s);f&&await e[f.appId]}}catch(d){$n.error(d)}t("config",s,a)}async function K8(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const d=await zT(n);for(const f of u){const y=d.find(w=>w.measurementId===f),_=y&&e[y.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){$n.error(a)}}function Q8(t,e,n,r){async function s(a,...u){try{if(a==="event"){const[d,f]=u;await K8(t,e,n,d,f)}else if(a==="config"){const[d,f]=u;await q8(t,e,n,r,d,f)}else if(a==="consent"){const[d,f]=u;t("consent",d,f)}else if(a==="get"){const[d,f,y]=u;t("get",d,f,y)}else if(a==="set"){const[d]=u;t("set",d)}else t(a,...u)}catch(d){$n.error(d)}}return s}function X8(t,e,n,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=Q8(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function Y8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=30,Z8=1e3;class ex{constructor(e={},n=Z8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $T=new ex;function tx(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nx(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:tx(r)},a=j8.replace("{app-id}",n),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let d="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function rx(t,e=$T,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw ir.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw ir.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new ox;return setTimeout(async()=>{d.abort()},B8),HT({appId:r,apiKey:s,measurementId:a},u,d,e)}async function HT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$T){var a;const{appId:u,measurementId:d}=t;try{await ix(r,e)}catch(f){if(d)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:d};throw f}try{const f=await nx(t);return s.deleteThrottleMetadata(u),f}catch(f){const y=f;if(!sx(y)){if(s.deleteThrottleMetadata(u),d)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:d};throw f}const _=Number((a=y==null?void 0:y.customData)===null||a===void 0?void 0:a.httpStatus)===503?Hv(n,s.intervalMillis,J8):Hv(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return s.setThrottleMetadata(u,w),$n.debug(`Calling attemptFetch again in ${_} millis`),HT(t,w,r,s)}}function ix(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sx(t){if(!(t instanceof Kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ox{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ax(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(){if(oE())try{await aE()}catch(t){return $n.warn(ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $n.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ux(t,e,n,r,s,a,u){var d;const f=rx(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>$n.error(b)),e.push(f);const y=lx().then(b=>{if(b)return r.getId()}),[_,w]=await Promise.all([f,y]);Y8(a)||G8(a,_.measurementId),s("js",new Date);const I=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return I[U8]="firebase",I.update=!0,w!=null&&(I[F8]=w),s("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.app=e}_delete(){return delete pc[this.app.options.appId],Promise.resolve()}}let pc={},p3=[];const m3={};let cg="dataLayer",hx="gtag",g3,GT,y3=!1;function dx(){const t=[];if(sE()&&t.push("This is a browser extension environment."),gk()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function fx(t,e,n){dx();const r=t.options.appId;if(!r)throw ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ir.create("no-api-key");if(pc[r]!=null)throw ir.create("already-exists",{id:r});if(!y3){W8(cg);const{wrappedGtag:a,gtagCore:u}=X8(pc,p3,m3,cg,hx);GT=a,g3=u,y3=!0}return pc[r]=ux(t,p3,m3,e,g3,cg,n),new cx(t)}function px(t=k1()){t=wn(t);const e=ha(t,lf);return e.isInitialized()?e.getImmediate():mx(t)}function mx(t,e={}){const n=ha(t,lf);if(n.isInitialized()){const s=n.getImmediate();if(es(e,n.getOptions()))return s;throw ir.create("already-initialized")}return n.initialize({options:e})}function gx(t,e,n,r){t=wn(t),ax(GT,pc[t.app.options.appId],e,n,r).catch(s=>$n.error(s))}const v3="@firebase/analytics",_3="0.10.17";function yx(){Ti(new qr(lf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return fx(r,s,n)},"PUBLIC")),Ti(new qr("analytics-internal",t,"PRIVATE")),kr(v3,_3),kr(v3,_3,"esm2017");function t(e){try{const n=e.getProvider(lf).getImmediate();return{logEvent:(r,s,a)=>gx(n,r,s,a)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}}}yx();const vx={apiKey:"AIzaSyB68ZwHdbSKc_KmYu_UBEPdde6_1giTvy4",authDomain:"rivalis-fitness-reimagined.firebaseapp.com",projectId:"rivalis-fitness-reimagined",storageBucket:"rivalis-fitness-reimagined.firebasestorage.app",messagingSenderId:"87398106759",appId:"1:87398106759:web:5048a04e7130f8a027da22",measurementId:"G-18CRL1DDT8"},vy=hE(vx),$f=F5(vy),e1=Y7(vy);px(vy);function _x(){const t=S1(),[e]=X4();J.useEffect(()=>{const s=e.get("token");s&&fT(e1,s).then(()=>{console.log("Successfully signed in with token on selection page")}).catch(a=>{console.error("Error signing in with token:",a)})},[e]);const n=s=>{t(`/burnouts/${s}`)},r=[{name:"Arms",icon:"/assets/icons/arms.png"},{name:"Legs",icon:"/assets/icons/legs.png"},{name:"Core",icon:"/assets/icons/core.png"},{name:"Cardio",icon:"/assets/icons/cardio.png"}];return Pe.jsxs("div",{className:"selection-container",children:[Pe.jsx("h1",{children:"Select Muscle Group"}),Pe.jsx("div",{className:"buttons-grid",children:r.map(s=>Pe.jsxs("div",{className:"button-card",onClick:()=>n(s.name),children:[Pe.jsx("img",{src:s.icon,alt:s.name,className:"button-icon"}),Pe.jsx("span",{children:s.name})]},s.name))})]})}var Cl=typeof self<"u"?self:{};function Ho(){throw Error("Invalid UTF8")}function E3(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}let _d,hg;const Ex=typeof TextDecoder<"u";let wx;const Tx=typeof TextEncoder<"u";function WT(t){if(Tx)t=(wx||(wx=new TextEncoder)).encode(t);else{let n=0;const r=new Uint8Array(3*t.length);for(let s=0;s<t.length;s++){var e=t.charCodeAt(s);if(e<128)r[n++]=e;else{if(e<2048)r[n++]=e>>6|192;else{if(e>=55296&&e<=57343){if(e<=56319&&s<t.length){const a=t.charCodeAt(++s);if(a>=56320&&a<=57343){e=1024*(e-55296)+a-56320+65536,r[n++]=e>>18|240,r[n++]=e>>12&63|128,r[n++]=e>>6&63|128,r[n++]=63&e|128;continue}s--}e=65533}r[n++]=e>>12|224,r[n++]=e>>6&63|128}r[n++]=63&e|128}}t=n===r.length?r:r.subarray(0,n)}return t}var _y,uf;e:{for(var w3=["CLOSURE_FLAGS"],dg=Cl,fg=0;fg<w3.length;fg++)if((dg=dg[w3[fg]])==null){uf=null;break e}uf=dg}var Cc,T3=uf&&uf[610401301];_y=T3!=null&&T3;const I3=Cl.navigator;function t1(t){return!!_y&&!!Cc&&Cc.brands.some((({brand:e})=>e&&e.indexOf(t)!=-1))}function Ir(t){var e;return(e=Cl.navigator)&&(e=e.userAgent)||(e=""),e.indexOf(t)!=-1}function Bs(){return!!_y&&!!Cc&&Cc.brands.length>0}function pg(){return Bs()?t1("Chromium"):(Ir("Chrome")||Ir("CriOS"))&&!(!Bs()&&Ir("Edge"))||Ir("Silk")}function Hf(t){return Hf[" "](t),t}Cc=I3&&I3.userAgentData||null,Hf[" "]=function(){};var Ix=!Bs()&&(Ir("Trident")||Ir("MSIE"));!Ir("Android")||pg(),pg(),Ir("Safari")&&(pg()||!Bs()&&Ir("Coast")||!Bs()&&Ir("Opera")||!Bs()&&Ir("Edge")||(Bs()?t1("Microsoft Edge"):Ir("Edg/"))||Bs()&&t1("Opera"));var qT={},sc=null;function Sx(t){const e=t.length;let n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);const r=new Uint8Array(n);let s=0;return(function(a,u){function d(y){for(;f<a.length;){const _=a.charAt(f++),w=sc[_];if(w!=null)return w;if(!/^[\s\xa0]*$/.test(_))throw Error("Unknown base64 encoding at char: "+_)}return y}KT();let f=0;for(;;){const y=d(-1),_=d(0),w=d(64),I=d(64);if(I===64&&y===-1)break;u(y<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),I!=64&&u(w<<6&192|I))}})(t,(function(a){r[s++]=a})),s!==n?r.subarray(0,s):r}function KT(){if(!sc){sc={};var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"];for(let n=0;n<5;n++){const r=t.concat(e[n].split(""));qT[n]=r;for(let s=0;s<r.length;s++){const a=r[s];sc[a]===void 0&&(sc[a]=s)}}}}var QT=typeof Uint8Array<"u",XT=!Ix&&typeof btoa=="function";function S3(t){if(!XT){var e;e===void 0&&(e=0),KT(),e=qT[e];var n=Array(Math.floor(t.length/3)),r=e[64]||"";let f=0,y=0;for(;f<t.length-2;f+=3){var s=t[f],a=t[f+1],u=t[f+2],d=e[s>>2];s=e[(3&s)<<4|a>>4],a=e[(15&a)<<2|u>>6],u=e[63&u],n[y++]=d+s+a+u}switch(d=0,u=r,t.length-f){case 2:u=e[(15&(d=t[f+1]))<<2]||r;case 1:t=t[f],n[y]=e[t>>2]+e[(3&t)<<4|d>>4]+u+r}return n.join("")}for(e="",n=0,r=t.length-10240;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return e+=String.fromCharCode.apply(null,n?t.subarray(n):t),btoa(e)}const A3=/[-_.]/g,Ax={"-":"+",_:"/",".":"="};function kx(t){return Ax[t]||""}function YT(t){if(!XT)return Sx(t);A3.test(t)&&(t=t.replace(A3,kx)),t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function aa(t){return QT&&t!=null&&t instanceof Uint8Array}var Pl={};function la(){return Rx||(Rx=new Ji(null,Pl))}function Ey(t){JT(Pl);var e=t.g;return(e=e==null||aa(e)?e:typeof e=="string"?YT(e):null)==null?e:t.g=e}var Ji=class{h(){return new Uint8Array(Ey(this)||0)}constructor(t,e){if(JT(e),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}};let Rx,Cx;function JT(t){if(t!==Pl)throw Error("illegal external caller")}function ZT(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function n1(t){return ZT(t=Error(t),"warning"),t}function wy(t){if(t!=null){var e=Cx??(Cx={}),n=e[t]||0;n>=5||(e[t]=n+1,ZT(t=Error(),"incident"),(function(r){Cl.setTimeout((()=>{throw r}),0)})(t))}}var Gf=typeof Symbol=="function"&&typeof Symbol()=="symbol";function ql(t,e,n=!1){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?n&&Symbol.for&&t?Symbol.for(t):t!=null?Symbol(t):Symbol():e}var Px=ql("jas",void 0,!0),k3=ql(void 0,"0di"),Ju=ql(void 0,"1oa"),xl=ql(void 0,Symbol()),xx=ql(void 0,"0actk"),eI=ql(void 0,"8utk");const me=Gf?Px:"Ea",tI={Ea:{value:0,configurable:!0,writable:!0,enumerable:!1}},nI=Object.defineProperties;function Wf(t,e){Gf||me in t||nI(t,tI),t[me]|=e}function Ot(t,e){Gf||me in t||nI(t,tI),t[me]=e}function Kl(t){return Wf(t,34),t}function Nx(t,e){Ot(e,-15615&(0|t))}function r1(t,e){Ot(e,-15581&(34|t))}function qf(){return typeof BigInt=="function"}function Hn(t){return Array.prototype.slice.call(t)}var Ty,qc={};function Kf(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function Iy(t,e){if(t!=null){if(typeof t=="string")t=t?new Ji(t,Pl):la();else if(t.constructor!==Ji)if(aa(t))t=t.length?new Ji(new Uint8Array(t),Pl):la();else{if(!e)throw Error();t=void 0}}return t}const R3=[];function fo(t){if(2&t)throw Error()}Ot(R3,55),Ty=Object.freeze(R3);class C3{constructor(e,n,r){this.g=e,this.h=n,this.l=r}next(){const e=this.g.next();return e.done||(e.value=this.h.call(this.l,e.value)),e}[Symbol.iterator](){return this}}function Sy(t){return xl?t[xl]:void 0}var Dx=Object.freeze({});function Qf(t){return t.Na=!0,t}var bx=Qf((t=>typeof t=="number")),P3=Qf((t=>typeof t=="string")),Ox=Qf((t=>typeof t=="boolean")),Xf=typeof Cl.BigInt=="function"&&typeof Cl.BigInt(0)=="bigint";function Qs(t){var e=t;if(P3(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(bx(e)&&!Number.isSafeInteger(e))throw Error(String(e));return Xf?BigInt(t):t=Ox(t)?t?"1":"0":P3(t)?t.trim()||"0":String(t)}var i1=Qf((t=>Xf?t>=Vx&&t<=Fx:t[0]==="-"?x3(t,Lx):x3(t,Mx)));const Lx=Number.MIN_SAFE_INTEGER.toString(),Vx=Xf?BigInt(Number.MIN_SAFE_INTEGER):void 0,Mx=Number.MAX_SAFE_INTEGER.toString(),Fx=Xf?BigInt(Number.MAX_SAFE_INTEGER):void 0;function x3(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){const r=t[n],s=e[n];if(r>s)return!1;if(r<s)return!0}}const Ux=typeof Uint8Array.prototype.slice=="function";let rI,tt=0,It=0;function N3(t){const e=t>>>0;tt=e,It=(t-e)/4294967296>>>0}function ua(t){if(t<0){N3(-t);const[e,n]=Cy(tt,It);tt=e>>>0,It=n>>>0}else N3(t)}function Ay(t){const e=rI||(rI=new DataView(new ArrayBuffer(8)));e.setFloat32(0,+t,!0),It=0,tt=e.getUint32(0,!0)}function ky(t,e){const n=4294967296*e+(t>>>0);return Number.isSafeInteger(n)?n:Pc(t,e)}function Ry(t,e){const n=2147483648&e;return n&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),typeof(t=ky(t,e))=="number"?n?-t:t:n?"-"+t:t}function Pc(t,e){if(t>>>=0,(e>>>=0)<=2097151)var n=""+(4294967296*e+t);else qf()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(n=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+D3(n)+D3(t));return n}function D3(t){return t=String(t),"0000000".slice(t.length)+t}function iI(){var t=tt,e=It;if(2147483648&e)if(qf())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{const[n,r]=Cy(t,e);t="-"+Pc(n,r)}else t=Pc(t,e);return t}function Yf(t){if(t.length<16)ua(Number(t));else if(qf())t=BigInt(t),tt=Number(t&BigInt(4294967295))>>>0,It=Number(t>>BigInt(32)&BigInt(4294967295));else{const e=+(t[0]==="-");It=tt=0;const n=t.length;for(let r=e,s=(n-e)%6+e;s<=n;r=s,s+=6){const a=Number(t.slice(r,s));It*=1e6,tt=1e6*tt+a,tt>=4294967296&&(It+=Math.trunc(tt/4294967296),It>>>=0,tt>>>=0)}if(e){const[r,s]=Cy(tt,It);tt=r,It=s}}}function Cy(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}const xc=typeof BigInt=="function"?BigInt.asIntN:void 0,Bx=typeof BigInt=="function"?BigInt.asUintN:void 0,Xs=Number.isSafeInteger,Jf=Number.isFinite,Nl=Math.trunc,jx=Qs(0);function po(t){return t==null||typeof t=="number"?t:t==="NaN"||t==="Infinity"||t==="-Infinity"?Number(t):void 0}function sI(t){return t==null||typeof t=="boolean"?t:typeof t=="number"?!!t:void 0}const zx=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Nc(t){switch(typeof t){case"bigint":return!0;case"number":return Jf(t);case"string":return zx.test(t);default:return!1}}function Ql(t){if(t==null)return t;if(typeof t=="string"&&t)t=+t;else if(typeof t!="number")return;return Jf(t)?0|t:void 0}function oI(t){if(t==null)return t;if(typeof t=="string"&&t)t=+t;else if(typeof t!="number")return;return Jf(t)?t>>>0:void 0}function b3(t){if(t[0]==="-")return!1;const e=t.length;return e<20||e===20&&Number(t.substring(0,6))<184467}function aI(t){const e=t.length;return t[0]==="-"?e<20||e===20&&Number(t.substring(0,7))>-922337:e<19||e===19&&Number(t.substring(0,6))<922337}function lI(t){return aI(t)?t:(Yf(t),iI())}function Py(t){return t=Nl(t),Xs(t)||(ua(t),t=Ry(tt,It)),t}function uI(t){var e=Nl(Number(t));return Xs(e)?String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),lI(t))}function O3(t){var e=Nl(Number(t));return Xs(e)?Qs(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),qf()?Qs(xc(64,BigInt(t))):Qs(lI(t)))}function L3(t){if(Xs(t))t=Qs(Py(t));else{if(t=Nl(t),Xs(t))t=String(t);else{const e=String(t);aI(e)?t=e:(ua(t),t=iI())}t=Qs(t)}return t}function s1(t){return t==null?t:typeof t=="bigint"?(i1(t)?t=Number(t):(t=xc(64,t),t=i1(t)?Number(t):String(t)),t):Nc(t)?typeof t=="number"?Py(t):uI(t):void 0}function $x(t){if(t==null)return t;var e=typeof t;if(e==="bigint")return String(Bx(64,t));if(Nc(t)){if(e==="string")return e=Nl(Number(t)),Xs(e)&&e>=0?t=String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),b3(t)||(Yf(t),t=Pc(tt,It))),t;if(e==="number")return(t=Nl(t))>=0&&Xs(t)?t:(function(n){if(n<0){ua(n);var r=Pc(tt,It);return n=Number(r),Xs(n)?n:r}return b3(r=String(n))?r:(ua(n),ky(tt,It))})(t)}}function cI(t){if(typeof t!="string")throw Error();return t}function Xl(t){if(t!=null&&typeof t!="string")throw Error();return t}function Dl(t){return t==null||typeof t=="string"?t:void 0}function xy(t,e,n,r){if(t!=null&&typeof t=="object"&&t.W===qc)return t;if(!Array.isArray(t))return n?2&r?((t=e[k3])||(Kl((t=new e).u),t=e[k3]=t),e=t):e=new e:e=void 0,e;let s=n=0|t[me];return s===0&&(s|=32&r),s|=2&r,s!==n&&Ot(t,s),new e(t)}function Hx(t,e,n){if(e)e:{if(!Nc(e=t))throw n1("int64");switch(typeof e){case"string":e=O3(e);break e;case"bigint":e=Qs(xc(64,e));break e;default:e=L3(e)}}else t=typeof(e=t),e=e==null?e:t==="bigint"?Qs(xc(64,e)):Nc(e)?t==="string"?O3(e):L3(e):void 0;return(t=e)==null?n?jx:void 0:t}function Gx(t){return t}const Wx={};let qx=(function(){try{return Hf(new class extends Map{constructor(){super()}}),!1}catch{return!0}})();class mg{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,n){return this.g.set(e,n),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,n){return this.g.forEach(e,n)}[Symbol.iterator](){return this.entries()}}const Kx=qx?(Object.setPrototypeOf(mg.prototype,Map.prototype),Object.defineProperties(mg.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),mg):class extends Map{constructor(){super()}};function V3(t){return t}function gg(t){if(2&t.M)throw Error("Cannot mutate an immutable Map")}var Ai=class extends Kx{constructor(t,e,n=V3,r=V3){super();let s=0|t[me];s|=64,Ot(t,s),this.M=s,this.I=e,this.S=n,this.X=this.I?Qx:r;for(let a=0;a<t.length;a++){const u=t[a],d=n(u[0],!1,!0);let f=u[1];e?f===void 0&&(f=null):f=r(u[1],!1,!0,void 0,void 0,s),super.set(d,f)}}La(){var t=eN;if(this.size!==0)return Array.from(super.entries(),(e=>(e[0]=t(e[0]),e[1]=t(e[1]),e)))}da(t=Xx){const e=[],n=super.entries();for(var r;!(r=n.next()).done;)(r=r.value)[0]=t(r[0]),r[1]=t(r[1]),e.push(r);return e}clear(){gg(this),super.clear()}delete(t){return gg(this),super.delete(this.S(t,!0,!1))}entries(){if(this.I){var t=super.keys();t=new C3(t,Yx,this)}else t=super.entries();return t}values(){if(this.I){var t=super.keys();t=new C3(t,Ai.prototype.get,this)}else t=super.values();return t}forEach(t,e){this.I?super.forEach(((n,r,s)=>{t.call(e,s.get(r),r,s)})):super.forEach(t,e)}set(t,e){return gg(this),(t=this.S(t,!0,!1))==null?this:e==null?(super.delete(t),this):super.set(t,this.X(e,!0,!0,this.I,!1,this.M))}Ja(t){const e=this.S(t[0],!1,!0);t=t[1],t=this.I?t===void 0?null:t:this.X(t,!1,!0,void 0,!1,this.M),super.set(e,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);const e=super.get(t);if(e!==void 0){var n=this.I;return n?((n=this.X(e,!1,!0,n,this.pa,this.M))!==e&&super.set(t,n),n):e}}[Symbol.iterator](){return this.entries()}};function Qx(t,e,n,r,s,a){return t=xy(t,r,n,a),s&&(t=tp(t)),t}function Xx(t){return t}function Yx(t){return[t,this.get(t)]}let Jx,hI,dI,Zx;function M3(){return Jx||(Jx=new Ai(Kl([]),void 0,void 0,void 0,Wx))}function o1(t,e,n,r,s){if(t!=null){if(Array.isArray(t)){const a=0|t[me];return t.length===0&&1&a?void 0:s&&2&a?t:Zf(t,e,n,r!==void 0,s)}return e(t,r)}}function Zf(t,e,n,r,s){const a=r||n?0|t[me]:0,u=r?!!(32&a):void 0;let d=0;const f=(r=Hn(t)).length;for(let j=0;j<f;j++){var y=r[j];if(j===f-1&&Kf(y)){var _=e,w=n,I=u,b=s;let $;for(let F in y){const te=o1(y[F],_,w,I,b);te!=null&&(($??($={}))[F]=te)}y=$}else y=o1(r[j],e,n,u,s);r[j]=y,y!=null&&(d=j+1)}return d<f&&(r.length=d),n&&((t=Sy(t))&&(r[xl]=Hn(t)),n(a,r)),r}function eN(t){return o1(t,Ny,void 0,void 0,!1)}function Ny(t){switch(typeof t){case"number":return Number.isFinite(t)?t:""+t;case"bigint":return i1(t)?Number(t):""+t;case"boolean":return t?1:0;case"object":if(aa(t))return aa(t)&&wy(eI),S3(t);if(t.W===qc)return fI(t);if(t instanceof Ji){const e=t.g;return e==null?"":typeof e=="string"?e:t.g=S3(e)}return t instanceof Ai?t.La():void 0}return t}function fI(t){var e=t.u;t=Zf(e,Ny,void 0,void 0,!1);var n=0|e[me];if((e=t.length)&&!(512&n)){var r=t[e-1],s=!1;Kf(r)?(e--,s=!0):r=void 0;var a=e-(n=512&n?0:-1),u=(hI??Gx)(a,n,t,r);if(r&&(t[e]=void 0),a<u&&r){for(var d in a=!0,r){const f=+d;f<=u?(t[s=f+n]=r[d],e=Math.max(s+1,e),s=!1,delete r[d]):a=!1}a&&(r=void 0)}for(a=e-1;e>0;a=e-1)if((d=t[a])==null)e--,s=!0;else{if(!((a-=n)>=u))break;(r??(r={}))[a]=d,e--,s=!0}s&&(t.length=e),r&&t.push(r)}return t}function Ys(t,e,n){return t=pI(t,e[0],e[1],n?1:2),e!==dI&&n&&Wf(t,8192),t}function pI(t,e,n,r){if(t==null){var s=96;n?(t=[n],s|=512):t=[],e&&(s=-16760833&s|(1023&e)<<14)}else{if(!Array.isArray(t))throw Error("narr");if(8192&(s=0|t[me])||!(64&s)||2&s||wy(xx),1024&s)throw Error("farr");if(64&s)return t;if(r===1||r===2||(s|=64),n&&(s|=512,n!==t[0]))throw Error("mid");e:{var a=(n=t).length;if(a){var u=a-1;if(Kf(r=n[u])){if((u-=e=512&(s|=256)?0:-1)>=1024)throw Error("pvtlmt");for(var d in r)(a=+d)<u&&(n[a+e]=r[d],delete r[d]);s=-16760833&s|(1023&u)<<14;break e}}if(e){if((d=Math.max(e,a-(512&s?0:-1)))>1024)throw Error("spvt");s=-16760833&s|(1023&d)<<14}}}return Ot(t,s),t}function a1(t,e,n=r1){if(t!=null){if(QT&&t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var r=0|t[me];return 2&r?t:(e&&(e=r===0||!!(32&r)&&!(64&r||!(16&r))),e?(Ot(t,34|r),4&r&&Object.freeze(t),t):Zf(t,a1,4&r?r1:n,!0,!0))}return t.W===qc?t=2&(r=0|(n=t.u)[me])?t:new t.constructor(ep(n,r,!0)):t instanceof Ai&&!(2&t.M)&&(n=Kl(t.da(a1)),t=new Ai(n,t.I,t.S,t.X)),t}}function ep(t,e,n){const r=n||2&e?r1:Nx,s=!!(32&e);return t=(function(a,u,d){const f=Hn(a);var y=f.length;const _=256&u?f[y-1]:void 0;for(y+=_?-1:0,u=512&u?1:0;u<y;u++)f[u]=d(f[u]);if(_){u=f[u]={};for(const w in _)u[w]=d(_[w])}return(a=Sy(a))&&(f[xl]=Hn(a)),f})(t,e,(a=>a1(a,s,r))),Wf(t,32|(n?2:0)),t}function tp(t){const e=t.u,n=0|e[me];return 2&n?new t.constructor(ep(e,n,!1)):t}function bl(t,e){return ls(t=t.u,0|t[me],e)}function ls(t,e,n){if(n===-1)return null;const r=n+(512&e?0:-1),s=t.length-1;return r>=s&&256&e?t[s][n]:r<=s?t[r]:void 0}function st(t,e,n){const r=t.u;let s=0|r[me];return fo(s),_t(r,s,e,n),t}function _t(t,e,n,r){const s=512&e?0:-1,a=n+s;var u=t.length-1;return a>=u&&256&e?(t[u][n]=r,e):a<=u?(t[a]=r,e):(r!==void 0&&(n>=(u=e>>14&1023||536870912)?r!=null&&(t[u+s]={[n]:r},Ot(t,e|=256)):t[a]=r),e)}function Ld(t,e){let n=0|(t=t.u)[me];const r=ls(t,n,e),s=po(r);return s!=null&&s!==r&&_t(t,n,e,s),s}function mI(t){let e=0|(t=t.u)[me];const n=ls(t,e,1),r=Iy(n,!0);return r!=null&&r!==n&&_t(t,e,1,r),r}function Qo(){return Dx===void 0?2:4}function Xo(t,e,n,r,s){const a=t.u,u=2&(t=0|a[me])?1:r;s=!!s;let d=0|(r=Dy(a,t,e))[me];if(!(4&d)){4&d&&(r=Hn(r),d=Zi(d,t),t=_t(a,t,e,r));let f=0,y=0;for(;f<r.length;f++){const _=n(r[f]);_!=null&&(r[y++]=_)}y<f&&(r.length=y),d=by(d,t),n=-2049&(20|d),d=n&=-4097,Ot(r,d),2&d&&Object.freeze(r)}return u===1||u===4&&32&d?Yi(d)||(s=d,d|=2,d!==s&&Ot(r,d),Object.freeze(r)):(u===2&&Yi(d)&&(r=Hn(r),d=Zi(d,t),d=Js(d,t,s),Ot(r,d),t=_t(a,t,e,r)),Yi(d)||(e=d,d=Js(d,t,s),d!==e&&Ot(r,d))),r}function Dy(t,e,n){return t=ls(t,e,n),Array.isArray(t)?t:Ty}function by(t,e){return t===0&&(t=Zi(t,e)),1|t}function Yi(t){return!!(2&t)&&!!(4&t)||!!(1024&t)}function gI(t){t=Hn(t);for(let e=0;e<t.length;e++){const n=t[e]=Hn(t[e]);Array.isArray(n[1])&&(n[1]=Kl(n[1]))}return t}function l1(t,e,n,r){let s=0|(t=t.u)[me];fo(s),_t(t,s,e,(r==="0"?Number(n)===0:n===r)?void 0:n)}function Yl(t,e,n,r){fo(e);let s=Dy(t,e,n);const a=s!==Ty;if(64&e||!(8192&e)||!a){const u=a?0|s[me]:0;let d=u;(!a||2&d||Yi(d)||4&d&&!(32&d))&&(s=Hn(s),d=Zi(d,e),e=_t(t,e,n,s)),d=-13&by(d,e),d=Js(r?-17&d:16|d,e,!0),d!==u&&Ot(s,d)}return s}function yg(t,e){var n=iS;return Ly(Oy(t=t.u),t,0|t[me],n)===e?e:-1}function Oy(t){if(Gf)return t[Ju]??(t[Ju]=new Map);if(Ju in t)return t[Ju];const e=new Map;return Object.defineProperty(t,Ju,{value:e}),e}function yI(t,e,n,r){const s=Oy(t),a=Ly(s,t,e,n);return a!==r&&(a&&(e=_t(t,e,a)),s.set(n,r)),e}function Ly(t,e,n,r){let s=t.get(r);if(s!=null)return s;s=0;for(let a=0;a<r.length;a++){const u=r[a];ls(e,n,u)!=null&&(s!==0&&(n=_t(e,n,s)),s=u)}return t.set(r,s),s}function Vy(t,e,n){let r=0|t[me];const s=ls(t,r,n);let a;if(s!=null&&s.W===qc)return(e=tp(s))!==s&&_t(t,r,n,e),e.u;if(Array.isArray(s)){const u=0|s[me];a=2&u?Ys(ep(s,u,!1),e,!0):64&u?s:Ys(a,e,!0)}else a=Ys(void 0,e,!0);return a!==s&&_t(t,r,n,a),a}function vI(t,e,n){let r=0|(t=t.u)[me];const s=ls(t,r,n);return(e=xy(s,e,!1,r))!==s&&e!=null&&_t(t,r,n,e),e}function He(t,e,n){if((e=vI(t,e,n))==null)return e;let r=0|(t=t.u)[me];if(!(2&r)){const s=tp(e);s!==e&&_t(t,r,n,e=s)}return e}function _I(t,e,n,r,s,a,u){t=t.u;var d=!!(2&e);const f=d?1:s;a=!!a,u&&(u=!d);var y=0|(s=Dy(t,e,r))[me];if(!(d=!!(4&y))){var _=s,w=e;const I=!!(2&(y=by(y,e)));I&&(w|=2);let b=!I,j=!0,$=0,F=0;for(;$<_.length;$++){const te=xy(_[$],n,!1,w);if(te instanceof n){if(!I){const ee=!!(2&(0|te.u[me]));b&&(b=!ee),j&&(j=ee)}_[F++]=te}}F<$&&(_.length=F),y|=4,y=j?16|y:-17&y,Ot(_,y=b?8|y:-9&y),I&&Object.freeze(_)}if(u&&!(8&y||!s.length&&(f===1||f===4&&32&y))){for(Yi(y)&&(s=Hn(s),y=Zi(y,e),e=_t(t,e,r,s)),n=s,u=y,_=0;_<n.length;_++)(y=n[_])!==(w=tp(y))&&(n[_]=w);u|=8,Ot(n,u=n.length?-17&u:16|u),y=u}return f===1||f===4&&32&y?Yi(y)||(e=y,(y|=!s.length||16&y&&(!d||32&y)?2:1024)!==e&&Ot(s,y),Object.freeze(s)):(f===2&&Yi(y)&&(Ot(s=Hn(s),y=Js(y=Zi(y,e),e,a)),e=_t(t,e,r,s)),Yi(y)||(r=y,(y=Js(y,e,a))!==r&&Ot(s,y))),s}function os(t,e,n){const r=0|t.u[me];return _I(t,r,e,n,Qo(),!1,!(2&r))}function ye(t,e,n,r){return r==null&&(r=void 0),st(t,n,r)}function mc(t,e,n,r){r==null&&(r=void 0);e:{let s=0|(t=t.u)[me];if(fo(s),r==null){const a=Oy(t);if(Ly(a,t,s,n)!==e)break e;a.set(n,0)}else s=yI(t,s,n,e);_t(t,s,e,r)}}function Zi(t,e){return-1025&(t=32|(2&e?2|t:-3&t))}function Js(t,e,n){return 32&e&&n||(t&=-33),t}function np(t,e,n){fo(0|t.u[me]),Xo(t,e,Dl,2,!0).push(cI(n))}function cf(t,e,n,r){const s=0|t.u[me];fo(s),t=_I(t,s,n,e,2,!0),r=r??new n,t.push(r),t[me]=2&(0|r.u[me])?-9&t[me]:-17&t[me]}function Ar(t,e){return Ql(bl(t,e))}function Rr(t,e){return Dl(bl(t,e))}function Pt(t,e){return Ld(t,e)??0}function Dc(t,e,n){if(n!=null&&typeof n!="boolean")throw t=typeof n,Error(`Expected boolean but got ${t!="object"?t:n?Array.isArray(n)?"array":t:"null"}: ${n}`);st(t,e,n)}function ki(t,e,n){if(n!=null){if(typeof n!="number"||!Jf(n))throw n1("int32");n|=0}st(t,e,n)}function de(t,e,n){if(n!=null&&typeof n!="number")throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);st(t,e,n)}function hf(t,e,n){{const u=t.u;let d=0|u[me];if(fo(d),n==null)_t(u,d,e);else{var r=t=0|n[me],s=Yi(t),a=s||Object.isFrozen(n);for(s||(t=0),a||(n=Hn(n),r=0,t=Js(t=Zi(t,d),d,!0),a=!1),t|=21,s=0;s<n.length;s++){const f=n[s],y=cI(f);Object.is(f,y)||(a&&(n=Hn(n),r=0,t=Js(t=Zi(t,d),d,!0),a=!1),n[s]=y)}t!==r&&(a&&(n=Hn(n),t=Js(t=Zi(t,d),d,!0)),Ot(n,t)),_t(u,d,e,n)}}}function EI(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function My(){return Error("Failed to read varint, encoding is invalid.")}function wI(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function Fy(t){if(typeof t=="string")return{buffer:YT(t),O:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Uint8Array)return{buffer:t,O:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Ji)return{buffer:Ey(t)||new Uint8Array(0),O:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Uy(t,e){let n,r=0,s=0,a=0;const u=t.h;let d=t.g;do n=u[d++],r|=(127&n)<<a,a+=7;while(a<32&&128&n);for(a>32&&(s|=(127&n)>>4),a=3;a<32&&128&n;a+=7)n=u[d++],s|=(127&n)<<a;if(Zo(t,d),n<128)return e(r>>>0,s>>>0);throw My()}function By(t){let e=0,n=t.g;const r=n+10,s=t.h;for(;n<r;){const a=s[n++];if(e|=a,(128&a)==0)return Zo(t,n),!!(127&e)}throw My()}function oo(t){const e=t.h;let n=t.g,r=e[n++],s=127&r;if(128&r&&(r=e[n++],s|=(127&r)<<7,128&r&&(r=e[n++],s|=(127&r)<<14,128&r&&(r=e[n++],s|=(127&r)<<21,128&r&&(r=e[n++],s|=r<<28,128&r&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++])))))throw My();return Zo(t,n),s}function as(t){return oo(t)>>>0}function u1(t){var e=t.h;const n=t.g,r=e[n],s=e[n+1],a=e[n+2];return e=e[n+3],Zo(t,t.g+4),(r<<0|s<<8|a<<16|e<<24)>>>0}function c1(t){var e=u1(t);t=2*(e>>31)+1;const n=e>>>23&255;return e&=8388607,n==255?e?NaN:t*(1/0):n==0?1401298464324817e-60*t*e:t*Math.pow(2,n-150)*(e+8388608)}function tN(t){return oo(t)}function vg(t,e,{aa:n=!1}={}){t.aa=n,e&&(e=Fy(e),t.h=e.buffer,t.m=e.O,t.j=0,t.l=t.h.length,t.g=t.j)}function Zo(t,e){if(t.g=e,e>t.l)throw wI(t.l,e)}function TI(t,e){if(e<0)throw Error(`Tried to read a negative byte length: ${e}`);const n=t.g,r=n+e;if(r>t.l)throw wI(e,t.l-n);return t.g=r,n}function II(t,e){if(e==0)return la();var n=TI(t,e);return t.aa&&t.m?n=t.h.subarray(n,n+e):(t=t.h,n=n===(e=n+e)?new Uint8Array(0):Ux?t.slice(n,e):new Uint8Array(t.subarray(n,e))),n.length==0?la():new Ji(n,Pl)}Ai.prototype.toJSON=void 0;var F3=[];function SI(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var n=as(t.g);if(e=n>>>3,!((n&=7)>=0&&n<=5))throw EI(n,t.l);if(e<1)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=n,!0}function Vd(t){switch(t.h){case 0:t.h!=0?Vd(t):By(t.g);break;case 1:Zo(t=t.g,t.g+8);break;case 2:if(t.h!=2)Vd(t);else{var e=as(t.g);Zo(t=t.g,t.g+e)}break;case 5:Zo(t=t.g,t.g+4);break;case 3:for(e=t.m;;){if(!SI(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.m!=e)throw Error("Unmatched end-group tag");break}Vd(t)}break;default:throw EI(t.h,t.l)}}function Kc(t,e,n){const r=t.g.l,s=as(t.g),a=t.g.g+s;let u=a-r;if(u<=0&&(t.g.l=a,n(e,t,void 0,void 0,void 0),u=a-t.g.g),u)throw Error(`Message parsing ended unexpectedly. Expected to read ${s} bytes, instead read ${s-u} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=a,t.g.l=r,e}function jy(t){var e=as(t.g),n=TI(t=t.g,e);if(t=t.h,Ex){var r,s=t;(r=hg)||(r=hg=new TextDecoder("utf-8",{fatal:!0})),e=n+e,s=n===0&&e===s.length?s:s.subarray(n,e);try{var a=r.decode(s)}catch(d){if(_d===void 0){try{r.decode(new Uint8Array([128]))}catch{}try{r.decode(new Uint8Array([97])),_d=!0}catch{_d=!1}}throw!_d&&(hg=void 0),d}}else{e=(a=n)+e,n=[];let d,f=null;for(;a<e;){var u=t[a++];u<128?n.push(u):u<224?a>=e?Ho():(d=t[a++],u<194||(192&d)!=128?(a--,Ho()):n.push((31&u)<<6|63&d)):u<240?a>=e-1?Ho():(d=t[a++],(192&d)!=128||u===224&&d<160||u===237&&d>=160||(192&(r=t[a++]))!=128?(a--,Ho()):n.push((15&u)<<12|(63&d)<<6|63&r)):u<=244?a>=e-2?Ho():(d=t[a++],(192&d)!=128||d-144+(u<<28)>>30!=0||(192&(r=t[a++]))!=128||(192&(s=t[a++]))!=128?(a--,Ho()):(u=(7&u)<<18|(63&d)<<12|(63&r)<<6|63&s,u-=65536,n.push(55296+(u>>10&1023),56320+(1023&u)))):Ho(),n.length>=8192&&(f=E3(f,n),n.length=0)}a=E3(f,n)}return a}function AI(t){const e=as(t.g);return II(t.g,e)}function rp(t,e,n){var r=as(t.g);for(r=t.g.g+r;t.g.g<r;)n.push(e(t.g))}var Ed=[];function Qr(t,e,n){e.g?e.m(t,e.g,e.h,n):e.m(t,e.h,n)}var ce=class{constructor(t,e){this.u=pI(t,e)}toJSON(){try{var t=fI(this)}finally{hI=void 0}return t}l(){var t=MN;return t.g?t.l(this,t.g,t.h):t.l(this,t.h,t.defaultValue)}clone(){const t=this.u;return new this.constructor(ep(t,0|t[me],!1))}O(){return!!(2&(0|this.u[me]))}};function U3(t){return t?/^\d+$/.test(t)?(Yf(t),new h1(tt,It)):null:nN||(nN=new h1(0,0))}ce.prototype.W=qc,ce.prototype.toString=function(){return this.u.toString()};var h1=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let nN;function B3(t){return t?/^-?\d+$/.test(t)?(Yf(t),new d1(tt,It)):null:rN||(rN=new d1(0,0))}var d1=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let rN;function _l(t,e,n){for(;n>0||e>127;)t.g.push(127&e|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.g.push(e)}function Jl(t,e){for(;e>127;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function ip(t,e){if(e>=0)Jl(t,e);else{for(let n=0;n<9;n++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function bc(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function Ol(t,e){e.length!==0&&(t.l.push(e),t.h+=e.length)}function ar(t,e,n){Jl(t.g,8*e+n)}function zy(t,e){return ar(t,e,2),e=t.g.end(),Ol(t,e),e.push(t.h),e}function $y(t,e){var n=e.pop();for(n=t.h+t.g.length()-n;n>127;)e.push(127&n|128),n>>>=7,t.h++;e.push(n),t.h++}function sp(t,e,n){ar(t,e,2),Jl(t.g,n.length),Ol(t,t.g.end()),Ol(t,n)}function df(t,e,n,r){n!=null&&(e=zy(t,e),r(n,t),$y(t,e))}function Xr(){const t=class{constructor(){throw Error()}};return Object.setPrototypeOf(t,t.prototype),t}var Hy=Xr(),kI=Xr(),Gy=Xr(),Wy=Xr(),RI=Xr(),CI=Xr(),qy=Xr(),PI=Xr(),xI=Xr(),Zl=class{constructor(t,e,n){this.g=t,this.h=e,t=Hy,this.l=!!t&&n===t||!1}};function op(t,e){return new Zl(t,e,Hy)}function NI(t,e,n,r,s){df(t,n,LI(e,r),s)}const iN=op((function(t,e,n,r,s){return t.h===2&&(Kc(t,Vy(e,r,n),s),!0)}),NI),sN=op((function(t,e,n,r,s){return t.h===2&&(Kc(t,Vy(e,r,n),s),!0)}),NI);var ap=Symbol(),Ky=Symbol(),j3=Symbol(),z3=Symbol();let DI,bI;function pa(t,e,n,r){var s=r[t];if(s)return s;(s={}).Ma=r,s.T=(function(w){switch(typeof w){case"boolean":return dI||(dI=[0,void 0,!0]);case"number":return w>0?void 0:w===0?Zx||(Zx=[0,void 0]):[-w,void 0];case"string":return[0,w];case"object":return w}})(r[0]);var a=r[1];let u=1;a&&a.constructor===Object&&(s.ga=a,typeof(a=r[++u])=="function"&&(s.la=!0,DI??(DI=a),bI??(bI=r[u+1]),a=r[u+=2]));const d={};for(;a&&Array.isArray(a)&&a.length&&typeof a[0]=="number"&&a[0]>0;){for(var f=0;f<a.length;f++)d[a[f]]=a;a=r[++u]}for(f=1;a!==void 0;){let w;typeof a=="number"&&(f+=a,a=r[++u]);var y=void 0;if(a instanceof Zl?w=a:(w=iN,u--),w==null?void 0:w.l){a=r[++u],y=r;var _=u;typeof a=="function"&&(a=a(),y[_]=a),y=a}for(_=f+1,typeof(a=r[++u])=="number"&&a<0&&(_-=a,a=r[++u]);f<_;f++){const I=d[f];y?n(s,f,w,y,I):e(s,f,w,I)}}return r[t]=s}function OI(t){return Array.isArray(t)?t[0]instanceof Zl?t:[sN,t]:[t,void 0]}function LI(t,e){return t instanceof ce?t.u:Array.isArray(t)?Ys(t,e,!1):void 0}function Qy(t,e,n,r){const s=n.g;t[e]=r?(a,u,d)=>s(a,u,d,r):s}function Xy(t,e,n,r,s){const a=n.g;let u,d;t[e]=(f,y,_)=>a(f,y,_,d||(d=pa(Ky,Qy,Xy,r).T),u||(u=Yy(r)),s)}function Yy(t){let e=t[j3];if(e!=null)return e;const n=pa(Ky,Qy,Xy,t);return e=n.la?(r,s)=>DI(r,s,n):(r,s)=>{const a=0|r[me];for(;SI(s)&&s.h!=4;){var u=s.m,d=n[u];if(d==null){var f=n.ga;f&&(f=f[u])&&(f=oN(f))!=null&&(d=n[u]=f)}d!=null&&d(s,r,u)||(u=(d=s).l,Vd(d),d.fa?d=void 0:(f=d.g.g-u,d.g.g=u,d=II(d.g,f)),u=r,d&&((f=u[xl])?f.push(d):u[xl]=[d]))}return 8192&a&&Kl(r),!0},t[j3]=e}function oN(t){const e=(t=OI(t))[0].g;if(t=t[1]){const n=Yy(t),r=pa(Ky,Qy,Xy,t).T;return(s,a,u)=>e(s,a,u,r,n)}return e}function lp(t,e,n){t[e]=n.h}function up(t,e,n,r){let s,a;const u=n.h;t[e]=(d,f,y)=>u(d,f,y,a||(a=pa(ap,lp,up,r).T),s||(s=VI(r)))}function VI(t){let e=t[z3];if(!e){const n=pa(ap,lp,up,t);e=(r,s)=>MI(r,s,n),t[z3]=e}return e}function MI(t,e,n){(function(r,s,a){const u=512&s?0:-1,d=r.length,f=d+((s=64&s?256&s:!!d&&Kf(r[d-1]))?-1:0);for(let y=0;y<f;y++)a(y-u,r[y]);if(s){r=r[d-1];for(const y in r)!isNaN(y)&&a(+y,r[y])}})(t,0|t[me]|(n.T[1]?512:0),((r,s)=>{if(s!=null){var a=(function(u,d){var f=u[d];if(f)return f;if((f=u.ga)&&(f=f[d])){var y=(f=OI(f))[0].h;if(f=f[1]){const _=VI(f),w=pa(ap,lp,up,f).T;f=u.la?bI(w,_):(I,b,j)=>y(I,b,j,w,_)}else f=y;return u[d]=f}})(n,r);a&&a(e,s,r)}})),(t=Sy(t))&&(function(r,s){Ol(r,r.g.end());for(let a=0;a<s.length;a++)Ol(r,Ey(s[a])||new Uint8Array(0))})(e,t)}function eu(t,e){if(Array.isArray(e)){var n=0|e[me];if(4&n)return e;for(var r=0,s=0;r<e.length;r++){const a=t(e[r]);a!=null&&(e[s++]=a)}return s<r&&(e.length=s),Ot(e,-6145&(5|n)),2&n&&Object.freeze(e),e}}function xn(t,e,n){return new Zl(t,e,n)}function tu(t,e,n){return new Zl(t,e,n)}function Nn(t,e,n){_t(t,0|t[me],e,n)}var aN=op((function(t,e,n,r,s){return t.h===2&&(t=Kc(t,Ys([void 0,void 0],r,!0),s),fo(r=0|e[me]),(s=ls(e,r,n))instanceof Ai?(2&s.M)!=0?((s=s.da()).push(t),_t(e,r,n,s)):s.Ja(t):Array.isArray(s)?(2&(0|s[me])&&_t(e,r,n,s=gI(s)),s.push(t)):_t(e,r,n,[t]),!0)}),(function(t,e,n,r,s){if(e instanceof Ai)e.forEach(((a,u)=>{df(t,n,Ys([u,a],r,!1),s)}));else if(Array.isArray(e))for(let a=0;a<e.length;a++){const u=e[a];Array.isArray(u)&&df(t,n,Ys(u,r,!1),s)}}));function FI(t,e,n){if(e=(function(r){if(r==null)return r;const s=typeof r;if(s==="bigint")return String(xc(64,r));if(Nc(r)){if(s==="string")return uI(r);if(s==="number")return Py(r)}})(e),e!=null&&(typeof e=="string"&&B3(e),e!=null))switch(ar(t,n,0),typeof e){case"number":t=t.g,ua(e),_l(t,tt,It);break;case"bigint":n=BigInt.asUintN(64,e),n=new d1(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),_l(t.g,n.h,n.g);break;default:n=B3(e),_l(t.g,n.h,n.g)}}function UI(t,e,n){(e=Ql(e))!=null&&e!=null&&(ar(t,n,0),ip(t.g,e))}function BI(t,e,n){(e=sI(e))!=null&&(ar(t,n,0),t.g.g.push(e?1:0))}function jI(t,e,n){(e=Dl(e))!=null&&sp(t,n,WT(e))}function zI(t,e,n,r,s){df(t,n,LI(e,r),s)}function $I(t,e,n){e==null||typeof e=="string"||e instanceof Ji||(aa(e)?aa(e)&&wy(eI):e=void 0),e!=null&&sp(t,n,Fy(e).buffer)}function HI(t,e,n){return(t.h===5||t.h===2)&&(e=Yl(e,0|e[me],n,!1),t.h==2?rp(t,c1,e):e.push(c1(t.g)),!0)}var qi=xn((function(t,e,n){if(t.h!==1)return!1;var r=t.g;t=u1(r);const s=u1(r);r=2*(s>>31)+1;const a=s>>>20&2047;return t=4294967296*(1048575&s)+t,Nn(e,n,a==2047?t?NaN:r*(1/0):a==0?5e-324*r*t:r*Math.pow(2,a-1075)*(t+4503599627370496)),!0}),(function(t,e,n){(e=po(e))!=null&&(ar(t,n,1),t=t.g,(n=rI||(rI=new DataView(new ArrayBuffer(8)))).setFloat64(0,+e,!0),tt=n.getUint32(0,!0),It=n.getUint32(4,!0),bc(t,tt),bc(t,It))}),Xr()),Vt=xn((function(t,e,n){return t.h===5&&(Nn(e,n,c1(t.g)),!0)}),(function(t,e,n){(e=po(e))!=null&&(ar(t,n,5),t=t.g,Ay(e),bc(t,tt))}),qy),lN=tu(HI,(function(t,e,n){if((e=eu(po,e))!=null)for(let u=0;u<e.length;u++){var r=t,s=n,a=e[u];a!=null&&(ar(r,s,5),r=r.g,Ay(a),bc(r,tt))}}),qy),Jy=tu(HI,(function(t,e,n){if((e=eu(po,e))!=null&&e.length){ar(t,n,2),Jl(t.g,4*e.length);for(let r=0;r<e.length;r++)n=t.g,Ay(e[r]),bc(n,tt)}}),qy),ao=xn((function(t,e,n){return t.h===0&&(Nn(e,n,Uy(t.g,Ry)),!0)}),FI,CI),_g=xn((function(t,e,n){return t.h===0&&(Nn(e,n,(t=Uy(t.g,Ry))===0?void 0:t),!0)}),FI,CI),uN=xn((function(t,e,n){return t.h===0&&(Nn(e,n,Uy(t.g,ky)),!0)}),(function(t,e,n){if((e=$x(e))!=null&&(typeof e=="string"&&U3(e),e!=null))switch(ar(t,n,0),typeof e){case"number":t=t.g,ua(e),_l(t,tt,It);break;case"bigint":n=BigInt.asUintN(64,e),n=new h1(Number(n&BigInt(4294967295)),Number(n>>BigInt(32))),_l(t.g,n.h,n.g);break;default:n=U3(e),_l(t.g,n.h,n.g)}}),Xr()),St=xn((function(t,e,n){return t.h===0&&(Nn(e,n,oo(t.g)),!0)}),UI,Wy),cp=tu((function(t,e,n){return(t.h===0||t.h===2)&&(e=Yl(e,0|e[me],n,!1),t.h==2?rp(t,oo,e):e.push(oo(t.g)),!0)}),(function(t,e,n){if((e=eu(Ql,e))!=null&&e.length){n=zy(t,n);for(let r=0;r<e.length;r++)ip(t.g,e[r]);$y(t,n)}}),Wy),pl=xn((function(t,e,n){return t.h===0&&(Nn(e,n,(t=oo(t.g))===0?void 0:t),!0)}),UI,Wy),pt=xn((function(t,e,n){return t.h===0&&(Nn(e,n,By(t.g)),!0)}),BI,kI),El=xn((function(t,e,n){return t.h===0&&(Nn(e,n,(t=By(t.g))===!1?void 0:t),!0)}),BI,kI),yn=tu((function(t,e,n){return t.h===2&&(t=jy(t),Yl(e,0|e[me],n,!1).push(t),!0)}),(function(t,e,n){if((e=eu(Dl,e))!=null)for(let u=0;u<e.length;u++){var r=t,s=n,a=e[u];a!=null&&sp(r,s,WT(a))}}),Gy),js=xn((function(t,e,n){return t.h===2&&(Nn(e,n,(t=jy(t))===""?void 0:t),!0)}),jI,Gy),Xe=xn((function(t,e,n){return t.h===2&&(Nn(e,n,jy(t)),!0)}),jI,Gy),Gt=(function(t,e,n=Hy){return new Zl(t,e,n)})((function(t,e,n,r,s){return t.h===2&&(r=Ys(void 0,r,!0),Yl(e,0|e[me],n,!0).push(r),Kc(t,r,s),!0)}),(function(t,e,n,r,s){if(Array.isArray(e))for(let a=0;a<e.length;a++)zI(t,e[a],n,r,s)})),Qe=op((function(t,e,n,r,s,a){return t.h===2&&(yI(e,0|e[me],a,n),Kc(t,e=Vy(e,r,n),s),!0)}),zI),GI=xn((function(t,e,n){return t.h===2&&(Nn(e,n,AI(t)),!0)}),$I,PI),cN=tu((function(t,e,n){return(t.h===0||t.h===2)&&(e=Yl(e,0|e[me],n,!1),t.h==2?rp(t,as,e):e.push(as(t.g)),!0)}),(function(t,e,n){if((e=eu(oI,e))!=null)for(let u=0;u<e.length;u++){var r=t,s=n,a=e[u];a!=null&&(ar(r,s,0),Jl(r.g,a))}}),RI),hN=xn((function(t,e,n){return t.h===0&&(Nn(e,n,(t=as(t.g))===0?void 0:t),!0)}),(function(t,e,n){(e=oI(e))!=null&&e!=null&&(ar(t,n,0),Jl(t.g,e))}),RI),sr=xn((function(t,e,n){return t.h===0&&(Nn(e,n,oo(t.g)),!0)}),(function(t,e,n){(e=Ql(e))!=null&&(e=parseInt(e,10),ar(t,n,0),ip(t.g,e))}),xI);class dN{constructor(e,n){this.h=e,this.g=n,this.l=He,this.m=ye,this.defaultValue=void 0}register(){Hf(this)}}function Yr(t,e){return new dN(t,e)}function mo(t,e){return(n,r)=>{if(Ed.length){const a=Ed.pop();a.o(r),vg(a.g,n,r),n=a}else n=new class{constructor(a,u){if(F3.length){const d=F3.pop();vg(d,a,u),a=d}else a=new class{constructor(d,f){this.h=null,this.m=!1,this.g=this.l=this.j=0,vg(this,d,f)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.aa=!1}}(a,u);this.g=a,this.l=this.g.g,this.h=this.m=-1,this.o(u)}o({fa:a=!1}={}){this.fa=a}}(n,r);try{const a=new t,u=a.u;Yy(e)(u,n);var s=a}finally{n.g.clear(),n.m=-1,n.h=-1,Ed.length<100&&Ed.push(n)}return s}}function hp(t){return function(){const e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const u=this.g;return this.g=[],u}}}};MI(this.u,e,pa(ap,lp,up,t)),Ol(e,e.g.end());const n=new Uint8Array(e.h),r=e.l,s=r.length;let a=0;for(let u=0;u<s;u++){const d=r[u];n.set(d,a),a+=d.length}return e.l=[n],n}}var $3=class extends ce{constructor(t){super(t)}},H3=[0,js,xn((function(t,e,n){return t.h===2&&(Nn(e,n,(t=AI(t))===la()?void 0:t),!0)}),(function(t,e,n){if(e!=null){if(e instanceof ce){const r=e.Oa;return void(r&&(e=r(e),e!=null&&sp(t,n,Fy(e).buffer)))}if(Array.isArray(e))return}$I(t,e,n)}),PI)];let Eg,G3=globalThis.trustedTypes;function W3(t){Eg===void 0&&(Eg=(function(){let n=null;if(!G3)return n;try{const r=s=>s;n=G3.createPolicy("goog#html",{createHTML:r,createScript:r,createScriptURL:r})}catch{}return n})());var e=Eg;return new class{constructor(n){this.g=n}toString(){return this.g+""}}(e?e.createScriptURL(t):t)}function fN(t,...e){if(e.length===0)return W3(t[0]);let n=t[0];for(let r=0;r<e.length;r++)n+=encodeURIComponent(e[r])+t[r+1];return W3(n)}var WI=[0,St,sr,pt,-1,cp,sr,-1],pN=class extends ce{constructor(t){super(t)}},qI=[0,pt,Xe,pt,sr,-1,tu((function(t,e,n){return(t.h===0||t.h===2)&&(e=Yl(e,0|e[me],n,!1),t.h==2?rp(t,tN,e):e.push(oo(t.g)),!0)}),(function(t,e,n){if((e=eu(Ql,e))!=null&&e.length){n=zy(t,n);for(let r=0;r<e.length;r++)ip(t.g,e[r]);$y(t,n)}}),xI),Xe,-1,[0,pt,-1],sr,pt,-1],KI=[0,Xe,-2],q3=class extends ce{constructor(t){super(t)}},QI=[0],XI=[0,St,pt,1,pt,-3],or=class extends ce{constructor(t){super(t,2)}},Ft={};Ft[336783863]=[0,Xe,pt,-1,St,[0,[1,2,3,4,5,6,7,8,9],Qe,QI,Qe,qI,Qe,KI,Qe,XI,Qe,WI,Qe,[0,Xe,-2],Qe,[0,Xe,sr],Qe,[0,sr,Xe,-1],Qe,[0,sr,-1]],[0,Xe],pt,[0,[1,3],[2,4],Qe,[0,cp],-1,Qe,[0,yn],-1,Gt,[0,Xe,-1]],Xe];var K3=[0,_g,-1,El,-3,_g,cp,js,pl,_g,-1,El,pl,El,-2,js];function lr(t,e){l1(t,2,Xl(e),"")}function ot(t,e){np(t,3,e)}function Fe(t,e){np(t,4,e)}var Pn=class extends ce{constructor(t){super(t,500)}o(t){return ye(this,0,7,t)}},gc=[-1,{}],Q3=[0,Xe,1,gc],X3=[0,Xe,yn,gc];function ur(t,e){cf(t,1,Pn,e)}function ct(t,e){np(t,10,e)}function We(t,e){np(t,15,e)}var Wn=class extends ce{constructor(t){super(t,500)}o(t){return ye(this,0,1001,t)}},YI=[-500,Gt,[-500,js,-1,yn,-3,[-2,Ft,pt],Gt,H3,pl,-1,Q3,X3,Gt,[0,js,El],js,K3,pl,yn,987,yn],4,Gt,[-500,Xe,-1,[-1,{}],998,Xe],Gt,[-500,Xe,yn,-1,[-2,{},pt],997,yn,-1],pl,Gt,[-500,Xe,yn,gc,998,yn],yn,pl,Q3,X3,Gt,[0,js,-1,gc],yn,-2,K3,js,-1,El,[0,El,hN],978,gc,Gt,H3];Wn.prototype.g=hp(YI);var mN=mo(Wn,YI),gN=class extends ce{constructor(t){super(t)}},JI=class extends ce{constructor(t){super(t)}g(){return os(this,gN,1)}},ZI=[0,Gt,[0,St,Vt,Xe,-1]],dp=mo(JI,ZI),yN=class extends ce{constructor(t){super(t)}},vN=class extends ce{constructor(t){super(t)}},wg=class extends ce{constructor(t){super(t)}h(){return He(this,yN,2)}g(){return os(this,vN,5)}},eS=mo(class extends ce{constructor(t){super(t)}},[0,yn,cp,Jy,[0,sr,[0,St,-3],[0,Vt,-3],[0,St,-1,[0,Gt,[0,St,-2]]],Gt,[0,Vt,-1,Xe,Vt]],Xe,-1,ao,Gt,[0,St,Vt],yn,ao]),tS=class extends ce{constructor(t){super(t)}},wl=mo(class extends ce{constructor(t){super(t)}},[0,Gt,[0,Vt,-4]]),nS=class extends ce{constructor(t){super(t)}},Qc=mo(class extends ce{constructor(t){super(t)}},[0,Gt,[0,Vt,-4]]),_N=class extends ce{constructor(t){super(t)}},EN=[0,St,-1,Jy,sr],rS=class extends ce{constructor(t){super(t)}};rS.prototype.g=hp([0,Vt,-4,ao]);var wN=class extends ce{constructor(t){super(t)}},TN=mo(class extends ce{constructor(t){super(t)}},[0,Gt,[0,1,St,Xe,ZI],ao]),Y3=class extends ce{constructor(t){super(t)}},IN=class extends ce{constructor(t){super(t)}ma(){const t=mI(this);return t??la()}},SN=class extends ce{constructor(t){super(t)}},iS=[1,2],AN=mo(class extends ce{constructor(t){super(t)}},[0,Gt,[0,iS,Qe,[0,Jy],Qe,[0,GI],St,Xe],ao]),Zy=class extends ce{constructor(t){super(t)}},sS=[0,Xe,St,Vt,yn,-1],J3=class extends ce{constructor(t){super(t)}},kN=[0,pt,-1],Z3=class extends ce{constructor(t){super(t)}},Md=[1,2,3,4,5],ff=class extends ce{constructor(t){super(t)}g(){return mI(this)!=null}h(){return Rr(this,2)!=null}},mt=class extends ce{constructor(t){super(t)}g(){return sI(bl(this,2))??!1}},oS=[0,GI,Xe,[0,St,ao,-1],[0,uN,ao]],xt=[0,oS,pt,[0,Md,Qe,XI,Qe,qI,Qe,WI,Qe,QI,Qe,KI],sr],fp=class extends ce{constructor(t){super(t)}},e0=[0,xt,Vt,-1,St],RN=Yr(502141897,fp);Ft[502141897]=e0;var CN=mo(class extends ce{constructor(t){super(t)}},[0,[0,sr,-1,lN,cN],EN]),aS=class extends ce{constructor(t){super(t)}},lS=class extends ce{constructor(t){super(t)}},t0=[0,xt,Vt,[0,xt],pt],uS=[0,xt,e0,t0,Vt,[0,[0,oS]]],PN=Yr(508968150,lS);Ft[508968150]=uS,Ft[508968149]=t0;var cS=class extends ce{constructor(t){super(t)}},xN=Yr(513916220,cS);Ft[513916220]=[0,xt,uS,St];var al=class extends ce{constructor(t){super(t)}h(){return He(this,Zy,2)}g(){st(this,2)}},hS=[0,xt,sS];Ft[478825465]=hS;var NN=class extends ce{constructor(t){super(t)}},dS=class extends ce{constructor(t){super(t)}},n0=class extends ce{constructor(t){super(t)}},r0=class extends ce{constructor(t){super(t)}},fS=class extends ce{constructor(t){super(t)}},e4=[0,xt,[0,xt],hS,-1],pS=[0,xt,Vt,St],i0=[0,xt,Vt],mS=[0,xt,pS,i0,Vt],DN=Yr(479097054,fS);Ft[479097054]=[0,xt,mS,e4],Ft[463370452]=e4,Ft[464864288]=pS;var bN=Yr(462713202,r0);Ft[462713202]=mS,Ft[474472470]=i0;var ON=class extends ce{constructor(t){super(t)}},gS=class extends ce{constructor(t){super(t)}},yS=class extends ce{constructor(t){super(t)}},vS=class extends ce{constructor(t){super(t)}},s0=[0,xt,Vt,-1,St],f1=[0,xt,Vt,pt];vS.prototype.g=hp([0,xt,i0,[0,xt],e0,t0,s0,f1]);var _S=class extends ce{constructor(t){super(t)}},LN=Yr(456383383,_S);Ft[456383383]=[0,xt,sS];var ES=class extends ce{constructor(t){super(t)}},VN=Yr(476348187,ES);Ft[476348187]=[0,xt,kN];var wS=class extends ce{constructor(t){super(t)}},t4=class extends ce{constructor(t){super(t)}},TS=[0,sr,-1],MN=Yr(458105876,class extends ce{constructor(t){super(t)}g(){var t=this.u;const e=0|t[me],n=2&e;return t=(function(r,s,a){var u=t4;const d=2&s;let f=!1;if(a==null){if(d)return M3();a=[]}else if(a.constructor===Ai){if((2&a.M)==0||d)return a;a=a.da()}else Array.isArray(a)?f=!!(2&(0|a[me])):a=[];if(d){if(!a.length)return M3();f||(f=!0,Kl(a))}else f&&(f=!1,a=gI(a));return f||(64&(0|a[me])?a[me]&=-33:32&s&&Wf(a,32)),_t(r,s,2,u=new Ai(a,u,Hx,void 0)),u})(t,e,ls(t,e,2)),!n&&t4&&(t.pa=!0),t}});Ft[458105876]=[0,TS,aN,[!0,ao,[0,Xe,-1,yn]]];var o0=class extends ce{constructor(t){super(t)}},IS=Yr(458105758,o0);Ft[458105758]=[0,xt,Xe,TS];var SS=class extends ce{constructor(t){super(t)}},FN=Yr(443442058,SS);Ft[443442058]=[0,xt,Xe,St,Vt,yn,-1,pt,Vt],Ft[514774813]=s0;var AS=class extends ce{constructor(t){super(t)}},UN=Yr(516587230,AS);function p1(t,e){return e=e?e.clone():new Zy,t.displayNamesLocale!==void 0?st(e,1,Xl(t.displayNamesLocale)):t.displayNamesLocale===void 0&&st(e,1),t.maxResults!==void 0?ki(e,2,t.maxResults):"maxResults"in t&&st(e,2),t.scoreThreshold!==void 0?de(e,3,t.scoreThreshold):"scoreThreshold"in t&&st(e,3),t.categoryAllowlist!==void 0?hf(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&st(e,4),t.categoryDenylist!==void 0?hf(e,5,t.categoryDenylist):"categoryDenylist"in t&&st(e,5),e}function a0(t,e=-1,n=""){return{categories:t.map((r=>({index:Ar(r,1)??0??-1,score:Pt(r,2)??0,categoryName:Rr(r,3)??""??"",displayName:Rr(r,4)??""??""}))),headIndex:e,headName:n}}function kS(t){var u,d;var e=Xo(t,3,po,Qo()),n=Xo(t,2,Ql,Qo()),r=Xo(t,1,Dl,Qo()),s=Xo(t,9,Dl,Qo());const a={categories:[],keypoints:[]};for(let f=0;f<e.length;f++)a.categories.push({score:e[f],index:n[f]??-1,categoryName:r[f]??"",displayName:s[f]??""});if((e=(u=He(t,wg,4))==null?void 0:u.h())&&(a.boundingBox={originX:Ar(e,1)??0,originY:Ar(e,2)??0,width:Ar(e,3)??0,height:Ar(e,4)??0,angle:0}),(d=He(t,wg,4))==null?void 0:d.g().length)for(const f of He(t,wg,4).g())a.keypoints.push({x:Ld(f,1)??0,y:Ld(f,2)??0,score:Ld(f,4)??0,label:Rr(f,3)??""});return a}function pp(t){const e=[];for(const n of os(t,nS,1))e.push({x:Pt(n,1)??0,y:Pt(n,2)??0,z:Pt(n,3)??0,visibility:Pt(n,4)??0});return e}function yc(t){const e=[];for(const n of os(t,tS,1))e.push({x:Pt(n,1)??0,y:Pt(n,2)??0,z:Pt(n,3)??0,visibility:Pt(n,4)??0});return e}function n4(t){return Array.from(t,(e=>e>127?e-256:e))}function r4(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let n=0,r=0,s=0;for(let a=0;a<t.length;a++)n+=t[a]*e[a],r+=t[a]*t[a],s+=e[a]*e[a];if(r<=0||s<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(r*s)}let wd;Ft[516587230]=[0,xt,s0,f1,Vt],Ft[518928384]=f1;const BN=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function RS(){if(wd===void 0)try{await WebAssembly.instantiate(BN),wd=!0}catch{wd=!1}return wd}async function Zu(t,e=fN``){const n=await RS()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${n}.js`,wasmBinaryPath:`${e}/${t}_${n}.wasm`}}var Wo=class{};function CS(){var t=navigator;return typeof OffscreenCanvas<"u"&&(!(function(e=navigator){return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")})(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&t.length>=1&&Number(t[1])>=17))}async function i4(t){if(typeof importScripts!="function"){const e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise(((n,r)=>{e.addEventListener("load",(()=>{n()}),!1),e.addEventListener("error",(s=>{r(s)}),!1),document.body.appendChild(e)}))}importScripts(t.toString())}function PS(t){return t.videoWidth!==void 0?[t.videoWidth,t.videoHeight]:t.naturalWidth!==void 0?[t.naturalWidth,t.naturalHeight]:t.displayWidth!==void 0?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function pe(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function s4(t,e,n){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(n?t.i._bindTextureToStream(n):t.i._bindTextureToCanvas(),!(n=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);const[r,s]=PS(e);return!t.l||r===t.i.canvas.width&&s===t.i.canvas.height||(t.i.canvas.width=r,t.i.canvas.height=s),[r,s]}function o4(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const r=new Uint32Array(e.length);for(let s=0;s<e.length;s++)r[s]=t.i.stringToNewUTF8(e[s]);e=t.i._malloc(4*r.length),t.i.HEAPU32.set(r,e>>2),n(e);for(const s of r)t.i._free(s);t.i._free(e)}function ci(t,e,n){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=n}function Ls(t,e,n){let r=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(s,a,u)=>{a?(n(r,u),r=[]):r.push(s)}}Wo.forVisionTasks=function(t){return Zu("vision",t)},Wo.forTextTasks=function(t){return Zu("text",t)},Wo.forGenAiExperimentalTasks=function(t){return Zu("genai_experimental",t)},Wo.forGenAiTasks=function(t){return Zu("genai",t)},Wo.forAudioTasks=function(t){return Zu("audio",t)},Wo.isSimdSupported=function(){return RS()};async function jN(t,e,n,r){return t=await(async(s,a,u,d,f)=>{if(a&&await i4(a),!self.ModuleFactory||u&&(await i4(u),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&f&&((a=self.Module).locateFile=f.locateFile,f.mainScriptUrlOrBlob&&(a.mainScriptUrlOrBlob=f.mainScriptUrlOrBlob)),f=await self.ModuleFactory(self.Module||f),self.ModuleFactory=self.Module=void 0,new s(f,d)})(t,n.wasmLoaderPath,n.assetLoaderPath,e,{locateFile:s=>s.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&s.endsWith(".data")?n.assetBinaryPath.toString():s}),await t.o(r),t}function Tg(t,e){const n=He(t.baseOptions,ff,1)||new ff;typeof e=="string"?(st(n,2,Xl(e)),st(n,1)):e instanceof Uint8Array&&(st(n,1,Iy(e,!1)),st(n,2)),ye(t.baseOptions,0,1,n)}function a4(t){try{const e=t.G.length;if(e===1)throw Error(t.G[0].message);if(e>1)throw Error("Encountered multiple errors: "+t.G.map((n=>n.message)).join(", "))}finally{t.G=[]}}function oe(t,e){t.B=Math.max(t.B,e)}function mp(t,e){t.A=new Pn,lr(t.A,"PassThroughCalculator"),ot(t.A,"free_memory"),Fe(t.A,"free_memory_unused_out"),ct(e,"free_memory"),ur(e,t.A)}function Ll(t,e){ot(t.A,e),Fe(t.A,e+"_unused_out")}function gp(t){t.g.addBoolToStream(!0,"free_memory",t.B)}var m1=class{constructor(t){this.g=t,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){var n,r,s,a,u,d;if(e){const f=t.baseOptions||{};if((n=t.baseOptions)!=null&&n.modelAssetBuffer&&((r=t.baseOptions)!=null&&r.modelAssetPath))throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!((s=He(this.baseOptions,ff,1))!=null&&s.g()||(a=He(this.baseOptions,ff,1))!=null&&a.h()||(u=t.baseOptions)!=null&&u.modelAssetBuffer||(d=t.baseOptions)!=null&&d.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if((function(y,_){let w=He(y.baseOptions,Z3,3);if(!w){var I=w=new Z3,b=new q3;mc(I,4,Md,b)}"delegate"in _&&(_.delegate==="GPU"?(_=w,I=new pN,mc(_,2,Md,I)):(_=w,I=new q3,mc(_,4,Md,I))),ye(y.baseOptions,0,3,w)})(this,f),f.modelAssetPath)return fetch(f.modelAssetPath.toString()).then((y=>{if(y.ok)return y.arrayBuffer();throw Error(`Failed to fetch model: ${f.modelAssetPath} (${y.status})`)})).then((y=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(y),!0,!1,!1),Tg(this,"/model.dat"),this.m(),this.J()}));if(f.modelAssetBuffer instanceof Uint8Array)Tg(this,f.modelAssetBuffer);else if(f.modelAssetBuffer)return(async function(y){const _=[];for(var w=0;;){const{done:I,value:b}=await y.read();if(I)break;_.push(b),w+=b.length}if(_.length===0)return new Uint8Array(0);if(_.length===1)return _[0];y=new Uint8Array(w),w=0;for(const I of _)y.set(I,w),w+=I.length;return y})(f.modelAssetBuffer).then((y=>{Tg(this,y),this.m(),this.J()}))}return this.m(),this.J(),Promise.resolve()}J(){}ca(){let t;if(this.g.ca((e=>{t=mN(e)})),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener(((n,r)=>{this.G.push(Error(r))})),this.g.Ha(),this.g.setGraph(t,e),this.A=void 0,a4(this)}finishProcessing(){this.g.finishProcessing(),a4(this)}close(){this.A=void 0,this.g.closeGraph()}};function Cn(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}m1.prototype.close=m1.prototype.close;class zN{constructor(e,n,r,s){this.g=e,this.h=n,this.m=r,this.l=s}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function l4(t,e,n){const r=t.g;if(n=Cn(r.createShader(n),"Failed to create WebGL shader"),r.shaderSource(n,e),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${r.getShaderInfoLog(n)}`);return r.attachShader(t.h,n),n}function u4(t,e){const n=t.g,r=Cn(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(r);const s=Cn(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,s),n.enableVertexAttribArray(t.P),n.vertexAttribPointer(t.P,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);const a=Cn(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,a),n.enableVertexAttribArray(t.J),n.vertexAttribPointer(t.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new zN(n,r,s,a)}function l0(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function Xc(t,e,n,r){return l0(t,e),t.h||(t.m(),t.C()),n?(t.s||(t.s=u4(t,!0)),n=t.s):(t.v||(t.v=u4(t,!1)),n=t.v),e.useProgram(t.h),n.bind(),t.l(),t=r(),n.g.bindVertexArray(null),t}function lo(t,e,n){return l0(t,e),t=Cn(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n??e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n??e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function yp(t,e,n){l0(t,e),t.A||(t.A=Cn(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}function u0(t){var e;(e=t.g)==null||e.bindFramebuffer(t.g.FRAMEBUFFER,null)}var nu=class{G(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const t=this.g;if(this.h=Cn(t.createProgram(),"Failed to create WebGL program"),this.Z=l4(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,t.VERTEX_SHADER),this.Y=l4(this,this.G(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.P=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const t=this.g;t.deleteProgram(this.h),t.deleteShader(this.Z),t.deleteShader(this.Y)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},$N=class extends nu{G(){return`
  precision mediump float;
  uniform sampler2D backgroundTexture;
  uniform sampler2D maskTexture;
  uniform sampler2D colorMappingTexture;
  varying vec2 vTex;
  void main() {
    vec4 backgroundColor = texture2D(backgroundTexture, vTex);
    float category = texture2D(maskTexture, vTex).r;
    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));
    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.B=lo(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=lo(this,t,t.NEAREST)}m(){super.m();const t=this.g;this.L=Cn(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.U=Cn(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.K=Cn(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.K,0),t.uniform1i(this.L,1),t.uniform1i(this.U,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},HN=class extends nu{G(){return`
  precision mediump float;
  uniform sampler2D maskTexture;
  uniform sampler2D defaultTexture;
  uniform sampler2D overlayTexture;
  varying vec2 vTex;
  void main() {
    float confidence = texture2D(maskTexture, vTex).r;
    vec4 defaultColor = texture2D(defaultTexture, vTex);
    vec4 overlayColor = texture2D(overlayTexture, vTex);
    // Apply the alpha from the overlay and merge in the default color
    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);
    gl_FragColor = mix(defaultColor, overlayColor, confidence);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.j=lo(this,t),t.activeTexture(t.TEXTURE2),this.B=lo(this,t)}m(){super.m();const t=this.g;this.K=Cn(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.L=Cn(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.H=Cn(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.H,0),t.uniform1i(this.K,1),t.uniform1i(this.L,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function Ki(t,e){switch(e){case 0:return t.g.find((n=>n instanceof Uint8Array));case 1:return t.g.find((n=>n instanceof Float32Array));case 2:return t.g.find((n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture));default:throw Error(`Type is not supported: ${e}`)}}function g1(t){var e=Ki(t,1);if(!e){if(e=Ki(t,0))e=new Float32Array(e).map((r=>r/255));else{e=new Float32Array(t.width*t.height);const r=Vl(t);var n=c0(t);if(yp(n,r,xS(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){n=new Float32Array(t.width*t.height*4),r.readPixels(0,0,t.width,t.height,r.RGBA,r.FLOAT,n);for(let s=0,a=0;s<e.length;++s,a+=4)e[s]=n[a]}else r.readPixels(0,0,t.width,t.height,r.RED,r.FLOAT,e)}t.g.push(e)}return e}function xS(t){let e=Ki(t,2);if(!e){const n=Vl(t);e=DS(t);const r=g1(t),s=NS(t);n.texImage2D(n.TEXTURE_2D,0,s,t.width,t.height,0,n.RED,n.FLOAT,r),y1(t)}return e}function Vl(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Cn(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function NS(t){if(t=Vl(t),!Td)if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))Td=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");Td=t.R16F}return Td}function c0(t){return t.l||(t.l=new nu),t.l}function DS(t){const e=Vl(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=Ki(t,2);return n||(n=lo(c0(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(n),t.j=!0),e.bindTexture(e.TEXTURE_2D,n),n}function y1(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var Td,Ht=class{constructor(t,e,n,r,s,a,u){this.g=t,this.m=e,this.j=n,this.canvas=r,this.l=s,this.width=a,this.height=u,this.j&&--c4===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Da(){return!!Ki(this,0)}ja(){return!!Ki(this,1)}R(){return!!Ki(this,2)}ia(){return(e=Ki(t=this,0))||(e=g1(t),e=new Uint8Array(e.map((n=>255*n))),t.g.push(e)),e;var t,e}ha(){return g1(this)}N(){return xS(this)}clone(){const t=[];for(const e of this.g){let n;if(e instanceof Uint8Array)n=new Uint8Array(e);else if(e instanceof Float32Array)n=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{const r=Vl(this),s=c0(this);r.activeTexture(r.TEXTURE1),n=lo(s,r,this.m?r.LINEAR:r.NEAREST),r.bindTexture(r.TEXTURE_2D,n);const a=NS(this);r.texImage2D(r.TEXTURE_2D,0,a,this.width,this.height,0,r.RED,r.FLOAT,null),r.bindTexture(r.TEXTURE_2D,null),yp(s,r,n),Xc(s,r,!1,(()=>{DS(this),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),y1(this)})),u0(s),y1(this)}}t.push(n)}return new Ht(t,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Vl(this).deleteTexture(Ki(this,2)),c4=-1}};Ht.prototype.close=Ht.prototype.close,Ht.prototype.clone=Ht.prototype.clone,Ht.prototype.getAsWebGLTexture=Ht.prototype.N,Ht.prototype.getAsFloat32Array=Ht.prototype.ha,Ht.prototype.getAsUint8Array=Ht.prototype.ia,Ht.prototype.hasWebGLTexture=Ht.prototype.R,Ht.prototype.hasFloat32Array=Ht.prototype.ja,Ht.prototype.hasUint8Array=Ht.prototype.Da;var c4=250;const GN={color:"white",lineWidth:4,radius:6};function Ig(t){return{...GN,fillColor:(t=t||{}).color,...t}}function Wi(t,e){return t instanceof Function?t(e):t}function h4(t,e,n){return Math.max(Math.min(e,n),Math.min(Math.max(e,n),t))}function ec(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function Oc(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function d4(t,e,n){if(e.R())n(e.N());else{const r=e.ja()?e.ha():e.ia();t.m=t.m??new nu;const s=Oc(t);n((t=new Ht([r],e.m,!1,s.canvas,t.m,e.width,e.height)).N()),t.close()}}function f4(t,e,n,r){const s=(function(d){return d.g||(d.g=new $N),d.g})(t),a=Oc(t),u=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;Xc(s,a,!0,(()=>{(function(f,y,_,w){const I=f.g;if(I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,y),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,f.B),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,_),f.H&&(function(b,j){if(b!==j)return!1;b=b.entries(),j=j.entries();for(const[F,te]of b){b=F;const ee=te;var $=j.next();if($.done)return!1;const[le,Te]=$.value;if($=Te,b!==le||ee[0]!==$[0]||ee[1]!==$[1]||ee[2]!==$[2]||ee[3]!==$[3])return!1}return!!j.next().done})(f.H,w))I.activeTexture(I.TEXTURE2),I.bindTexture(I.TEXTURE_2D,f.j);else{f.H=w;const b=Array(1024).fill(0);w.forEach(((j,$)=>{if(j.length!==4)throw Error(`Color at index ${$} is not a four-channel value.`);b[4*$]=j[0],b[4*$+1]=j[1],b[4*$+2]=j[2],b[4*$+3]=j[3]})),I.activeTexture(I.TEXTURE2),I.bindTexture(I.TEXTURE_2D,f.j),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,256,1,0,I.RGBA,I.UNSIGNED_BYTE,new Uint8Array(b))}})(s,e,u,r),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.drawArrays(a.TRIANGLE_FAN,0,4);const d=s.g;d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,null),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,null),d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,null)}))}function p4(t,e,n,r){const s=Oc(t),a=(function(f){return f.h||(f.h=new HN),f.h})(t),u=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n,d=Array.isArray(r)?new ImageData(new Uint8ClampedArray(r),1,1):r;Xc(a,s,!0,(()=>{var f=a.g;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,e),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,a.j),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,u),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,a.B),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,d),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLE_FAN,0,4),s.bindTexture(s.TEXTURE_2D,null),(f=a.g).activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,null)}))}var kn=class{constructor(t,e){typeof CanvasRenderingContext2D<"u"&&t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}wa(t,e){if(t){var n=ec(this);e=Ig(e),n.save();var r=n.canvas,s=0;for(const a of t)n.fillStyle=Wi(e.fillColor,{index:s,from:a}),n.strokeStyle=Wi(e.color,{index:s,from:a}),n.lineWidth=Wi(e.lineWidth,{index:s,from:a}),(t=new Path2D).arc(a.x*r.width,a.y*r.height,Wi(e.radius,{index:s,from:a}),0,2*Math.PI),n.fill(t),n.stroke(t),++s;n.restore()}}va(t,e,n){if(t&&e){var r=ec(this);n=Ig(n),r.save();var s=r.canvas,a=0;for(const u of e){r.beginPath(),e=t[u.start];const d=t[u.end];e&&d&&(r.strokeStyle=Wi(n.color,{index:a,from:e,to:d}),r.lineWidth=Wi(n.lineWidth,{index:a,from:e,to:d}),r.moveTo(e.x*s.width,e.y*s.height),r.lineTo(d.x*s.width,d.y*s.height)),++a,r.stroke()}r.restore()}}sa(t,e){const n=ec(this);e=Ig(e),n.save(),n.beginPath(),n.lineWidth=Wi(e.lineWidth,{}),n.strokeStyle=Wi(e.color,{}),n.fillStyle=Wi(e.fillColor,{}),n.moveTo(t.originX,t.originY),n.lineTo(t.originX+t.width,t.originY),n.lineTo(t.originX+t.width,t.originY+t.height),n.lineTo(t.originX,t.originY+t.height),n.lineTo(t.originX,t.originY),n.stroke(),n.fill(),n.restore()}ta(t,e,n=[0,0,0,255]){this.l?(function(r,s,a,u){const d=Oc(r);d4(r,s,(f=>{f4(r,f,a,u),(f=ec(r)).drawImage(d.canvas,0,0,f.canvas.width,f.canvas.height)}))})(this,t,n,e):f4(this,t.N(),n,e)}ua(t,e,n){this.l?(function(r,s,a,u){const d=Oc(r);d4(r,s,(f=>{p4(r,f,a,u),(f=ec(r)).drawImage(d.canvas,0,0,f.canvas.width,f.canvas.height)}))})(this,t,e,n):p4(this,t.N(),e,n)}close(){var t,e,n;(t=this.g)==null||t.close(),this.g=void 0,(e=this.h)==null||e.close(),this.h=void 0,(n=this.m)==null||n.close(),this.m=void 0}};function pi(t,e){switch(e){case 0:return t.g.find((n=>n instanceof ImageData));case 1:return t.g.find((n=>typeof ImageBitmap<"u"&&n instanceof ImageBitmap));case 2:return t.g.find((n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture));default:throw Error(`Type is not supported: ${e}`)}}function bS(t){var e=pi(t,0);if(!e){e=Ml(t);const n=vp(t),r=new Uint8Array(t.width*t.height*4);yp(n,e,Fd(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,r),u0(n),e=new ImageData(new Uint8ClampedArray(r.buffer),t.width,t.height),t.g.push(e)}return e}function Fd(t){let e=pi(t,2);if(!e){const n=Ml(t);e=Ud(t);const r=pi(t,1)||bS(t);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),oc(t)}return e}function Ml(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Cn(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function vp(t){return t.l||(t.l=new nu),t.l}function Ud(t){const e=Ml(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=pi(t,2);return n||(n=lo(vp(t),e),t.g.push(n),t.m=!0),e.bindTexture(e.TEXTURE_2D,n),n}function oc(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function m4(t){const e=Ml(t);return Xc(vp(t),e,!0,(()=>(function(n,r){const s=n.canvas;if(s.width===n.width&&s.height===n.height)return r();const a=s.width,u=s.height;return s.width=n.width,s.height=n.height,n=r(),s.width=a,s.height=u,n})(t,(()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))))}kn.prototype.close=kn.prototype.close,kn.prototype.drawConfidenceMask=kn.prototype.ua,kn.prototype.drawCategoryMask=kn.prototype.ta,kn.prototype.drawBoundingBox=kn.prototype.sa,kn.prototype.drawConnectors=kn.prototype.va,kn.prototype.drawLandmarks=kn.prototype.wa,kn.lerp=function(t,e,n,r,s){return h4(r*(1-(t-e)/(n-e))+s*(1-(n-t)/(n-e)),r,s)},kn.clamp=h4;var en=class{constructor(t,e,n,r,s,a,u){this.g=t,this.j=e,this.m=n,this.canvas=r,this.l=s,this.width=a,this.height=u,(this.j||this.m)&&--g4===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ca(){return!!pi(this,0)}ka(){return!!pi(this,1)}R(){return!!pi(this,2)}Aa(){return bS(this)}za(){var t=pi(this,1);return t||(Fd(this),Ud(this),t=m4(this),oc(this),this.g.push(t),this.j=!0),t}N(){return Fd(this)}clone(){const t=[];for(const e of this.g){let n;if(e instanceof ImageData)n=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){const r=Ml(this),s=vp(this);r.activeTexture(r.TEXTURE1),n=lo(s,r),r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.width,this.height,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindTexture(r.TEXTURE_2D,null),yp(s,r,n),Xc(s,r,!1,(()=>{Ud(this),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),oc(this)})),u0(s),oc(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);Fd(this),Ud(this),n=m4(this),oc(this)}t.push(n)}return new en(t,this.ka(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&pi(this,1).close(),this.m&&Ml(this).deleteTexture(pi(this,2)),g4=-1}};en.prototype.close=en.prototype.close,en.prototype.clone=en.prototype.clone,en.prototype.getAsWebGLTexture=en.prototype.N,en.prototype.getAsImageBitmap=en.prototype.za,en.prototype.getAsImageData=en.prototype.Aa,en.prototype.hasWebGLTexture=en.prototype.R,en.prototype.hasImageBitmap=en.prototype.ka,en.prototype.hasImageData=en.prototype.Ca;var g4=250;function Jr(...t){return t.map((([e,n])=>({start:e,end:n})))}const WN=(function(t){return class extends t{Ha(){this.i._registerModelResourcesGraphService()}}})((y4=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",e!==void 0?this.i.canvas=e:CS()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(t){const e=await(await fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)}setGraphFromString(t){this.setGraph(new TextEncoder().encode(t),!1)}setGraph(t,e){const n=t.length,r=this.i._malloc(n);this.i.HEAPU8.set(t,r),e?this.i._changeBinaryGraph(n,r):this.i._changeTextGraph(n,r),this.i._free(r)}configureAudio(t,e,n,r,s){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),pe(this,r||"input_audio",(a=>{pe(this,s=s||"audio_header",(u=>{this.i._configureAudio(a,u,t,e??0,n)}))}))}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}ca(t){ci(this,"__graph_config__",(e=>{t(e)})),pe(this,"__graph_config__",(e=>{this.i._getGraphConfig(e,void 0)})),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,n){this.addAudioToStreamWithShape(t,0,0,e,n)}addAudioToStreamWithShape(t,e,n,r,s){const a=4*t.length;this.h!==a&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(a),this.h=a),this.i.HEAPF32.set(t,this.g/4),pe(this,r,(u=>{this.i._addAudioToInputStream(this.g,e,n,u,s)}))}addGpuBufferToStream(t,e,n){pe(this,e,(r=>{const[s,a]=s4(this,t,r);this.i._addBoundTextureToStream(r,s,a,n)}))}addBoolToStream(t,e,n){pe(this,e,(r=>{this.i._addBoolToInputStream(t,r,n)}))}addDoubleToStream(t,e,n){pe(this,e,(r=>{this.i._addDoubleToInputStream(t,r,n)}))}addFloatToStream(t,e,n){pe(this,e,(r=>{this.i._addFloatToInputStream(t,r,n)}))}addIntToStream(t,e,n){pe(this,e,(r=>{this.i._addIntToInputStream(t,r,n)}))}addUintToStream(t,e,n){pe(this,e,(r=>{this.i._addUintToInputStream(t,r,n)}))}addStringToStream(t,e,n){pe(this,e,(r=>{pe(this,t,(s=>{this.i._addStringToInputStream(s,r,n)}))}))}addStringRecordToStream(t,e,n){pe(this,e,(r=>{o4(this,Object.keys(t),(s=>{o4(this,Object.values(t),(a=>{this.i._addFlatHashMapToInputStream(s,a,Object.keys(t).length,r,n)}))}))}))}addProtoToStream(t,e,n,r){pe(this,n,(s=>{pe(this,e,(a=>{const u=this.i._malloc(t.length);this.i.HEAPU8.set(t,u),this.i._addProtoToInputStream(u,t.length,a,s,r),this.i._free(u)}))}))}addEmptyPacketToStream(t,e){pe(this,t,(n=>{this.i._addEmptyPacketToInputStream(n,e)}))}addBoolVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateBoolVector(t.length);if(!s)throw Error("Unable to allocate new bool vector on heap.");for(const a of t)this.i._addBoolVectorEntry(s,a);this.i._addBoolVectorToInputStream(s,r,n)}))}addDoubleVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateDoubleVector(t.length);if(!s)throw Error("Unable to allocate new double vector on heap.");for(const a of t)this.i._addDoubleVectorEntry(s,a);this.i._addDoubleVectorToInputStream(s,r,n)}))}addFloatVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateFloatVector(t.length);if(!s)throw Error("Unable to allocate new float vector on heap.");for(const a of t)this.i._addFloatVectorEntry(s,a);this.i._addFloatVectorToInputStream(s,r,n)}))}addIntVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateIntVector(t.length);if(!s)throw Error("Unable to allocate new int vector on heap.");for(const a of t)this.i._addIntVectorEntry(s,a);this.i._addIntVectorToInputStream(s,r,n)}))}addUintVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateUintVector(t.length);if(!s)throw Error("Unable to allocate new unsigned int vector on heap.");for(const a of t)this.i._addUintVectorEntry(s,a);this.i._addUintVectorToInputStream(s,r,n)}))}addStringVectorToStream(t,e,n){pe(this,e,(r=>{const s=this.i._allocateStringVector(t.length);if(!s)throw Error("Unable to allocate new string vector on heap.");for(const a of t)pe(this,a,(u=>{this.i._addStringVectorEntry(s,u)}));this.i._addStringVectorToInputStream(s,r,n)}))}addBoolToInputSidePacket(t,e){pe(this,e,(n=>{this.i._addBoolToInputSidePacket(t,n)}))}addDoubleToInputSidePacket(t,e){pe(this,e,(n=>{this.i._addDoubleToInputSidePacket(t,n)}))}addFloatToInputSidePacket(t,e){pe(this,e,(n=>{this.i._addFloatToInputSidePacket(t,n)}))}addIntToInputSidePacket(t,e){pe(this,e,(n=>{this.i._addIntToInputSidePacket(t,n)}))}addUintToInputSidePacket(t,e){pe(this,e,(n=>{this.i._addUintToInputSidePacket(t,n)}))}addStringToInputSidePacket(t,e){pe(this,e,(n=>{pe(this,t,(r=>{this.i._addStringToInputSidePacket(r,n)}))}))}addProtoToInputSidePacket(t,e,n){pe(this,n,(r=>{pe(this,e,(s=>{const a=this.i._malloc(t.length);this.i.HEAPU8.set(t,a),this.i._addProtoToInputSidePacket(a,t.length,s,r),this.i._free(a)}))}))}addBoolVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateBoolVector(t.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(const s of t)this.i._addBoolVectorEntry(r,s);this.i._addBoolVectorToInputSidePacket(r,n)}))}addDoubleVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateDoubleVector(t.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(const s of t)this.i._addDoubleVectorEntry(r,s);this.i._addDoubleVectorToInputSidePacket(r,n)}))}addFloatVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateFloatVector(t.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(const s of t)this.i._addFloatVectorEntry(r,s);this.i._addFloatVectorToInputSidePacket(r,n)}))}addIntVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateIntVector(t.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(const s of t)this.i._addIntVectorEntry(r,s);this.i._addIntVectorToInputSidePacket(r,n)}))}addUintVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateUintVector(t.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(const s of t)this.i._addUintVectorEntry(r,s);this.i._addUintVectorToInputSidePacket(r,n)}))}addStringVectorToInputSidePacket(t,e){pe(this,e,(n=>{const r=this.i._allocateStringVector(t.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(const s of t)pe(this,s,(a=>{this.i._addStringVectorEntry(r,a)}));this.i._addStringVectorToInputSidePacket(r,n)}))}attachBoolListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachBoolListener(n)}))}attachBoolVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachBoolVectorListener(n)}))}attachIntListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachIntListener(n)}))}attachIntVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachIntVectorListener(n)}))}attachUintListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachUintListener(n)}))}attachUintVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachUintVectorListener(n)}))}attachDoubleListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachDoubleListener(n)}))}attachDoubleVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachDoubleVectorListener(n)}))}attachFloatListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachFloatListener(n)}))}attachFloatVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachFloatVectorListener(n)}))}attachStringListener(t,e){ci(this,t,e),pe(this,t,(n=>{this.i._attachStringListener(n)}))}attachStringVectorListener(t,e){Ls(this,t,e),pe(this,t,(n=>{this.i._attachStringVectorListener(n)}))}attachProtoListener(t,e,n){ci(this,t,e),pe(this,t,(r=>{this.i._attachProtoListener(r,n||!1)}))}attachProtoVectorListener(t,e,n){Ls(this,t,e),pe(this,t,(r=>{this.i._attachProtoVectorListener(r,n||!1)}))}attachAudioListener(t,e,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),ci(this,t,((r,s)=>{r=new Float32Array(r.buffer,r.byteOffset,r.length/4),e(r,s)})),pe(this,t,(r=>{this.i._attachAudioListener(r,n||!1)}))}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends y4{get ea(){return this.i}oa(t,e,n){pe(this,e,(r=>{const[s,a]=s4(this,t,r);this.ea._addBoundTextureAsImageToStream(r,s,a,n)}))}V(t,e){ci(this,t,e),pe(this,t,(n=>{this.ea._attachImageListener(n)}))}ba(t,e){Ls(this,t,e),pe(this,t,(n=>{this.ea._attachImageVectorListener(n)}))}}));var y4,Cr=class extends WN{};async function Ve(t,e,n){return(async function(r,s,a,u){return jN(r,s,a,u)})(t,n.canvas??(CS()?void 0:document.createElement("canvas")),e,n)}function OS(t,e,n,r){if(t.U){const a=new rS;if(n!=null&&n.regionOfInterest){if(!t.na)throw Error("This task doesn't support region-of-interest.");var s=n.regionOfInterest;if(s.left>=s.right||s.top>=s.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(s.left<0||s.top<0||s.right>1||s.bottom>1)throw Error("Expected RectF values to be in [0,1].");de(a,1,(s.left+s.right)/2),de(a,2,(s.top+s.bottom)/2),de(a,4,s.right-s.left),de(a,3,s.bottom-s.top)}else de(a,1,.5),de(a,2,.5),de(a,4,1),de(a,3,1);if(n!=null&&n.rotationDegrees){if((n==null?void 0:n.rotationDegrees)%90!=0)throw Error("Expected rotation to be a multiple of 90°.");if(de(a,5,-Math.PI*n.rotationDegrees/180),(n==null?void 0:n.rotationDegrees)%180!=0){const[u,d]=PS(e);n=Pt(a,3)*d/u,s=Pt(a,4)*u/d,de(a,4,n),de(a,3,s)}}t.g.addProtoToStream(a.g(),"mediapipe.NormalizedRect",t.U,r)}t.g.oa(e,t.Z,r??performance.now()),t.finishProcessing()}function Pr(t,e,n){var r;if((r=t.baseOptions)!=null&&r.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");OS(t,e,n,t.B+1)}function Ri(t,e,n,r){var s;if(!((s=t.baseOptions)!=null&&s.g()))throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");OS(t,e,n,r)}function Fl(t,e,n,r){var s=e.data;const a=e.width,u=a*(e=e.height);if((s instanceof Uint8Array||s instanceof Float32Array)&&s.length!==u)throw Error("Unsupported channel count: "+s.length/u);return t=new Ht([s],n,!1,t.g.i.canvas,t.P,a,e),r?t.clone():t}var Gn=class extends m1{constructor(t,e,n,r){super(t),this.g=t,this.Z=e,this.U=n,this.na=r,this.P=new nu}l(t,e=!0){if("runningMode"in t&&Dc(this.baseOptions,2,!!t.runningMode&&t.runningMode!=="IMAGE"),t.canvas!==void 0&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.P.close(),super.close()}};Gn.prototype.close=Gn.prototype.close;var Er=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},ye(t=this.h=new fp,0,1,e=new mt),de(this.h,2,.5),de(this.h,3,.3)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return"minDetectionConfidence"in t&&de(this.h,2,t.minDetectionConfidence??.5),"minSuppressionThreshold"in t&&de(this.h,3,t.minSuppressionThreshold??.3),this.l(t)}D(t,e){return this.j={detections:[]},Pr(this,t,e),this.j}F(t,e,n){return this.j={detections:[]},Ri(this,t,n,e),this.j}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect_in"),We(t,"detections");const e=new or;Qr(e,RN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect_in"),Fe(n,"DETECTIONS:detections"),n.o(e),ur(t,n),this.g.attachProtoVectorListener("detections",((r,s)=>{for(const a of r)r=eS(a),this.j.detections.push(kS(r));oe(this,s)})),this.g.attachEmptyPacketListener("detections",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Er.prototype.detectForVideo=Er.prototype.F,Er.prototype.detect=Er.prototype.D,Er.prototype.setOptions=Er.prototype.o,Er.createFromModelPath=async function(t,e){return Ve(Er,t,{baseOptions:{modelAssetPath:e}})},Er.createFromModelBuffer=function(t,e){return Ve(Er,t,{baseOptions:{modelAssetBuffer:e}})},Er.createFromOptions=function(t,e){return Ve(Er,t,e)};var h0=Jr([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),d0=Jr([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),f0=Jr([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),LS=Jr([474,475],[475,476],[476,477],[477,474]),p0=Jr([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),m0=Jr([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),VS=Jr([469,470],[470,471],[471,472],[472,469]),g0=Jr([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),MS=[...h0,...d0,...f0,...p0,...m0,...g0],FS=Jr([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function v4(t){t.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var Tt=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,ye(t=this.h=new lS,0,1,e=new mt),this.v=new aS,ye(this.h,0,3,this.v),this.s=new fp,ye(this.h,0,2,this.s),ki(this.s,4,1),de(this.s,2,.5),de(this.v,2,.5),de(this.h,4,.5)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return"numFaces"in t&&ki(this.s,4,t.numFaces??1),"minFaceDetectionConfidence"in t&&de(this.s,2,t.minFaceDetectionConfidence??.5),"minTrackingConfidence"in t&&de(this.h,4,t.minTrackingConfidence??.5),"minFacePresenceConfidence"in t&&de(this.v,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}D(t,e){return v4(this),Pr(this,t,e),this.j}F(t,e,n){return v4(this),Ri(this,t,n,e),this.j}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"face_landmarks");const e=new or;Qr(e,PN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"NORM_LANDMARKS:face_landmarks"),n.o(e),ur(t,n),this.g.attachProtoVectorListener("face_landmarks",((r,s)=>{for(const a of r)r=Qc(a),this.j.faceLandmarks.push(pp(r));oe(this,s)})),this.g.attachEmptyPacketListener("face_landmarks",(r=>{oe(this,r)})),this.outputFaceBlendshapes&&(We(t,"blendshapes"),Fe(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",((r,s)=>{if(this.outputFaceBlendshapes)for(const a of r)r=dp(a),this.j.faceBlendshapes.push(a0(r.g()??[]));oe(this,s)})),this.g.attachEmptyPacketListener("blendshapes",(r=>{oe(this,r)}))),this.outputFacialTransformationMatrixes&&(We(t,"face_geometry"),Fe(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",((r,s)=>{if(this.outputFacialTransformationMatrixes)for(const a of r)(r=He(CN(a),_N,2))&&this.j.facialTransformationMatrixes.push({rows:Ar(r,1)??0??0,columns:Ar(r,2)??0??0,data:Xo(r,3,po,Qo()).slice()??[]});oe(this,s)})),this.g.attachEmptyPacketListener("face_geometry",(r=>{oe(this,r)}))),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Tt.prototype.detectForVideo=Tt.prototype.F,Tt.prototype.detect=Tt.prototype.D,Tt.prototype.setOptions=Tt.prototype.o,Tt.createFromModelPath=function(t,e){return Ve(Tt,t,{baseOptions:{modelAssetPath:e}})},Tt.createFromModelBuffer=function(t,e){return Ve(Tt,t,{baseOptions:{modelAssetBuffer:e}})},Tt.createFromOptions=function(t,e){return Ve(Tt,t,e)},Tt.FACE_LANDMARKS_LIPS=h0,Tt.FACE_LANDMARKS_LEFT_EYE=d0,Tt.FACE_LANDMARKS_LEFT_EYEBROW=f0,Tt.FACE_LANDMARKS_LEFT_IRIS=LS,Tt.FACE_LANDMARKS_RIGHT_EYE=p0,Tt.FACE_LANDMARKS_RIGHT_EYEBROW=m0,Tt.FACE_LANDMARKS_RIGHT_IRIS=VS,Tt.FACE_LANDMARKS_FACE_OVAL=g0,Tt.FACE_LANDMARKS_CONTOURS=MS,Tt.FACE_LANDMARKS_TESSELATION=FS;var hi=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!0),ye(t=this.j=new cS,0,1,e=new mt)}get baseOptions(){return He(this.j,mt,1)}set baseOptions(t){ye(this.j,0,1,t)}o(t){return super.l(t)}Ka(t,e,n){const r=typeof e!="function"?e:{};if(this.h=typeof e=="function"?e:n,Pr(this,t,r??{}),!this.h)return this.s}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"stylized_image");const e=new or;Qr(e,xN,this.j);const n=new Pn;lr(n,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"STYLIZED_IMAGE:stylized_image"),n.o(e),ur(t,n),this.g.V("stylized_image",((r,s)=>{var a=!this.h,u=r.data,d=r.width;const f=d*(r=r.height);if(u instanceof Uint8Array)if(u.length===3*f){const y=new Uint8ClampedArray(4*f);for(let _=0;_<f;++_)y[4*_]=u[3*_],y[4*_+1]=u[3*_+1],y[4*_+2]=u[3*_+2],y[4*_+3]=255;u=new ImageData(y,d,r)}else{if(u.length!==4*f)throw Error("Unsupported channel count: "+u.length/f);u=new ImageData(new Uint8ClampedArray(u.buffer,u.byteOffset,u.length),d,r)}else if(!(u instanceof WebGLTexture))throw Error(`Unsupported format: ${u.constructor.name}`);d=new en([u],!1,!1,this.g.i.canvas,this.P,d,r),this.s=a=a?d.clone():d,this.h&&this.h(a),oe(this,s)})),this.g.attachEmptyPacketListener("stylized_image",(r=>{this.s=null,this.h&&this.h(null),oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};hi.prototype.stylize=hi.prototype.Ka,hi.prototype.setOptions=hi.prototype.o,hi.createFromModelPath=function(t,e){return Ve(hi,t,{baseOptions:{modelAssetPath:e}})},hi.createFromModelBuffer=function(t,e){return Ve(hi,t,{baseOptions:{modelAssetBuffer:e}})},hi.createFromOptions=function(t,e){return Ve(hi,t,e)};var y0=Jr([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function _4(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function E4(t){return t.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function w4(t,e=!0){const n=[];for(const s of t){var r=dp(s);t=[];for(const a of r.g())r=e&&Ar(a,1)!=null?Ar(a,1)??0:-1,t.push({score:Pt(a,2)??0,index:r,categoryName:Rr(a,3)??""??"",displayName:Rr(a,4)??""??""});n.push(t)}return n}var er=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ye(t=this.j=new fS,0,1,e=new mt),this.s=new r0,ye(this.j,0,2,this.s),this.C=new n0,ye(this.s,0,3,this.C),this.v=new dS,ye(this.s,0,2,this.v),this.h=new NN,ye(this.j,0,3,this.h),de(this.v,2,.5),de(this.s,4,.5),de(this.C,2,.5)}get baseOptions(){return He(this.j,mt,1)}set baseOptions(t){ye(this.j,0,1,t)}o(t){var s,a,u,d;if(ki(this.v,3,t.numHands??1),"minHandDetectionConfidence"in t&&de(this.v,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&de(this.s,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&de(this.C,2,t.minHandPresenceConfidence??.5),t.cannedGesturesClassifierOptions){var e=new al,n=e,r=p1(t.cannedGesturesClassifierOptions,(s=He(this.h,al,3))==null?void 0:s.h());ye(n,0,2,r),ye(this.h,0,3,e)}else t.cannedGesturesClassifierOptions===void 0&&((a=He(this.h,al,3))==null||a.g());return t.customGesturesClassifierOptions?(ye(n=e=new al,0,2,r=p1(t.customGesturesClassifierOptions,(u=He(this.h,al,4))==null?void 0:u.h())),ye(this.h,0,4,e)):t.customGesturesClassifierOptions===void 0&&((d=He(this.h,al,4))==null||d.g()),this.l(t)}Fa(t,e){return _4(this),Pr(this,t,e),E4(this)}Ga(t,e,n){return _4(this),Ri(this,t,n,e),E4(this)}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"hand_gestures"),We(t,"hand_landmarks"),We(t,"world_hand_landmarks"),We(t,"handedness");const e=new or;Qr(e,DN,this.j);const n=new Pn;lr(n,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"HAND_GESTURES:hand_gestures"),Fe(n,"LANDMARKS:hand_landmarks"),Fe(n,"WORLD_LANDMARKS:world_hand_landmarks"),Fe(n,"HANDEDNESS:handedness"),n.o(e),ur(t,n),this.g.attachProtoVectorListener("hand_landmarks",((r,s)=>{for(const a of r){r=Qc(a);const u=[];for(const d of os(r,nS,1))u.push({x:Pt(d,1)??0,y:Pt(d,2)??0,z:Pt(d,3)??0,visibility:Pt(d,4)??0});this.landmarks.push(u)}oe(this,s)})),this.g.attachEmptyPacketListener("hand_landmarks",(r=>{oe(this,r)})),this.g.attachProtoVectorListener("world_hand_landmarks",((r,s)=>{for(const a of r){r=wl(a);const u=[];for(const d of os(r,tS,1))u.push({x:Pt(d,1)??0,y:Pt(d,2)??0,z:Pt(d,3)??0,visibility:Pt(d,4)??0});this.worldLandmarks.push(u)}oe(this,s)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(r=>{oe(this,r)})),this.g.attachProtoVectorListener("hand_gestures",((r,s)=>{this.gestures.push(...w4(r,!1)),oe(this,s)})),this.g.attachEmptyPacketListener("hand_gestures",(r=>{oe(this,r)})),this.g.attachProtoVectorListener("handedness",((r,s)=>{this.handedness.push(...w4(r)),oe(this,s)})),this.g.attachEmptyPacketListener("handedness",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function T4(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}er.prototype.recognizeForVideo=er.prototype.Ga,er.prototype.recognize=er.prototype.Fa,er.prototype.setOptions=er.prototype.o,er.createFromModelPath=function(t,e){return Ve(er,t,{baseOptions:{modelAssetPath:e}})},er.createFromModelBuffer=function(t,e){return Ve(er,t,{baseOptions:{modelAssetBuffer:e}})},er.createFromOptions=function(t,e){return Ve(er,t,e)},er.HAND_CONNECTIONS=y0;var tr=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ye(t=this.h=new r0,0,1,e=new mt),this.s=new n0,ye(this.h,0,3,this.s),this.j=new dS,ye(this.h,0,2,this.j),ki(this.j,3,1),de(this.j,2,.5),de(this.s,2,.5),de(this.h,4,.5)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return"numHands"in t&&ki(this.j,3,t.numHands??1),"minHandDetectionConfidence"in t&&de(this.j,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&de(this.h,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&de(this.s,2,t.minHandPresenceConfidence??.5),this.l(t)}D(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Pr(this,t,e),T4(this)}F(t,e,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Ri(this,t,n,e),T4(this)}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"hand_landmarks"),We(t,"world_hand_landmarks"),We(t,"handedness");const e=new or;Qr(e,bN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"LANDMARKS:hand_landmarks"),Fe(n,"WORLD_LANDMARKS:world_hand_landmarks"),Fe(n,"HANDEDNESS:handedness"),n.o(e),ur(t,n),this.g.attachProtoVectorListener("hand_landmarks",((r,s)=>{for(const a of r)r=Qc(a),this.landmarks.push(pp(r));oe(this,s)})),this.g.attachEmptyPacketListener("hand_landmarks",(r=>{oe(this,r)})),this.g.attachProtoVectorListener("world_hand_landmarks",((r,s)=>{for(const a of r)r=wl(a),this.worldLandmarks.push(yc(r));oe(this,s)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(r=>{oe(this,r)})),this.g.attachProtoVectorListener("handedness",((r,s)=>{var a=this.handedness,u=a.push;const d=[];for(const f of r){r=dp(f);const y=[];for(const _ of r.g())y.push({score:Pt(_,2)??0,index:Ar(_,1)??0??-1,categoryName:Rr(_,3)??""??"",displayName:Rr(_,4)??""??""});d.push(y)}u.call(a,...d),oe(this,s)})),this.g.attachEmptyPacketListener("handedness",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};tr.prototype.detectForVideo=tr.prototype.F,tr.prototype.detect=tr.prototype.D,tr.prototype.setOptions=tr.prototype.o,tr.createFromModelPath=function(t,e){return Ve(tr,t,{baseOptions:{modelAssetPath:e}})},tr.createFromModelBuffer=function(t,e){return Ve(tr,t,{baseOptions:{modelAssetBuffer:e}})},tr.createFromOptions=function(t,e){return Ve(tr,t,e)},tr.HAND_CONNECTIONS=y0;var US=Jr([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function I4(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function S4(t){try{if(!t.C)return t.h;t.C(t.h)}finally{gp(t)}}function Id(t,e){t=Qc(t),e.push(pp(t))}var ft=class extends Gn{constructor(t,e){super(new Cr(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,ye(t=this.j=new vS,0,1,e=new mt),this.K=new n0,ye(this.j,0,2,this.K),this.Y=new ON,ye(this.j,0,3,this.Y),this.s=new fp,ye(this.j,0,4,this.s),this.H=new aS,ye(this.j,0,5,this.H),this.v=new gS,ye(this.j,0,6,this.v),this.L=new yS,ye(this.j,0,7,this.L),de(this.s,2,.5),de(this.s,3,.3),de(this.H,2,.5),de(this.v,2,.5),de(this.v,3,.3),de(this.L,2,.5),de(this.K,2,.5)}get baseOptions(){return He(this.j,mt,1)}set baseOptions(t){ye(this.j,0,1,t)}o(t){return"minFaceDetectionConfidence"in t&&de(this.s,2,t.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in t&&de(this.s,3,t.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in t&&de(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&de(this.v,2,t.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in t&&de(this.v,3,t.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in t&&de(this.L,2,t.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&de(this.K,2,t.minHandLandmarksConfidence??.5),this.l(t)}D(t,e,n){const r=typeof e!="function"?e:{};return this.C=typeof e=="function"?e:n,I4(this),Pr(this,t,r),S4(this)}F(t,e,n,r){const s=typeof n!="function"?n:{};return this.C=typeof n=="function"?n:r,I4(this),Ri(this,t,s,e),S4(this)}m(){var t=new Wn;ct(t,"input_frames_image"),We(t,"pose_landmarks"),We(t,"pose_world_landmarks"),We(t,"face_landmarks"),We(t,"left_hand_landmarks"),We(t,"left_hand_world_landmarks"),We(t,"right_hand_landmarks"),We(t,"right_hand_world_landmarks");const e=new or,n=new $3;l1(n,1,Xl("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),(function(s,a){if(a!=null)if(Array.isArray(a))st(s,2,Zf(a,Ny,void 0,void 0,!1));else{if(!(typeof a=="string"||a instanceof Ji||aa(a)))throw Error("invalid value in Any.value field: "+a+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");l1(s,2,Iy(a,!1),la())}})(n,this.j.g());const r=new Pn;lr(r,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),cf(r,8,$3,n),ot(r,"IMAGE:input_frames_image"),Fe(r,"POSE_LANDMARKS:pose_landmarks"),Fe(r,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),Fe(r,"FACE_LANDMARKS:face_landmarks"),Fe(r,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),Fe(r,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),Fe(r,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),Fe(r,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),r.o(e),ur(t,r),mp(this,t),this.g.attachProtoListener("pose_landmarks",((s,a)=>{Id(s,this.h.poseLandmarks),oe(this,a)})),this.g.attachEmptyPacketListener("pose_landmarks",(s=>{oe(this,s)})),this.g.attachProtoListener("pose_world_landmarks",((s,a)=>{var u=this.h.poseWorldLandmarks;s=wl(s),u.push(yc(s)),oe(this,a)})),this.g.attachEmptyPacketListener("pose_world_landmarks",(s=>{oe(this,s)})),this.outputPoseSegmentationMasks&&(Fe(r,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),Ll(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",((s,a)=>{this.h.poseSegmentationMasks=[Fl(this,s,!0,!this.C)],oe(this,a)})),this.g.attachEmptyPacketListener("pose_segmentation_mask",(s=>{this.h.poseSegmentationMasks=[],oe(this,s)}))),this.g.attachProtoListener("face_landmarks",((s,a)=>{Id(s,this.h.faceLandmarks),oe(this,a)})),this.g.attachEmptyPacketListener("face_landmarks",(s=>{oe(this,s)})),this.outputFaceBlendshapes&&(We(t,"extra_blendshapes"),Fe(r,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",((s,a)=>{var u=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(s=dp(s),u.push(a0(s.g()??[]))),oe(this,a)})),this.g.attachEmptyPacketListener("extra_blendshapes",(s=>{oe(this,s)}))),this.g.attachProtoListener("left_hand_landmarks",((s,a)=>{Id(s,this.h.leftHandLandmarks),oe(this,a)})),this.g.attachEmptyPacketListener("left_hand_landmarks",(s=>{oe(this,s)})),this.g.attachProtoListener("left_hand_world_landmarks",((s,a)=>{var u=this.h.leftHandWorldLandmarks;s=wl(s),u.push(yc(s)),oe(this,a)})),this.g.attachEmptyPacketListener("left_hand_world_landmarks",(s=>{oe(this,s)})),this.g.attachProtoListener("right_hand_landmarks",((s,a)=>{Id(s,this.h.rightHandLandmarks),oe(this,a)})),this.g.attachEmptyPacketListener("right_hand_landmarks",(s=>{oe(this,s)})),this.g.attachProtoListener("right_hand_world_landmarks",((s,a)=>{var u=this.h.rightHandWorldLandmarks;s=wl(s),u.push(yc(s)),oe(this,a)})),this.g.attachEmptyPacketListener("right_hand_world_landmarks",(s=>{oe(this,s)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ft.prototype.detectForVideo=ft.prototype.F,ft.prototype.detect=ft.prototype.D,ft.prototype.setOptions=ft.prototype.o,ft.createFromModelPath=function(t,e){return Ve(ft,t,{baseOptions:{modelAssetPath:e}})},ft.createFromModelBuffer=function(t,e){return Ve(ft,t,{baseOptions:{modelAssetBuffer:e}})},ft.createFromOptions=function(t,e){return Ve(ft,t,e)},ft.HAND_CONNECTIONS=y0,ft.POSE_CONNECTIONS=US,ft.FACE_LANDMARKS_LIPS=h0,ft.FACE_LANDMARKS_LEFT_EYE=d0,ft.FACE_LANDMARKS_LEFT_EYEBROW=f0,ft.FACE_LANDMARKS_LEFT_IRIS=LS,ft.FACE_LANDMARKS_RIGHT_EYE=p0,ft.FACE_LANDMARKS_RIGHT_EYEBROW=m0,ft.FACE_LANDMARKS_RIGHT_IRIS=VS,ft.FACE_LANDMARKS_FACE_OVAL=g0,ft.FACE_LANDMARKS_CONTOURS=MS,ft.FACE_LANDMARKS_TESSELATION=FS;var wr=class extends Gn{constructor(t,e){super(new Cr(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},ye(t=this.h=new _S,0,1,e=new mt)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return ye(this.h,0,2,p1(t,He(this.h,Zy,2))),this.l(t)}qa(t,e){return this.j={classifications:[]},Pr(this,t,e),this.j}ra(t,e,n){return this.j={classifications:[]},Ri(this,t,n,e),this.j}m(){var t=new Wn;ct(t,"input_image"),ct(t,"norm_rect"),We(t,"classifications");const e=new or;Qr(e,LN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),ot(n,"IMAGE:input_image"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"CLASSIFICATIONS:classifications"),n.o(e),ur(t,n),this.g.attachProtoListener("classifications",((r,s)=>{this.j=(function(a){const u={classifications:os(a,wN,1).map((d=>{var f;return a0(((f=He(d,JI,4))==null?void 0:f.g())??[],Ar(d,2)??0,Rr(d,3)??"")}))};return s1(bl(a,2))!=null&&(u.timestampMs=s1(bl(a,2))??0),u})(TN(r)),oe(this,s)})),this.g.attachEmptyPacketListener("classifications",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};wr.prototype.classifyForVideo=wr.prototype.ra,wr.prototype.classify=wr.prototype.qa,wr.prototype.setOptions=wr.prototype.o,wr.createFromModelPath=function(t,e){return Ve(wr,t,{baseOptions:{modelAssetPath:e}})},wr.createFromModelBuffer=function(t,e){return Ve(wr,t,{baseOptions:{modelAssetBuffer:e}})},wr.createFromOptions=function(t,e){return Ve(wr,t,e)};var nr=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!0),this.h=new ES,this.embeddings={embeddings:[]},ye(t=this.h,0,1,e=new mt)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){var e=this.h,n=He(this.h,J3,2);return n=n?n.clone():new J3,t.l2Normalize!==void 0?Dc(n,1,t.l2Normalize):"l2Normalize"in t&&st(n,1),t.quantize!==void 0?Dc(n,2,t.quantize):"quantize"in t&&st(n,2),ye(e,0,2,n),this.l(t)}xa(t,e){return Pr(this,t,e),this.embeddings}ya(t,e,n){return Ri(this,t,n,e),this.embeddings}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"embeddings_out");const e=new or;Qr(e,VN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"EMBEDDINGS:embeddings_out"),n.o(e),ur(t,n),this.g.attachProtoListener("embeddings_out",((r,s)=>{r=AN(r),this.embeddings=(function(a){return{embeddings:os(a,SN,1).map((u=>{var f,y;const d={headIndex:Ar(u,3)??0??-1,headName:Rr(u,4)??""??""};if(vI(u,Y3,yg(u,1))!==void 0)u=Xo(u=He(u,Y3,yg(u,1)),1,po,Qo()),d.floatEmbedding=u.slice();else{const _=new Uint8Array(0);d.quantizedEmbedding=((y=(f=He(u,IN,yg(u,2)))==null?void 0:f.ma())==null?void 0:y.h())??_}return d})),timestampMs:s1(bl(a,2))??0}})(r),oe(this,s)})),this.g.attachEmptyPacketListener("embeddings_out",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};nr.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=r4(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=r4(n4(t.quantizedEmbedding),n4(e.quantizedEmbedding))}return t},nr.prototype.embedForVideo=nr.prototype.ya,nr.prototype.embed=nr.prototype.xa,nr.prototype.setOptions=nr.prototype.o,nr.createFromModelPath=function(t,e){return Ve(nr,t,{baseOptions:{modelAssetPath:e}})},nr.createFromModelBuffer=function(t,e){return Ve(nr,t,{baseOptions:{modelAssetBuffer:e}})},nr.createFromOptions=function(t,e){return Ve(nr,t,e)};var v1=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach((n=>{n.close()})),(e=this.categoryMask)==null||e.close()}};function A4(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function k4(t){try{const e=new v1(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{gp(t)}}v1.prototype.close=v1.prototype.close;var Bn=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new o0,this.v=new wS,ye(this.h,0,3,this.v),ye(t=this.h,0,1,e=new mt)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?st(this.h,2,Xl(t.displayNamesLocale)):"displayNamesLocale"in t&&st(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}J(){(function(t){var n,r;const e=os(t.ca(),Pn,1).filter((s=>(Rr(s,1)??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator")));if(t.s=[],e.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");e.length===1&&(((r=(n=He(e[0],or,7))==null?void 0:n.l())==null?void 0:r.g())??new Map).forEach(((s,a)=>{t.s[Number(a)]=Rr(s,1)??""}))})(this)}segment(t,e,n){const r=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:n,A4(this),Pr(this,t,r),k4(this)}Ia(t,e,n,r){const s=typeof n!="function"?n:{};return this.j=typeof n=="function"?n:r,A4(this),Ri(this,t,s,e),k4(this)}Ba(){return this.s}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect");const e=new or;Qr(e,IS,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),n.o(e),ur(t,n),mp(this,t),this.outputConfidenceMasks&&(We(t,"confidence_masks"),Fe(n,"CONFIDENCE_MASKS:confidence_masks"),Ll(this,"confidence_masks"),this.g.ba("confidence_masks",((r,s)=>{this.confidenceMasks=r.map((a=>Fl(this,a,!0,!this.j))),oe(this,s)})),this.g.attachEmptyPacketListener("confidence_masks",(r=>{this.confidenceMasks=[],oe(this,r)}))),this.outputCategoryMask&&(We(t,"category_mask"),Fe(n,"CATEGORY_MASK:category_mask"),Ll(this,"category_mask"),this.g.V("category_mask",((r,s)=>{this.categoryMask=Fl(this,r,!1,!this.j),oe(this,s)})),this.g.attachEmptyPacketListener("category_mask",(r=>{this.categoryMask=void 0,oe(this,r)}))),We(t,"quality_scores"),Fe(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((r,s)=>{this.qualityScores=r,oe(this,s)})),this.g.attachEmptyPacketListener("quality_scores",(r=>{this.categoryMask=void 0,oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Bn.prototype.getLabels=Bn.prototype.Ba,Bn.prototype.segmentForVideo=Bn.prototype.Ia,Bn.prototype.segment=Bn.prototype.segment,Bn.prototype.setOptions=Bn.prototype.o,Bn.createFromModelPath=function(t,e){return Ve(Bn,t,{baseOptions:{modelAssetPath:e}})},Bn.createFromModelBuffer=function(t,e){return Ve(Bn,t,{baseOptions:{modelAssetBuffer:e}})},Bn.createFromOptions=function(t,e){return Ve(Bn,t,e)};var _1=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){var t,e;(t=this.confidenceMasks)==null||t.forEach((n=>{n.close()})),(e=this.categoryMask)==null||e.close()}};_1.prototype.close=_1.prototype.close;var qN=class extends ce{constructor(t){super(t)}},ll=[0,St,-2],pf=[0,qi,-3,pt,qi,-1],R4=[0,pf],C4=[0,pf,St,-1],Sg=class extends ce{constructor(t){super(t)}},P4=[0,qi,-1,pt],KN=class extends ce{constructor(t){super(t)}},x4=class extends ce{constructor(t){super(t)}},E1=[1,2,3,4,5,6,7,8,9,10,14,15],BS=class extends ce{constructor(t){super(t)}};BS.prototype.g=hp([0,Gt,[0,E1,Qe,pf,Qe,[0,pf,ll],Qe,R4,Qe,[0,R4,ll],Qe,P4,Qe,[0,qi,-3,pt,sr],Qe,[0,qi,-3,pt],Qe,[0,Xe,qi,-2,pt,St,pt,-1,2,qi,ll],Qe,C4,Qe,[0,C4,ll],qi,ll,Xe,Qe,[0,qi,-3,pt,ll,-1],Qe,[0,Gt,P4]],Xe,[0,Xe,St,-1,pt]]);var di=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new o0,this.s=new wS,ye(this.h,0,3,this.s),ye(t=this.h,0,1,e=new mt)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}segment(t,e,n,r){const s=typeof n!="function"?n:{};this.j=typeof n=="function"?n:r,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.B+1,r=new BS;const a=new x4;var u=new qN;if(ki(u,1,255),ye(a,0,12,u),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var d=new Sg;Dc(d,3,!0),de(d,1,e.keypoint.x),de(d,2,e.keypoint.y),mc(a,5,E1,d)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(d of(u=new KN,e.scribble))Dc(e=new Sg,3,!0),de(e,1,d.x),de(e,2,d.y),cf(u,1,Sg,e);mc(a,15,E1,u)}cf(r,1,x4,a),this.g.addProtoToStream(r.g(),"drishti.RenderData","roi_in",n),Pr(this,t,s);e:{try{const y=new _1(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var f=y;break e}this.j(y)}finally{gp(this)}f=void 0}return f}m(){var t=new Wn;ct(t,"image_in"),ct(t,"roi_in"),ct(t,"norm_rect_in");const e=new or;Qr(e,IS,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),ot(n,"IMAGE:image_in"),ot(n,"ROI:roi_in"),ot(n,"NORM_RECT:norm_rect_in"),n.o(e),ur(t,n),mp(this,t),this.outputConfidenceMasks&&(We(t,"confidence_masks"),Fe(n,"CONFIDENCE_MASKS:confidence_masks"),Ll(this,"confidence_masks"),this.g.ba("confidence_masks",((r,s)=>{this.confidenceMasks=r.map((a=>Fl(this,a,!0,!this.j))),oe(this,s)})),this.g.attachEmptyPacketListener("confidence_masks",(r=>{this.confidenceMasks=[],oe(this,r)}))),this.outputCategoryMask&&(We(t,"category_mask"),Fe(n,"CATEGORY_MASK:category_mask"),Ll(this,"category_mask"),this.g.V("category_mask",((r,s)=>{this.categoryMask=Fl(this,r,!1,!this.j),oe(this,s)})),this.g.attachEmptyPacketListener("category_mask",(r=>{this.categoryMask=void 0,oe(this,r)}))),We(t,"quality_scores"),Fe(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((r,s)=>{this.qualityScores=r,oe(this,s)})),this.g.attachEmptyPacketListener("quality_scores",(r=>{this.categoryMask=void 0,oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};di.prototype.segment=di.prototype.segment,di.prototype.setOptions=di.prototype.o,di.createFromModelPath=function(t,e){return Ve(di,t,{baseOptions:{modelAssetPath:e}})},di.createFromModelBuffer=function(t,e){return Ve(di,t,{baseOptions:{modelAssetBuffer:e}})},di.createFromOptions=function(t,e){return Ve(di,t,e)};var Tr=class extends Gn{constructor(t,e){super(new Cr(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},ye(t=this.h=new SS,0,1,e=new mt)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?st(this.h,2,Xl(t.displayNamesLocale)):"displayNamesLocale"in t&&st(this.h,2),t.maxResults!==void 0?ki(this.h,3,t.maxResults):"maxResults"in t&&st(this.h,3),t.scoreThreshold!==void 0?de(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&st(this.h,4),t.categoryAllowlist!==void 0?hf(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&st(this.h,5),t.categoryDenylist!==void 0?hf(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&st(this.h,6),this.l(t)}D(t,e){return this.j={detections:[]},Pr(this,t,e),this.j}F(t,e,n){return this.j={detections:[]},Ri(this,t,n,e),this.j}m(){var t=new Wn;ct(t,"input_frame_gpu"),ct(t,"norm_rect"),We(t,"detections");const e=new or;Qr(e,FN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.ObjectDetectorGraph"),ot(n,"IMAGE:input_frame_gpu"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"DETECTIONS:detections"),n.o(e),ur(t,n),this.g.attachProtoVectorListener("detections",((r,s)=>{for(const a of r)r=eS(a),this.j.detections.push(kS(r));oe(this,s)})),this.g.attachEmptyPacketListener("detections",(r=>{oe(this,r)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Tr.prototype.detectForVideo=Tr.prototype.F,Tr.prototype.detect=Tr.prototype.D,Tr.prototype.setOptions=Tr.prototype.o,Tr.createFromModelPath=async function(t,e){return Ve(Tr,t,{baseOptions:{modelAssetPath:e}})},Tr.createFromModelBuffer=function(t,e){return Ve(Tr,t,{baseOptions:{modelAssetBuffer:e}})},Tr.createFromOptions=function(t,e){return Ve(Tr,t,e)};var w1=class{constructor(t,e,n){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=n}close(){var t;(t=this.segmentationMasks)==null||t.forEach((e=>{e.close()}))}};function N4(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function D4(t){try{const e=new w1(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.s)return e;t.s(e)}finally{gp(t)}}w1.prototype.close=w1.prototype.close;var Rn=class extends Gn{constructor(t,e){super(new Cr(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,ye(t=this.h=new AS,0,1,e=new mt),this.v=new yS,ye(this.h,0,3,this.v),this.j=new gS,ye(this.h,0,2,this.j),ki(this.j,4,1),de(this.j,2,.5),de(this.v,2,.5),de(this.h,4,.5)}get baseOptions(){return He(this.h,mt,1)}set baseOptions(t){ye(this.h,0,1,t)}o(t){return"numPoses"in t&&ki(this.j,4,t.numPoses??1),"minPoseDetectionConfidence"in t&&de(this.j,2,t.minPoseDetectionConfidence??.5),"minTrackingConfidence"in t&&de(this.h,4,t.minTrackingConfidence??.5),"minPosePresenceConfidence"in t&&de(this.v,2,t.minPosePresenceConfidence??.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=t.outputSegmentationMasks??!1),this.l(t)}D(t,e,n){const r=typeof e!="function"?e:{};return this.s=typeof e=="function"?e:n,N4(this),Pr(this,t,r),D4(this)}F(t,e,n,r){const s=typeof n!="function"?n:{};return this.s=typeof n=="function"?n:r,N4(this),Ri(this,t,s,e),D4(this)}m(){var t=new Wn;ct(t,"image_in"),ct(t,"norm_rect"),We(t,"normalized_landmarks"),We(t,"world_landmarks"),We(t,"segmentation_masks");const e=new or;Qr(e,UN,this.h);const n=new Pn;lr(n,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),ot(n,"IMAGE:image_in"),ot(n,"NORM_RECT:norm_rect"),Fe(n,"NORM_LANDMARKS:normalized_landmarks"),Fe(n,"WORLD_LANDMARKS:world_landmarks"),n.o(e),ur(t,n),mp(this,t),this.g.attachProtoVectorListener("normalized_landmarks",((r,s)=>{this.landmarks=[];for(const a of r)r=Qc(a),this.landmarks.push(pp(r));oe(this,s)})),this.g.attachEmptyPacketListener("normalized_landmarks",(r=>{this.landmarks=[],oe(this,r)})),this.g.attachProtoVectorListener("world_landmarks",((r,s)=>{this.worldLandmarks=[];for(const a of r)r=wl(a),this.worldLandmarks.push(yc(r));oe(this,s)})),this.g.attachEmptyPacketListener("world_landmarks",(r=>{this.worldLandmarks=[],oe(this,r)})),this.outputSegmentationMasks&&(Fe(n,"SEGMENTATION_MASK:segmentation_masks"),Ll(this,"segmentation_masks"),this.g.ba("segmentation_masks",((r,s)=>{this.segmentationMasks=r.map((a=>Fl(this,a,!0,!this.s))),oe(this,s)})),this.g.attachEmptyPacketListener("segmentation_masks",(r=>{this.segmentationMasks=[],oe(this,r)}))),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Rn.prototype.detectForVideo=Rn.prototype.F,Rn.prototype.detect=Rn.prototype.D,Rn.prototype.setOptions=Rn.prototype.o,Rn.createFromModelPath=function(t,e){return Ve(Rn,t,{baseOptions:{modelAssetPath:e}})},Rn.createFromModelBuffer=function(t,e){return Ve(Rn,t,{baseOptions:{modelAssetBuffer:e}})},Rn.createFromOptions=function(t,e){return Ve(Rn,t,e)},Rn.POSE_CONNECTIONS=US;class QN{constructor(){this.stream=null,this.videoElement=null,this.isActive=!1,this.poseLandmarker=null,this.lastVideoTime=-1,this.landmarks=null,this.worldLandmarks=null,this.canvasElement=null,this.canvasCtx=null}async init(){try{const e=await Wo.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm");return this.poseLandmarker=await Rn.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_lite/float16/1/pose_landmarker_lite.task",delegate:"GPU"},runningMode:"VIDEO",numPoses:1,minPoseDetectionConfidence:.5,minPosePresenceConfidence:.5,minTrackingConfidence:.5}),this.stream=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"user"}}),this.videoElement=document.createElement("video"),this.videoElement.autoplay=!0,this.videoElement.playsInline=!0,this.videoElement.srcObject=this.stream,await new Promise(n=>{this.videoElement.onloadedmetadata=()=>{this.videoElement.play(),n()}}),this.isActive=!0,console.log("MediaPipe Pose initialized successfully"),!0}catch(e){return console.error("MediaPose initialization error:",e),!1}}getPoseData(){var e;if(!this.isActive||!this.videoElement||!this.poseLandmarker)return null;try{const n=performance.now();if(this.videoElement.currentTime!==this.lastVideoTime){this.lastVideoTime=this.videoElement.currentTime;const r=this.poseLandmarker.detectForVideo(this.videoElement,n);if(r.landmarks&&r.landmarks.length>0){this.landmarks=r.landmarks[0],this.worldLandmarks=((e=r.worldLandmarks)==null?void 0:e[0])||null;const s=this.calculatePoseMetrics(this.landmarks);return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,...s,updatedAt:Date.now(),isDetected:!0}}}return{landmarks:null,worldLandmarks:null,isDetected:!1,updatedAt:Date.now()}}catch(n){return console.error("Error getting pose data:",n),null}}calculatePoseMetrics(e){if(!e||e.length<33)return{rotationY:0,positionY:0,activity:0};const n=e[11],r=e[12],s=e[23],a=e[24],u=e[0],d=n.x-r.x,f=Math.max(-1,Math.min(1,d*2)),y=(s.y+a.y)/2,_=Math.max(-1,Math.min(1,(.6-y)*2)),w={x:(n.x+r.x)/2,y:(n.y+r.y)/2},I={x:(s.x+a.x)/2,y:(s.y+a.y)/2},b=Math.sqrt(Math.pow(w.x-I.x,2)+Math.pow(w.y-I.y,2)),j=Math.max(0,Math.min(1,b*3));return{rotationY:f,positionY:_,activity:j,bodyPoints:{nose:{x:u.x,y:u.y,z:u.z},leftShoulder:{x:n.x,y:n.y,z:n.z},rightShoulder:{x:r.x,y:r.y,z:r.z},leftHip:{x:s.x,y:s.y,z:s.z},rightHip:{x:a.x,y:a.y,z:a.z}}}}setupCanvas(e){this.canvasElement=e,this.canvasCtx=e.getContext("2d")}getVideoElement(){return this.videoElement}drawPose(){if(!this.canvasElement||!this.canvasCtx||!this.videoElement)return;const e=this.canvasCtx,n=this.canvasElement;if(e.save(),e.scale(-1,1),e.drawImage(this.videoElement,-n.width,0,n.width,n.height),e.restore(),this.landmarks&&this.landmarks.length>0){const r=new kn(e);r.drawConnectors(this.landmarks,Rn.POSE_CONNECTIONS,{color:"#00FF00",lineWidth:3}),r.drawLandmarks(this.landmarks,{radius:6,fillColor:"#FF4444",color:"#FFFFFF",lineWidth:2})}}stop(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement=null),this.poseLandmarker&&(this.poseLandmarker.close(),this.poseLandmarker=null),this.isActive=!1,console.log("MediaPipe Pose stopped")}}function XN({userId:t,onPoseUpdate:e}){const[n,r]=J.useState(null);return J.useEffect(()=>{const s=new QN;return(async()=>{await s.init()&&r(s)})(),()=>{s&&s.stop()}},[]),J.useEffect(()=>{if(!n)return;let s=0;const a=2e3,u=async()=>{const d=n.getPoseData();if(d){e==null||e(d);const f=Date.now();if(t&&f-s>=a){s=f;try{await jw(Nf($f,"poseData",t),d,{merge:!0})}catch(y){console.error("Error updating pose data:",y)}}}requestAnimationFrame(u)};u()},[n,t,e]),null}function b4(t){const e={Arms:["Push-Ups","Plank Up-Downs","Tricep Dips","Shoulder Taps"],Legs:["Squats","Lunges","Glute Bridges","Calf Raises"],Core:["Crunches","Plank Hold","Russian Twists","Leg Raises"],Cardio:["Jumping Jacks","High Knees","Burpees","Mountain Climbers"]},n=["Spades","Hearts","Diamonds","Clubs"],r=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"];let s=[];n.forEach(a=>{r.forEach(u=>{const d=typeof u=="number"?u:u==="J"?11:u==="Q"?12:u==="K"?13:14,f=e[t]||e.Arms,y=f[Math.floor(Math.random()*f.length)];s.push({suit:a,face:u,reps:d,exercise:y})})});for(let a=s.length-1;a>0;a--){const u=Math.floor(Math.random()*(a+1));[s[a],s[u]]=[s[u],s[a]]}return s}async function YN(t,e,n,r){const s=Nf($f,"users",t);(await iy(s)).exists()?await zw(s,{totalReps:e,diceBalance:n,[`leaderboard.${r}`]:Hw(e)}):await jw(s,{totalReps:e,diceBalance:n,leaderboard:{[r]:[e]}})}async function JN(t,e,n,r){const s=Nf($f,"users",t);(await iy(s)).exists()&&await zw(s,{[`leaderboard.${r}`]:Hw(e)})}function ZN(){const{muscleGroup:t}=P6(),[e]=X4(),[n,r]=J.useState(null),[s,a]=J.useState(!0),[u,d]=J.useState(null),[f,y]=J.useState(null);return J.useEffect(()=>{const _=e.get("token");_&&fT(e1,_).then(()=>{console.log("Successfully signed in with token")}).catch(I=>{console.error("Error signing in with token:",I),d(I.message),a(!1)});const w=B9(e1,I=>{r(I),a(!1)});return()=>w()},[e]),J.useEffect(()=>{if(!s&&!n&&!e.get("token")){const _=setTimeout(()=>{window.location.href="https://rivalishub.netlify.app"},2e3);return()=>clearTimeout(_)}},[s,n,e]),s?Pe.jsx("div",{className:"loading",children:"Loading..."}):u?Pe.jsxs("div",{className:"loading",children:[Pe.jsxs("p",{children:["Authentication Error: ",u]}),Pe.jsx("p",{children:"Redirecting to login..."})]}):n?Pe.jsx(eD,{userId:n.uid,muscleGroup:t,poseData:f,setPoseData:y}):Pe.jsx("div",{className:"loading",children:Pe.jsx("p",{children:"Not authenticated. Redirecting to login..."})})}function eD({userId:t,muscleGroup:e,poseData:n,setPoseData:r}){const[s,a]=J.useState(b4(e)),[u,d]=J.useState(0),[f,y]=J.useState(0),[_,w]=J.useState(0),[I,b]=J.useState(1),[j,$]=J.useState(!0),[F,te]=J.useState(null);J.useEffect(()=>{(async()=>{const P=await iy(Nf($f,"users",t));P.exists()&&te(P.data().avatarUrl)})()},[t]);const ee=Ce=>{const P=Ce*I;y(S=>S+P),(f+P)%(30*I)===0&&w(S=>S+1*I),YN(t,f+P,_,e),setTimeout(()=>d(S=>S+1),5e3)},le=()=>{$(!1),JN(t,f,_,e),alert(`Session Complete!
Reps: ${f}
Cards: ${u+1}
Dice: ${_}`),setTimeout(()=>window.location.href="https://rivalishub.netlify.app",3e3)},Te=()=>{b(2),d(0),a(b4(e)),$(!0)},ze=s[u];return Pe.jsxs("div",{className:"burnouts-container",children:[Pe.jsx(XN,{userId:t,onPoseUpdate:r}),F&&Pe.jsx("div",{className:"avatar-container",children:Pe.jsx("img",{src:F,alt:"User Avatar",className:"burnouts-avatar"})}),Pe.jsx("div",{className:"deck-view",children:u<s.length&&ze?Pe.jsxs("div",{className:"card",children:[Pe.jsx("h2",{children:ze.exercise}),Pe.jsxs("p",{children:["Reps: ",ze.reps*I]}),Pe.jsx("button",{onClick:()=>ee(ze.reps),children:"Complete Card"})]}):Pe.jsxs("div",{className:"session-end",children:[Pe.jsx("h2",{children:"Deck Complete!"}),Pe.jsx("button",{onClick:Te,children:"Replay x2 Rewards"}),Pe.jsx("button",{onClick:le,children:"End Session"})]})}),Pe.jsxs("div",{className:"stats-panel",children:[Pe.jsxs("p",{children:["Cards Completed: ",u]}),Pe.jsxs("p",{children:["Total Reps: ",f]}),Pe.jsxs("p",{children:["Dice Earned: ",_]})]})]})}function tD(){return Pe.jsx(X6,{children:Pe.jsxs(W6,{children:[Pe.jsx(Sd,{path:"/",element:Pe.jsx(H6,{to:"/burnouts",replace:!0})}),Pe.jsx(Sd,{path:"/burnouts",element:Pe.jsx(_x,{})}),Pe.jsx(Sd,{path:"/burnouts/:muscleGroup",element:Pe.jsx(ZN,{})})]})})}e6.createRoot(document.getElementById("root")).render(Pe.jsx(L4.StrictMode,{children:Pe.jsx(tD,{})}));
